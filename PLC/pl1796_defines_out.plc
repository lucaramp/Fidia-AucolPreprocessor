;       AUCOL Main program
;       file : PL1796.PLC
;*****************************************************************************
;
;PLC Logic:             SL10/DG-98      - Axes with INDRAMAT ECODRIVE03 per K211
;                                       - Serialized POWER switches.
;                                       - Flenco grease lubrication pump.
;                                       - End of travel management
;                                       - Air pressure check
;                                       - Cabinet temperature check
;                                       - Cabinet doors check
;                                       - Machine OFF management
;                                       - gestione extracorsa con solo un bit
;                                             + micro di zero
;                                       - Cleaning pushbutton management
;                                       - ACCU-LUBE o BOTTI pump management
;                                       - Z axis compensation
;                                       - KELVIN axes cooling system
;                                       - Pneumatic pallet unclamp system
;                                       - Aspiration management
;                                       - Pneumatic Roof management
;                                       - Tandem Tool management
;                                       - Motor/Scale system feedback switch management
;                                       - Timers job/spindle management
;
;*****************************************************************************
;*****************************************************************************
;                       AUCOL DEFINITIONS
;*****************************************************************************

.AUCNUM         1,USED
.INCLUDE        "PL1796.GBL"
.INCLUDE        "PL1796.AUC"
.INCLUDE        "PL1796.DEF"
.INCLUDE        "SYSTEM.CND"

;*****************************************************************************
;                       PROCESS NAME DEFINITION
;*****************************************************************************
        .PROCESS        AIR=P2          ;AIR PRESSURE CONTROL
        .PROCESS        DOC=P3          ;ELECTRICAL CABINET DOOR SECURITY MANAGEMENT
        .PROCESS        LUB=P4          ;LUBRICATION MANAGEMENT
        .PROCESS        OFL=P5          ;EXTRALIMIT & RETURN MANAGEMENT
        .PROCESS        OVT=P6          ;OVERTEMPERATURE CHECK
        .PROCESS        REL=P7          ;RELEASE MANAGEMENT
        .PROCESS        SOF=P8          ;CLEANING PUSHBUTTON
        .PROCESS        TM20=P9         ;TIMER 20 mSec.
        .PROCESS        TM1S=P10        ;TIMER 1 Sec.
        .PROCESS        TM1M=P11        ;TIMER 1 Min.
        .PROCESS        TM_SER=P12      ;MT* SERIALIZED BREAKERS
        .PROCESS        PWR=P13         ;ID24C CHECK
        .PROCESS        ASPIKE=P14      ;ANTISPIKE PROCESS
        .PROCESS        WTL=P15         ;WORKING TABLE LIGHT MANAGEMENT
        .PROCESS        INK1=P16        ;READY OF INDRAMAT POWER SUPPLY (K1)
        .PROCESS        RDY_X=P17       ;READY OF X AXIS DRIVE
        .PROCESS        RDY_X1=P18      ;READY OF X AXIS DRIVE
        .PROCESS        RDY_Y=P19       ;READY OF Y AXIS DRIVE
        .PROCESS        RDY_Z=P20       ;READY OF Z AXIS DRIVE
        .PROCESS        ALP=P21         ;ACCU-LUBE PUMP MANAGEMENT
        .PROCESS        OVW=P22         ;CABINET TEMPERATURA WARNING
        .PROCESS        OFF=P23         ;MACHINE OFF PUSHBUTTON MANAGEMENT
        .PROCESS        MANU=P24        ;MACHINE MANUAL PUSHBUTTON MANAGEMENT
        .PROCESS        BOTTI_LV=P25    ;BOTTI OIL LEVEL MANAGEMENT
        .PROCESS        CFB=P26         ;CHECK FILTER BLOCKED
        .PROCESS        COL=P27         ;CHECK OIL LEVEL
        .PROCESS        HPE=P28         ;HYDRAULIC PUMP ENABLE
        .PROCESS        HCOPRE=P29      ;HYDRAULIC COMPENSATION PRESSURE MANAGEMENT
        .PROCESS        AXSRAF=P30      ;AXES COOLING
        .PROCESS        COLMAX=P31      ;CHECK OIL MAXIMUN LEVEL
        .PROCESS        TEMP=P32        ;ELECTRICAL CABINET TEMPERATURE MANAG.BY CAREL
        .PROCESS        PRTM=P33        ;ELECTRICAL CABINET TEMPERATURE PRINTING.
        .PROCESS        RCNTGP=P34      ;READ CNTGP FOR BOXER MACHINE
        .PROCESS        ACMCC=P35       ;Air Coolant Tool
        .PROCESS        WAC_MG=P36      ;Working area cover management |TETTO Y|
        .PROCESS        NIGHT=P37       ;M02 AND NIGHT MODE SELECTED
        .PROCESS        BACKUP=P38      ;DIBKOK SIGNAL MANAGMENT ON BACK-UP SYSTEM
        .PROCESS        ASP1=P39        ;ASPIRATION ON LOSMA SYSTEM
        .PROCESS        LUBSLD=P40      ;Slide lubrication management
        .PROCESS        AIRCOND=P41     ;Electrical cabinet air conditioner management
        .PROCESS        CAB_TEMP=P42    ;Electrical cabinet temperatura check
        .PROCESS        FDDMSG=P43      ;Fidia digital drive XP print msg
        .PROCESS        WXP_MG=P44      ;Working area cover management |TETTO X+|
        .PROCESS        CHK_LXR=P45     ;AXIS IN LOCKING POSITION (DILWXR=1)
        .PROCESS        WXN_MG=P46      ;Working area cover management |TETTO X-|
        .PROCESS        CHK_LXL=P47     ;AXIS IN LOCKING POSITION (DILWXL=1)
        .PROCESS        SKIP_HD=P48     ;SKIP ALL HOLD CONDITION FROM ROOF
        .PROCESS        INS_WXN=P49     ;INSERT X- SIDE ON CARTER
        .PROCESS        INS_WXL=P50     ;INSERT X- SIDE ON RAM
        .PROCESS        INS_WXP=P51     ;INSERT X+ SIDE ON CARTER
        .PROCESS        INS_WXR=P52     ;INSERT X+ SIDE ON RAM
        .PROCESS        REM_WXN=P53     ;REMOVE X- SIDE ON CARTER
        .PROCESS        REM_WXL=P54     ;REMOVE X- SIDE ON RAM
        .PROCESS        REM_WXP=P55     ;REMOVE X+ SIDE ON CARTER
        .PROCESS        REM_WXR=P56     ;REMOVE X+ SIDE ON RAM
        .PROCESS        CK_SPD=P57      ;REMOVE X+ SIDE ON RAM
        .PROCESS        PM01=P58        ;M01 PUSHBUTTON MANAGEMENT
        .PROCESS        PSING=P59       ;SINGLE BLOCK PUSHBUTTON MANAGEMENT
        .PROCESS        PSKIP=P60       ;SKIP BLOCK PUSHBUTTON MANAGEMENT
        .PROCESS        TMMINC=P61
        .PROCESS        SOFCUS=P62      ;CUSTOMER AIRLINE PUSHBUTTON MANAGEMENT
        .PROCESS        XSTAIR=P63      ;Y2G X AXIS STAIR MANAGEMENT
        .PROCESS        WXN3MG=P64      ;Working area cover management |TETTO X-|
        .PROCESS        LUBRAC=P65      ;Racks-pignons lubrication management
        .PROCESS        LUBMAN=P66      ;Axes Lubrication pump management
        .PROCESS        ACMWH=P69       ;Air Coolant Tool WITH DUEVWH
	.PROCESS	BLKOUT=P70      ;BLACK OUT MANAGEMENT
        .PROCESS        TEMP_2=P93      ;ELECTRICAL CABINET TEMPERATURE MANAG.BY PT100
        .PROCESS        XM_MAN=P94      ;XM ENABLE/DISABLE MANAGEMENT (UDSAX-IDENX-UDXOK-IDAXP)
        .PROCESS        YM_MAN=P95      ;YM ENABLE/DISABLE MANAGEMENT (UDSAY-IDENY-UDYOK-IDAYP)
        .PROCESS        ZM_MAN=P96      ;ZM ENABLE/DISABLE MANAGEMENT (UDSAZ-IDENZ-UDZOK-IDAZP)
        .PROCESS        X1_MAN=P97      ;XG ENABLE/DISABLE MANAGEMENT (UDSAX1-IDENX1-UDX1OK-IDAX1P)
        .PROCESS        ROOFMOT=P98     ;roof motorizes
        .PROCESS        OFEORX=P99      ;tabellary END OF RUN X AXIS
        .PROCESS        ROOFMAN=P100    ;ROOF MANAGEMENT CONDITION  
        .PROCESS        XYZ_INST=P101   ;X Y Z GANTRY/TANDEM INSTALLATION
        .PROCESS        RDYCOND=P102    ;AIR COND. READY LEFT AND RIGHT SIDE MANAGEMENT
        .PROCESS        ASPRQ=P103      ;ASPIRATION REQUEST MANAGEMENT
        .PROCESS        ASPPB=P104      ;ASPIRATION PB MANAGEMENT
        .PROCESS        DOCPH=P105      ;PNEUMATIC/HYDRAULIC CABINET DOOR SECURITY MANAGEMENT
        .PROCESS        GRELEV=P107     ;GREASE LEVEL IN LUBRICATION CIRCUIT

        .PROCESS        XMCNT=P108      ;XM AXIS COUNT ON MOTOR OR EXT. TRANSDUCER
        .PROCESS        YMCNT=P109      ;YM AXIS COUNT ON MOTOR OR EXT. TRANSDUCER
        .PROCESS        ZMCNT=P110      ;ZM AXIS COUNT ON MOTOR OR EXT. TRANSDUCER
        .PROCESS        PALPB=P111      ;PALLET PB MANAGEMENT
        .PROCESS        PALCKLCK=P112   ;PALLET LOCK CHECK TO JOB START
        .PROCESS        PALLCK2=P113    ;PNEUMATIC UNLOCK PALLET MANAGEMENT
        .PROCESS        ASP2=P114       ;2X ASPIRATION SYSTEM

;*****************************************************************************
;                       PARAMETERS
;*****************************************************************************

        .PARAM          "RG01",RG01
	.PARAM		"RG02",RG02
	.PARAM		"RG03",RG03
	.PARAM		"RG04",RG04
	.PARAM		"RG05",RG05
	.PARAM		"RG06",RG06
	.PARAM		"RG07",RG07
	.PARAM		"RG08",RG08
	.PARAM		"RG09",RG09
	.PARAM		"RG10",RG10
	.PARAM		"RG11",RG11
	.PARAM		"RG12",RG12
	.PARAM		"RG13",RG13
	.PARAM		"RG14",RG14
	.PARAM		"RG15",RG15
	.PARAM		"RG16",RG16
	.PARAM		"RG17",RG17
	.PARAM		"RG18",RG18
	.PARAM		"RG19",RG19
	.PARAM		"RG20",RG20
	.PARAM		"RG21",RG21
	.PARAM		"RG22",RG22
	.PARAM		"RG23",RG23
	.PARAM		"RG24",RG24
	.PARAM		"RG25",RG25
	.PARAM		"RG26",RG26
	.PARAM		"RG27",RG27
	.PARAM		"RG28",RG28
	.PARAM		"RG29",RG29
	.PARAM		"RG30",RG30
	.PARAM		"RG31",RG31
	.PARAM		"RG32",RG32
	.PARAM		"RG33",RG33
	.PARAM		"RG34",RG34
	.PARAM		"RG35",RG35
	.PARAM		"RG36",RG36
	.PARAM		"RG37",RG37
	.PARAM		"RG38",RG38
	.PARAM		"RG39",RG39
	.PARAM		"RG40",RG40
	.PARAM		"RG41",RG41
	.PARAM		"RG42",RG42
	.PARAM		"RG43",RG43
	.PARAM		"RG44",RG44
	.PARAM		"RG45",RG45
	.PARAM		"RG46",RG46
	.PARAM		"RG47",RG47
	.PARAM		"RG48",RG48
	.PARAM		"RG49",RG49
	.PARAM		"RG50",RG50
	.PARAM		"RG51",RG51
	.PARAM		"RG52",RG52
	.PARAM		"RG53",RG53
	.PARAM		"RG54",RG54
	.PARAM		"RG55",RG55
	.PARAM		"RG56",RG56
	.PARAM		"RG57",RG57
	.PARAM		"RG58",RG58
	.PARAM		"RG59",RG59
	.PARAM		"RG60",RG60
	.PARAM		"RG61",RG61
	.PARAM		"RG62",RG62
	.PARAM		"RG63",RG63
	.PARAM		"RG64",RG64
	.PARAM		"RG65",RG65
	.PARAM		"RG66",RG66
	.PARAM		"RG67",RG67
	.PARAM		"RG68",RG68
	.PARAM		"RG69",RG69
	.PARAM		"RG70",RG70
	.PARAM		"RG71",RG71
	.PARAM		"RG72",RG72
	.PARAM		"RG73",RG73
	.PARAM		"RG74",RG74
	.PARAM		"RG75",RG75
	.PARAM		"RG76",RG76
	.PARAM		"RG77",RG77
	.PARAM		"RG78",RG78
	.PARAM		"RG79",RG79
	.PARAM		"RG80",RG80
	.PARAM		"RG81",RG81
	.PARAM		"RG82",RG82
	.PARAM		"RG83",RG83
	.PARAM		"RG84",RG84
	.PARAM		"RG85",RG85
	.PARAM		"RG86",RG86
	.PARAM		"RG87",RG87
	.PARAM		"RG88",RG88
	.PARAM		"RG89",RG89
	.PARAM		"RG90",RG90
	.PARAM		"RG91",RG91
	.PARAM		"RG92",RG92
	.PARAM		"RG93",RG93
	.PARAM		"RG94",RG94
	.PARAM		"RG95",RG95
	.PARAM		"RG96",RG96
	.PARAM		"RG97",RG97
	.PARAM		"RG98",RG98
	.PARAM		"RG99",RG99
	.PARAM		"RG100",RG100
        .PARAM          "MAX ERROR ON Z MOVING C",MAXZERR
        .PARAM          "C OFFSET TO MAX ERROR POSITION",COFFSET
        .PARAM          "PIVOT AT MAX ERROR",PIVOTMZ
	.PARAM		"DEFAULT VALUE FEED TOLERANCE",RDEFTOLF
	.PARAM		"DEFAULT VALUE SPINDLE TOLERANCE",RDEFTOLS

        .PARAM          "MAX LUBRICATION TIME",TLUBR
        .PARAM          "MIN LUBRICATION TIME",TLUMIN
        .PARAM          "LUBRICATION INTERVAL",TLUBWT
        .PARAM          "MAX LUBRICATION TIME RACK-PIGNON",TLUBRR
        .PARAM          "MIN LUBRICATION TIME RACK-PIGNON",TLUMINR
        .PARAM          "LUBRICATION INTERVAL RACK-PIGNON",TLUBWTR
        .PARAM          "M155 LAHPAR ANGMAX",L.MAX1
        .PARAM          "M155 LAHPAR ANGMIN",L.MIN1
        .PARAM          "M155 LAHPAR VANG",L.ANG1
        .PARAM          "M155 LAHPAR VCURV",L.CRV1
        .PARAM          "M155 LAHPAR VCURVMIN",L.CMI1
        .PARAM          "M155 SRAMPTIME",L.STI1
        .PARAM          "M155 FFWPERC",L.FFW1
        .PARAM          "M155 AXVACCE XM",X.ACC1
        .PARAM          "M155 AXVACCE YM",Y.ACC1
        .PARAM          "M155 AXVACCE ZM",Z.ACC1
        .PARAM          "M155 LAHPAR VANGMIN",L.ANGMIN1
        .PARAM          "M155 LAHPAR RCURVTHR",L.RCUTH1
        .PARAM          "M155 LABUFFER LABUFFERON",L.BUFON1
        .PARAM          "M155 LABUFFER JERK",L.JERK1
        .PARAM          "M155 LABUFFER PSPLINE",L.PSPL1
        .PARAM          "M156 LAHPAR ANGMAX",L.MAX2
        .PARAM          "M156 LAHPAR ANGMIN",L.MIN2
        .PARAM          "M156 LAHPAR VANG",L.ANG2
        .PARAM          "M156 LAHPAR VCURV",L.CRV2
        .PARAM          "M156 LAHPAR VCURVMIN",L.CMI2
        .PARAM          "M156 SRAMPTIME",L.STI2
        .PARAM          "M156 FFWPERC",L.FFW2
        .PARAM          "M156 AXVACCE XM",X.ACC2
        .PARAM          "M156 AXVACCE YM",Y.ACC2
        .PARAM          "M156 AXVACCE ZM",Z.ACC2
        .PARAM          "M156 LAHPAR VANGMIN",L.ANGMIN2
        .PARAM          "M156 LAHPAR RCURVTHR",L.RCUTH2
        .PARAM          "M156 LABUFFER LABUFFERON",L.BUFON2
        .PARAM          "M156 LABUFFER JERK",L.JERK2
        .PARAM          "M156 LABUFFER PSPLINE",L.PSPL2
        .PARAM          "M157 LAHPAR ANGMAX",L.MAX3
        .PARAM          "M157 LAHPAR ANGMIN",L.MIN3
        .PARAM          "M157 LAHPAR VANG",L.ANG3
        .PARAM          "M157 LAHPAR VCURV",L.CRV3
        .PARAM          "M157 LAHPAR VCURVMIN",L.CMI3
        .PARAM          "M157 SRAMPTIME",L.STI3
        .PARAM          "M157 FFWPERC",L.FFW3
        .PARAM          "M157 AXVACCE XM",X.ACC3
        .PARAM          "M157 AXVACCE YM",Y.ACC3
        .PARAM          "M157 AXVACCE ZM",Z.ACC3
        .PARAM          "M157 LAHPAR VANGMIN",L.ANGMIN3
        .PARAM          "M157 LAHPAR RCURVTHR",L.RCUTH3
        .PARAM          "M157 LABUFFER LABUFFERON",L.BUFON3
        .PARAM          "M157 LABUFFER JERK",L.JERK3
        .PARAM          "M157 LABUFFER PSPLINE",L.PSPL3
        .PARAM          "M158 LAHPAR ANGMAX",L.MAX4
        .PARAM          "M158 LAHPAR ANGMIN",L.MIN4
        .PARAM          "M158 LAHPAR VANG",L.ANG4
        .PARAM          "M158 LAHPAR VCURV",L.CRV4
        .PARAM          "M158 LAHPAR VCURVMIN",L.CMI4
        .PARAM          "M158 SRAMPTIME",L.STI4
        .PARAM          "M158 FFWPERC",L.FFW4
        .PARAM          "M158 AXVACCE XM",X.ACC4
        .PARAM          "M158 AXVACCE YM",Y.ACC4
        .PARAM          "M158 AXVACCE ZM",Z.ACC4
        .PARAM          "M158 LAHPAR VANGMIN",L.ANGMIN4
        .PARAM          "M158 LAHPAR RCURVTHR",L.RCUTH4
        .PARAM          "M158 LABUFFER LABUFFERON",L.BUFON4
        .PARAM          "M158 LABUFFER JERK",L.JERK4
        .PARAM          "M158 LABUFFER PSPLINE",L.PSPL4
        .PARAM          "M159 LAHPAR ANGMAX",L.MAX5
        .PARAM          "M159 LAHPAR ANGMIN",L.MIN5
        .PARAM          "M159 LAHPAR VANG",L.ANG5
        .PARAM          "M159 LAHPAR VCURV",L.CRV5
        .PARAM          "M159 LAHPAR VCURVMIN",L.CMI5
        .PARAM          "M159 SRAMPTIME",L.STI5
        .PARAM          "M159 FFWPERC",L.FFW5
        .PARAM          "M159 AXVACCE XM",X.ACC5
        .PARAM          "M159 AXVACCE YM",Y.ACC5
        .PARAM          "M159 AXVACCE ZM",Z.ACC5
        .PARAM          "M159 LAHPAR VANGMIN",L.ANGMIN5
        .PARAM          "M159 LAHPAR RCURVTHR",L.RCUTH5
        .PARAM          "M159 LABUFFER LABUFFERON",L.BUFON5
        .PARAM          "M159 LABUFFER JERK",L.JERK5
        .PARAM          "M159 LABUFFER PSPLINE",L.PSPL5
        .PARAM          "P000562",DIG_TERM
        .PARAM          "M178 AXVSRT XM",SRT_XM_S
        .PARAM          "M178 AXVSRT YM",SRT_YM_S
        .PARAM          "M178 AXVSRT ZM",SRT_ZM_S
        .PARAM          "M179 AXVSRT XM",SRT_XM_F
        .PARAM          "M179 AXVSRT YM",SRT_YM_F
        .PARAM          "M179 AXVSRT ZM",SRT_ZM_F
        .PARAM          "BOTTI PRESENT",BOTTI
        .PARAM          "BOTTI HOLD WAITING TIME",WT_BOTTI
        .PARAM          "DELTA TIME FOR CYCLE TERMOSTAT CONTROL",TMR_CICLE
        .PARAM          "DELTA DEGREE FOR CYCLE TERMOSTAT CONTROL",OUT2_TM
        .PARAM          "LOW LEVEL FOR CYCLE TERMOSTAT CONTROL",SOGLIA_L
        .PARAM          "HIGHT LEVEL FOR CYCLE TERMOSTAT CONTROL",SOGLIA_H
        .PARAM          "TIMER CABINET TEMPERATURE PRINTING",TMR_PRINT
        .PARAM          "OFFSET VALUE FOR REAL TEMPERATURE DISPLAY",OFF_SET
        .PARAM          "TOLLERANCE INCREMENT DEGREE CABINET",GRADI_TOLL
        .PARAM          "TEMPERATURE PRINTING UNIT",TEMP_UN
        .PARAM          "MACHINE SLAVE SELECTION",SLAVE_ON
        .PARAM          "AXES CONDITIONER ENABLE",AXES_EN
        .PARAM          "X TANDEM AXIS DRIVE",XM_TANDEM
        .PARAM          "ERROR E LOW BATTERY PROBE AUCOL SIGNALS",PROBE_SIGN
        .PARAM          "TIME OUT FOR OPENING-CLOSING WORKING AREA COVER",TIME_WAC
        .PARAM          "AUTOMATIC COVER ON WORKING AREA",COVER_ON
        .PARAM          "LOOK AHEAD DISPLAED ON MAIN SCREEN",LK_AHEAD
        .PARAM          "DIBKOK SIGNAL ON BACK_UP SYSTEM",DIBK_EN
        .PARAM          "NIGHT MODE SELECTION",NIGHT_MD
        .PARAM          "TRACER WITH LINEAR TRANSLATOR",PLP_TRS
        .PARAM          "ELETRICAL CABINET MINIMUM TEMPERATURE",CAB_MINT
        .PARAM          "ELETRICAL CABINET MAXIMUM TEMPERATURE",CAB_MAXT
        .PARAM          "DELAY TIME AIR CONDITIONER ON-OFF",TIME_COND
        .PARAM          "ELETRICAL CABINET AIR CONDITIONER MANAGEMENT",AC_MANAG
        .PARAM          "DELTA TEMP. TOLERANCE BETWEEN ELETRICAL CABINET AND PROBE 1",DELTAT_MAX
        .PARAM          "I-O INTERFACE",IOTYPE
        .PARAM          "TIME OUT PUMP ON WAITING DISPUP",PUMP_ON
        .PARAM          "HOKING/UNHOKING PISTON TIME OUT-WORKING AREA COVER SIDE",TIMEXCOVER
        .PARAM          "HOKING/UNHOKING PISTON TIME OUT-WORKING AREA RAM SIDE",TIMEXRAM
        .PARAM          "TIME FOR PUSH BUTTON SERVICE",TM_SERVICE
        .PARAM          "CHECK SAFETY CONDITION WITH ROOF OPEN",CK_ROOF
        .PARAM          "P000027",P000027
        .PARAM          "P000028",P000028
        .PARAM          "ELECTRICAL CABINET DOOR MANAGMENT",DOOR_STAT

        .PARAM          "P000070",P000070
        .PARAM          "P000072",P000072

        .PARAM          "P000088",P000088
        .PARAM          "P000092",P000092
        .PARAM          "P000095",P000095
        .PARAM          "P000096",P000096
        .PARAM          "P000097",P000097
        .PARAM          "P000098",P000098
        .PARAM          "P000099",P000099
        .PARAM          "P000100",P000100
        .PARAM          "P000107",P000107
        .PARAM          "P000144",P000144
        .PARAM          "P000145",P000145
        .PARAM          "P000146",P000146
        .PARAM          "P000147",P000147
        .PARAM          "P000148",P000148
        .PARAM          "P000149",P000149
        .PARAM          "P000150",P000150
        .PARAM          "P000151",P000151
        .PARAM          "P000116",P000116
        .PARAM          "P000165",P000165	;=1 Opzione SCC/A installata	=2 Opzione non installata
        .PARAM          "P000166",P000166	
	.PARAM          "P000167",P000167       
        .PARAM          "P000186",P000186
        .PARAM          "P000187",P000187
        .PARAM          "P000230",P000230
        .PARAM          "RADIUS LIMIT FOR DISABLE FLATNESS COMPENSATION",RAD_LIM
        .PARAM          "P000314",P000314       ;Wait time emergency after hold
        .PARAM          "P000421",P000421       ;DELAY TIME UDSAX-IDENX IN XM ENABLE 
        .PARAM          "P000422",P000422       ;DELAY TIME UDXOK-IDAXP IN XM ENABLE 
        .PARAM          "P000423",P000423       ;DELAY TIME UDSAX-IDENX IN XM DISABLE 
        .PARAM          "P000424",P000424       ;DELAY TIME UDXOK-IDAXP IN XM DISABLE 
        .PARAM          "P000425",P000425       ;DELAY TIME UDSAY-IDENY IN YM ENABLE 
        .PARAM          "P000426",P000426       ;DELAY TIME UDYOK-IDAYP IN YM ENABLE 
        .PARAM          "P000427",P000427       ;DELAY TIME UDSAY-IDENY IN YM DISABLE 
        .PARAM          "P000428",P000428       ;DELAY TIME UDYOK-IDAYP IN YM DISABLE 
        .PARAM          "P000429",P000429       ;DELAY TIME UDSAZ-IDENZ IN ZM ENABLE 
        .PARAM          "P000430",P000430       ;DELAY TIME UDZOK-IDAZP IN ZM ENABLE 
        .PARAM          "P000431",P000431       ;DELAY TIME UDSAZ-IDENZ IN ZM DISABLE 
        .PARAM          "P000432",P000432       ;DELAY TIME UDZOK-IDAZP IN ZM DISABLE 
        .PARAM          "P000433",P000433       ;DELAY TIME UDSAX1-IDENX1 IN X1 ENABLE 
        .PARAM          "P000434",P000434       ;DELAY TIME UDX1OK-IDAX1P IN X1 ENABLE 
        .PARAM          "P000435",P000435       ;DELAY TIME UDSAX1-IDENX1 IN X1 DISABLE 
        .PARAM          "P000436",P000436       ;DELAY TIME UDX1OK-IDAX1P IN X1 DISABLE 
        .PARAM          "P000465",P000465       ;+- tollerance value for automatic roof closed/opened 
        .PARAM          "P000466",P000466       ;Automatic roof closed position 
        .PARAM          "P000467",P000467       ;DELTA VALUE FOR POSITIVE EOR R AXIS referred to 
                                                ;X axis position
        .PARAM          "P000486",P000486
        .PARAM          "P000508",P000508       ;LINEAR AXES MOVEMENT FEED REDUCED with roof open
        .PARAM          "P000530",P000530
        .PARAM          "P000533",tAIRFILRUN
        .PARAM          "P000534",tAIRFILFNG
        .PARAM          "P000552",P000552       ;HYDRAULIC/PNEUMATIC CABINET DOOR OPENED/CLOSED
        .PARAM          "P000569",P000569
        .PARAM          "P000570",P000570
        .PARAM          "P000571",P000571
        .PARAM          "P000572",P000572
        .PARAM          "P000573",P000573
        .PARAM          "P000574",P000574
        .PARAM          "P000575",P000575
        .PARAM          "P000584",P000584
        .PARAM          "P000585",P000585
        .PARAM          "P000610",P000610
        .PARAM          "P000611",P000611
        .PARAM          "P000614",P000614

;*****************************************************************************
;                       AUCOL MESSAGE MANAGEMENT
;*****************************************************************************

	.MSGHANDLER DIPMSG,DULMSG,MPRI01,2688

;*****************************************************************************
;       PROCESS P0 - CHECK EMERGENCIES

PINI:		CCALL   LabelMove,40,PLCVER,PLC2238
                DMSG    2238
                DMSG    2258                    ;Restore Save Par
                EXEC    ENDPRO                  ;stop for processes
                EXEC    RESOUT                  ;Reset bit I/O uso AUCOL
                MCLR    /ALL_MEM_BIT

		CLR     CG2
                CLR     CG4
                CLR     CG6
                CLR     CG7
                CLR     CG8

                CMP     0L,REG_SAVE             ;AUCREG3 SAVED FOR TIMER
        IFNE    JUMP    PINI_00B
		CLR	LOOPMRSREG
                LOAD    P0,PINI_001
PINI_001:       READP   "CNCMODE",MODECNC
                CMP     1L,MODECNC
        IFGE    PEND
                WRITEP  0L,"AUCREG3 99"
		LOAD	P0,PINI_002

PINI_002:	CMP	1500,LOOPMRSREG		;30 SEC
	IFLE	JUMP	PINI_003
		INC	LOOPMRSREG
		PAUSE	1
		PEND

PINI_003:       BSET    MRSREG                  ;AUCREG3 READED FROM INIPAR.AUC
                LOAD    P0,PINI_004
PINI_004:       ACL     MRSREG
        IFNE    PEND
		CLR	LOOPMRSREG
		LOAD	P0,PINI_005
		PEND

PINI_005:	CMP	500,LOOPMRSREG		;30 SEC
	IFLE	JUMP	PINI_006
		INC	LOOPMRSREG
		PAUSE	1
		PEND

PINI_006:       READP  "AUCREG3 99",ENDREADAUC
                CMP     123456L,ENDREADAUC
        IFEQ    JUMP	PINI_00A
		PAUSE	50
		CLR	LOOPMRSREG
		LOAD	P0,PINI_001
		PEND

PINI_00A:       PAUSE   5
                READP  "AUCREG3 92",TOTREGRORA
                READP  "AUCREG3 91",TOTREGMORA
                READP  "AUCREG3 90",TOTREGSORA
PINI_00B:
                MOVE    0L,TOTREGRMIN
                MOVE    0L,TOTREGMMIN
                MOVE    0L,TOTREGSMIN
                MOVE    TOTREGRORA,TMPREGRORA
                MOVE    TOTREGRMIN,TMPREGRMIN
                SUB     TMPREGRORA,TOTREGRORA,PARREGRORA
                SUB     TMPREGRMIN,TOTREGRMIN,PARREGRMIN
                MOVE    TOTREGMORA,TMPREGMORA
                MOVE    TOTREGMMIN,TMPREGMMIN
                SUB     TMPREGMORA,TOTREGMORA,PARREGMORA
                SUB     TMPREGMMIN,TOTREGMMIN,PARREGMMIN
                MOVE    TOTREGSORA,TMPREGSORA
                MOVE    TOTREGSMIN,TMPREGSMIN
                SUB     TMPREGSORA,TOTREGSORA,PARREGSORA
                SUB     TMPREGSMIN,TOTREGSMIN,PARREGSMIN

;*********ACTUAL PRESET VALUE FROM INIPAR.SET
                CMP     1L,RPRES_VAL            ;FROM INITLOAD LEGGO I VALORI DALL'INIPAR.SET
        IFEQ    JUMP    PINI_00C
                READP   "AXVZPR XM",XM_EXT_PR       ;XM PRESET VALUE FROM EXTERNAL
                READP   "AXVZPR YM",YM_EXT_PR       ;YM PRESET VALUE FROM EXTERNAL
                READP   "AXVZPR ZM",ZM_EXT_PR       ;ZM PRESET VALUE FROM EXTERNAL
                READP   "AXVENDATZPR XM",XM_MOT_PR  ;PRESET ON MOTOR COUNTING
                READP   "AXVENDATZPR YM",YM_MOT_PR  ;PRESET ON MOTOR COUNTING
                READP   "AXVENDATZPR ZM",ZM_MOT_PR  ;PRESET ON MOTOR COUNTING
                READP   "AXSCNT2 XM",XM_CNT2
                READP   "AXSCNT2 YM",YM_CNT2
                READP   "AXSCNT2 ZM",ZM_CNT2
                READP   "FDUABSOTHER XM",XMABSOTHER
                READP   "ZERODONENDTENA XM",XMENDATENA

                READP   "AXVZPR XG",XG_EXT_PR       ;X GANTRY PRESET VALUE
                READP   "AXVENDATZPR XG",XG_MOT_PR  ;PRESET ON MOTOR COUNTING
                READP   "AXVTOLL1 XM",XM_EXT_TL1
                READP   "AXVTOLL2 XM",XM_EXT_TL2
                READP   "AXVTOLL1 XG",XG_EXT_TL1
                READP   "AXVTOLL2 XG",XG_EXT_TL2
                READP   "AXSCNT2 XG",XG_CNT2
                READP   "FDUABSOTHER XG",XGABSOTHER
                READP   "ZERODONENDTENA XG",XGENDATENA

                MOVE    1L,RPRES_VAL            ;READING EXECUTED
PINI_00C:
;**********
                MOVE    0L,RSETXM_ACT
                MOVE    0L,RSETXM_OLD
                MOVE    0L,REG3_98ACT
                MOVE    0L,REG3_98OLD
                READP   "FDUACTIVESET XM",SETXM_ACT     ;LEGGO IL SET ATTIVO IN QUESTO MOMENTO DAL PARAMETRO CNC
                CMP     0L,SETXM_ACT
        IFEQ    DMSG    1496
                CMP     1L,SETXM_ACT
        IFEQ    DMSG    1497
                LOAD    XMCNT,XMCNT_INI
                START   XMCNT

                MOVE    0L,RSETYM_ACT
                MOVE    0L,RSETYM_OLD
                MOVE    0L,REG3_97ACT
                MOVE    0L,REG3_97OLD
                READP   "FDUACTIVESET YM",SETYM_ACT     ;LEGGO IL SET ATTIVO IN QUESTO MOMENTO DAL PARAMETRO CNC
                CMP     0L,SETYM_ACT
        IFEQ    DMSG    1498
                CMP     1L,SETYM_ACT
        IFEQ    DMSG    1499
                LOAD    YMCNT,YMCNT_INI
                START   YMCNT

                MOVE    0L,RSETZM_ACT
                MOVE    0L,RSETZM_OLD
                MOVE    0L,REG3_96ACT
                MOVE    0L,REG3_96OLD
                READP   "FDUACTIVESET ZM",SETZM_ACT     ;LEGGO IL SET ATTIVO IN QUESTO MOMENTO DAL PARAMETRO CNC
                CMP     0L,SETZM_ACT
        IFEQ    DMSG    1500
                CMP     1L,SETZM_ACT
        IFEQ    DMSG    1501
                LOAD    ZMCNT,ZMCNT_INI
                START   ZMCNT

                TST     SETXM_ACT
        IFNE    JUMP    PINI_00D
                TST     SETYM_ACT
        IFNE    JUMP    PINI_00D
                TST     SETZM_ACT
        IFNE    JUMP    PINI_00D
                JUMP    PINI_00E
PINI_00D:       DMSG    2259                            ;SAVE PAR DISABLED
PINI_00E:


                WRITEP  0B,"ZERODONE XM"
                WRITEP  0B,"ZERODONE YM"
                WRITEP  0B,"ZERODONE ZM"

                CMP     1L,LK_AHEAD
        IFNE    JUMP    PINI_01
                MOVE    0,VISLOOK
                WRITEP  VISLOOK,"MEMVIS1"

PINI_01:        LOAD    P0,ON.WT

ON.WT:
                BSET    M1Y2GRBLX
                BSET    MDCOVW          ;ELECTRIC. CABINET TEMPERATURE O.K.
                CMP     1,IOTYPE
        IFNE    JUMP    ON.WT1
                ACL     MDLUXOK
        IFEQ    PEND

ON.WT1:         BSET    DUL24M
                LOAD    ASPRQ,ASPRQ.INI
                START   ASPRQ
                LOAD    ASPIKE,ASPIKE.INI
                START   ASPIKE
                LOAD    WTL,WTLINI      ;WORKING TABLE LIGHT MANAGEMENT
                START   WTL
                LOAD    BLKOUT,BLKOUTINI
                START   BLKOUT
                BCLR    IDBLKO          ;TO CNC FOR BUS FREEZER    
                LOAD    OFL,OFLINI      ;Start AUCOL processes always active
                START   OFL             ;EXTRALIMIT & RETURN MANAGEMENT
                LOAD    OVT,OVTINI
                START   OVT             ;OVERTEMPERATURE CHECK
                LOAD    OVW,OVWINI
                START   OVW             ;WARNING TEMPERATURE CHECK
                LOAD    REL,RELINI
                START   REL             ;RELEASE MANAGEMENT
                LOAD    TM20,TM20INI
                START   TM20            ;TIMER
                LOAD    TM1S,TM1SINI
                START   TM1S            ;TIMER
                LOAD    TM1M,TM1MINI
                START   TM1M            ;TIMER
                LOAD    TM_SER,TM_SERINI
                START   TM_SER          ;CHECK MT* SERIALIZED BREAKERS
                LOAD    PWR,PWRINI
                START   PWR             ;ID24C CHECK
                LOAD    OFF,OFF_INI
                START   OFF             ;MACHINE OFF PUSHBUTTON MANAGEMENT
                LOAD    MANU,MANU_INI
                START   MANU            ;MACHINE MANUAL PUSHBUTTON MANAGEMENT
                LOAD    CFB,CFBINI
                START   CFB
                LOAD    COL,COLINI
                START   COL
                LOAD    COLMAX,COLMAX_INI
                START   COLMAX
                LOAD    TEMP,TEMP_INI
                START   TEMP            
                LOAD    TEMP_2,TEMP_2.INI
                START   TEMP_2           
                LOAD    PRTM,PRTM_INI
                START   PRTM            
                LOAD    AIRCOND,AIRCOND_INI
                START   AIRCOND
                LOAD    RDYCOND,RDYCOND.INI
                START   RDYCOND
                LOAD    XM_MAN,XM_MAN_INI
                START   XM_MAN
                LOAD    YM_MAN,YM_MAN_INI
                START   YM_MAN
                LOAD    ZM_MAN,ZM_MAN_INI
                START   ZM_MAN
                LOAD    X1_MAN,X1_MAN_INI
                START   X1_MAN
                
                LOAD    CAB_TEMP,CAB_TEMP_INI
                START   CAB_TEMP

                LOAD    FDDMSG,FDDMSGINI
                START   FDDMSG
                LOAD    TMMINC,TMMINCINI
                START   TMMINC
                LOAD    P0,MAN.WT


MAN.WT:         EXEC    SYSGEN

                EXEC    WRITEAUCR
                BSET    M1Y2GRBLX
                ACL     ID24C           ;Wait machine in manual
        IFEQ    PEND

                EXEC    TANDINSTOF

                BSET    M1Y2GRBLX
                EXEC    CHKREG          ;Verify AUCOL registers
                EXEC    CORXYZ          ;Axes compensation (Thermal and Spindle RPM)
                ACL     MPRI219
        IFNE    DMSG    219     ;/EM MTE: PLC REGISTERS NOT PROPERLY DEFINED/
                LOAD    AIR,AIRINI      ;Start AUCOL processes active in MANU
                START   AIR             ;AIR CHECK
                LOAD    INK1,INK1_INI
                START   INK1            ;READY FROM INDRAMAT POWER SUPPLY
                LOAD    AXSRAF,AXSRAF_INI
                CMP     1,AXES_EN       ;AXES CONDITIONER ENABLE
        IFEQ    START   AXSRAF          ;AXES COOLING
                LOAD    HPE,HPEINI
                START   HPE
                LOAD    HCOPRE,HCOPRE_INI
                START   HCOPRE          ;HYDRAULIC COMPENSATION PRESSURE MANAGEMENT
                LOAD    NIGHT,NIGHT_INI ;M02 E NIGHT MODE SELECTED
                START   NIGHT
                LOAD    BACKUP,BACKUPINI
                START   BACKUP          ;SPINDLE COOLING
                LOAD    PM01,PM01INI
                START   PM01
                LOAD    PSING,PSINGINI
                START   PSING
                LOAD    PSKIP,PSKIPINI
                START   PSKIP
                LOAD    XSTAIR,XSTAIRINI
                START   XSTAIR
                LOAD    WAC_MG,WAC_MG_INI
                START   WAC_MG
                LOAD    PALPB,PALPB.INI
                START   PALPB
                LOAD    PALLCK2,PALLCK2.INI
                START   PALLCK2
                LOAD    PALCKLCK,PALCKLCK.INI
                START   PALCKLCK
                LOAD    P0,AUT.WT

AUT.WT:         EXEC    SYSGEN

                EXEC    WRITEAUCR
                EXEC    CORXYZ     ;Axes compensation (Thermal and Spindle RPM)      ;Thermal axes compensation
                ACL     ID24C           ;Wait machine in manual
        IFEQ    JUMP    CNCOFF
                ACL     ID24A
        IFEQ    PEND
                MCLR    /MEM_BIT_STD

; Restore status of tandem axes installation SoftKey

                EXEC    SKRESTORE


                BCLR    MCNCRE
                BCLR    MHLUBR
                BCLR    MCNCEM
                BCLR    MBL_POSRES      ;HOLD from Position Restore (M294)
                BCLR    MPRI1441
                BCLR    MDM02ON         ;M02 PROGRAMMED FOR NIGHT MANAGEMENT
                BSET    MEXEC           ;M AUCOL EXECUTED
                BSET    DULAUX          ;DULAUX=1 AUTO mode
                BSET    DUBBEN

                LOAD    SOFCUS,SOFCUSINI
                START   SOFCUS
                LOAD    OFEORX,OFEORX_INI
                START   OFEORX
                LOAD    ROOFMOT,ROOFMOTINI
                START   ROOFMOT
                LOAD    ROOFMAN,ROOFMANINI
                START   ROOFMAN
                LOAD    WXP_MG,WXP_MG_INI
                START   WXP_MG
                LOAD    WXN_MG,WXN_MG_INI
                START   WXN_MG
                LOAD    WXN3MG,WXN3MG_INI
                START   WXN3MG
                LOAD    CHK_LXR,CHK_LXRINI
                START   CHK_LXR
                LOAD    CHK_LXL,CHK_LXLINI
                START   CHK_LXL
                LOAD    ASP1,ASP1.INI
                START   ASP1
                LOAD    ASP2,ASP2.INI
                START   ASP2
                LOAD    ASPPB,ASPPB.INI
                START   ASPPB
                LOAD    RDY_X,RDY_X_INI
                START   RDY_X
                LOAD    RDY_X1,RDY_X1_INI
                START   RDY_X1
                LOAD    RDY_Y,RDY_Y_INI
                START   RDY_Y
                LOAD    RDY_Z,RDY_Z_INI
                START   RDY_Z
                LOAD    DOC,DOCINI
                START   DOC
                LOAD    DOCPH,DOCPHINI
                START   DOCPH
                LOAD    GRELEV,GRELEVINI
                START   GRELEV    
                LOAD    LUB,LUBINI
                START   LUB    
                LOAD    LUBSLD,LUBSLDINI
                START   LUBSLD
                LOAD    LUBRAC,LUBRACINI
                START   LUBRAC
                LOAD    SOF,SOFINI
                START   SOF             ;CLEANING PUSHBUTTON
                LOAD    ALP,ALPINI
                START   ALP             ;ACCU-LUBE PUMP MANAGEMENT
                LOAD    BOTTI_LV,BOTTI_LV_INI
                START   BOTTI_LV
                LOAD    ACMCC,ACMCCINI
                START   ACMCC
                LOAD    ACMWH,ACMWHINI
                START   ACMWH
                LOAD    SKIP_HD,SKIP_HDINI      ;SKIP HOLD FROM ROOF
                START   SKIP_HD
                LOAD    INS_WXN,INS_WXNINI
                START   INS_WXN
                LOAD    INS_WXR,INS_WXRINI
                START   INS_WXR
                LOAD    INS_WXL,INS_WXLINI
                START   INS_WXL
                LOAD    INS_WXP,INS_WXPINI
                START   INS_WXP
                LOAD    REM_WXN,REM_WXNINI
                START   REM_WXN
                LOAD    REM_WXP,REM_WXPINI
                START   REM_WXP
                LOAD    REM_WXR,REM_WXRINI
                START   REM_WXR
                LOAD    REM_WXL,REM_WXLINI
                START   REM_WXL
                LOAD    CK_SPD,CK_SPDINI
                START   CK_SPD
                LOAD    LUBMAN,LUBMANINI
                START   LUBMAN
                LOAD    XYZ_INST,XYZ_INST.INI
                START   XYZ_INST


                LOAD    P0,P0.CK

P0.CK:          EXEC    SYSGEN

                EXEC    WRITEAUCR
                EXEC    OFEORR          ;EOR ROOF MANAG. REFERRED TO XM AXIS POSITION
                EXEC    ROOF_STAT       ;ROOF MOTORIZED STATUS CHECK
                EXEC    MSG_ROOF        ;ROOF MOTORIZED MESSAGE
                EXEC    ROOF_BLK        ;ROOF MOTORIZED - BLOCK AND PROGRAMM. DISABLED
                EXEC    CHKREG          ;Verify AUCOL registers
                EXEC    INIZERX         ;X ZERO EXECUTED
                EXEC    INIZERY         ;Y ZERO EXECUTED
                EXEC    INIZERI         ;X Y Z ZERO EXECUTED
                EXEC    CORXYZ      ;Axes compensation (Thermal and Spindle RPM)     ;Thermal axes compensation
                EXEC    AXSMOV
                ACL     MPRI219         ;PLC REGISTERS NOT DEFINED
        IFNE    BSET    MGOMAN          ;Emergency
                ACL     MPRI219
        IFNE    DMSG    219     ;/EM MTE: PLC REGISTERS NOT PROPERLY DEFINED/
                ACL     MCNCEM
        IFNE    JUMP    CNCEME                  ; cnc emergency
                ACL     MCNCRE
        IFNE    JUMP    CNCRES                  ; reset command
                ACL     ID24A
        IFEQ    JUMP    CNCMAN                  ; manual
                ACL     MDSLA
        IFNE    JUMP    CNCSLA                  ; /A command ( link abort )
                ACL     MRTERR
        IFNE    JUMP    RTERR                   ; AUCOL run time error
                PEND

;       ------  OPERATION IN CASE OF EMERCENCIES  ------

RTERR:          BSET    MPLCIN                  ; init aucol logic
                EXEC    ENDPRO                  ; stop processes
                PEND

CNCSLA:
                BSET    MDSLA1
                BSET    MDSLA2
                BSET    MDSLA3
                BSET    MDSLA4
                BSET    MDSLA5
                BSET    MDSLA6
                BSET    MDSLA7
                BSET    MDSLA8
                BSET    MDSLA9
                BSET    MDSLA10
                BCLR    MDSLA
                BCLR    MBL_POSRES      ;HOLD from Position Restore (M294)
                BCLR    MPRI1441
                PEND

CNCEME:
CNCRES:
CNCMAN:         STOP    P1               ;Stop processes active in AUTOMATIC
                LOAD    SOFCUS,SOFCUSOFF
                LOAD    OFEORX,OFEORX_OFF
                LOAD    ROOFMOT,ROOFMOTOFF
                LOAD    ROOFMAN,ROOFMANOFF
                LOAD    WXP_MG,WXP_MG_OFF
                LOAD    WXN_MG,WXN_MG_OFF
                LOAD    WXN3MG,WXN3MG_OFF
                LOAD    CHK_LXR,CHK_LXROFF
                LOAD    CHK_LXL,CHK_LXLOFF
                LOAD    SKIP_HD,SKIP_HDOFF      ;SKIP HOLD FROM ROOF
                LOAD    INS_WXN,INS_WXNOFF
                LOAD    INS_WXR,INS_WXROFF
                LOAD    INS_WXL,INS_WXLOFF
                LOAD    INS_WXP,INS_WXPOFF
                LOAD    REM_WXN,REM_WXNOFF
                LOAD    REM_WXP,REM_WXPOFF
                LOAD    REM_WXR,REM_WXROFF
                LOAD    REM_WXL,REM_WXLOFF
                LOAD    ASP1,ASP1.OFF
                LOAD    ASP2,ASP2.OFF
                LOAD    ASPPB,ASPPB.OFF
                LOAD    RDY_X,RDY_X_OFF
                LOAD    RDY_X1,RDY_X1_OFF
                LOAD    RDY_Y,RDY_Y_OFF
                LOAD    RDY_Z,RDY_Z_OFF
                LOAD    DOC,DOCOFF
                LOAD    DOCPH,DOCPHOFF
                LOAD    LUB,LUBOFF
                LOAD    GRELEV,GRELEVOFF
                LOAD    LUBSLD,LUBSLDOFF
                LOAD    LUBRAC,LUBRACOFF
                LOAD    SOF,SOFOFF
                LOAD    ALP,ALPOFF
                LOAD    BOTTI_LV,BOTTI_LV_OFF
                LOAD    ACMCC,ACMCCOFF
                LOAD    CK_SPD,CK_SPDOFF
                LOAD    LUBMAN,LUBMANOFF
                LOAD    ACMWH,ACMWHOFF
                LOAD    XYZ_INST,XYZ_INST.OFF


                EXEC    CLR_UDLST

                BFLASH  DULAUX,25
                BCLR    MHLUBR
                BCLR    MD_OPROOF          ;OPEN ROOF
                BCLR    MD_CLROOF          ;CLOSE ROOF
                BCLR    MD307ON            ;CLOSE ROOF
                BCLR    MBLTOOLLUB         ;HOLD FROM CONTEMPORARY TOOL LUBRICATION 
                BCLR    MDSLA1
                BCLR    MDSLA2
                BCLR    MDSLA3
                BCLR    MDSLA4
                BCLR    MDSLA5
                BCLR    MDSLA6
                BCLR    MDSLA7
                BCLR    MDSLA8
                BCLR    MDSLA9
                BCLR    MDSLA10
                ACL     ID24C
        IFEQ    JUMP    CNCOFF
                CMP     1,IOTYPE
        IFNE    JUMP    CNCMAN1
                ACL     MDLUXOK
        IFEQ    JUMP    CNCOFF
CNCMAN1:        LOAD    P0,AUT.WT
                PAUSE   5
                PEND

CNCOFF:         BCLR    DULAUX
                LOAD    NIGHT,NIGHT_OFF ;M02 E NIGHT MODE SELECTED
                LOAD    BACKUP,BACKUPOFF   ;Start AUCOL proc active in AUTO
                BCLR    DUBBEN
                LOAD    AIR,AIROFF
                LOAD    INK1,INK1_OFF
                LOAD    AXSRAF,AXSRAF_OFF
                LOAD    HPE,HPEOFF
                LOAD    HCOPRE,HCOPRE_OFF
                LOAD    WAC_MG,WAC_MG_OFF
                LOAD    PM01,PM01OFF
                LOAD    PSING,PSINGOFF
                LOAD    PSKIP,PSKIPOFF
                LOAD    XSTAIR,XSTAIROFF
                CMP     1,IOTYPE
        IFNE    JUMP    CNCOFF1
                ACL     MDLUXOK
        IFEQ    JUMP    CNCBUSERR
CNCOFF1:        LOAD    PALPB,PALPB.OFF
                LOAD    PALLCK2,PALLCK2.OFF
                LOAD    PALCKLCK,PALCKLCK.OFF
                LOAD    P0,MAN.WT
                PAUSE   5
                PEND

CNCBUSERR:      EXEC    ENDPRO                  ;stop for processes
                EXEC    RESOUT                  ;Reset bit I/O uso AUCOL
                LOAD    P0,ON.WT
                PAUSE   5
                PEND

;       ----- COMMON PROCESS EMERGENCY -----

EMERG:          BSET    MGOMAN
                PAUSE   25
                PEND

;****************************************************************
;                       AUCOL SUBROUTINES
;****************************************************************
;-----------------------------------------------------------------
;----- AIR CONDITION CABINET START/STOP --------------------------
;-----------------------------------------------------------------
CAB_AIR:        CMP     TMP_ATT,350L
        IFGE    BSET    MDCABMAXT
                CMP     TMP_ATT,CAB_MAXT
        IFLT    BCLR    MDCABMAXT
                TST     TMP_ATT
        IFEQ    BSET    MDCABMAXT

;----- DOOR CLOSED + CABINET TEMP MAX 35 DEGREE , MIN = CAB_MAXT ( DEFAULT 31 DEGREE )
                ACL     MDPOA1 NG
                IOR     MDCABMAXT
        IFNE    BCLR    MDPOA1TEMP
        IFEQ    BSET    MDPOA1TEMP
                SBEND

;-----------------------------------------------------------------
;----- CABINET OVERTEMPERATURE -----------------------------------
;-----------------------------------------------------------------
CAB_OVERT:      CMP     2,DIG_TERM                      ;PT100 TERMOSTAT
        IFNE    JUMP    10$

;----- OVERTEMPERATURE BY PT100
                CMP     47L,GRADI_ATT                   ;SET OVERTEMPERATURE 47
        IFGT    BSET    MDCOVT                          ;< DI 47 GRADI
        IFLE    BCLR    MDCOVT                          ;> DI 47 GRADI
                SBEND

;----- OVERTEMPERATURE BY IR33 CAREL DEVICE
10$:            ACL     DICOVT
                ACS     MDCOVT
                SBEND

;-----------------------------------------------------------------
;----- ASPIRATOR ENABLE ------------------------------------------
;-----------------------------------------------------------------
ASP_ON:         BCLR    ASP.ER
                BCLR    ASP2.ER
                CMP     1L,P000530
        IFEQ    JUMP    10$
                CMP     3L,P000530
        IFEQ    JUMP    20$
                CMP     4L,P000530
        IFEQ    JUMP    20$
                SBEND

;----- LOSMA GEMINI OR ICARUS
10$:            BSET    DUASLO
                DMSG    167                             ;/EXT: EXTERNAL DEVICE SWITH ON/
                MOVE    ASP.ON,ST.ASP
                SBEND

;----- LOSMA NEWTON
20$:            BSET    UAIRFILENA
                BSET    DUASLO
                DMSG    2293
                MOVE    ASP.ON,ST.ASP
                SBEND

;-----------------------------------------------------------------
;----- 2X ASPIRATOR ENABLE ------------------------------------------
;-----------------------------------------------------------------
ASP2_ON:        BCLR    ASP2.ER
                CMP     4L,P000530
        IFEQ    JUMP    10$
                SBEND

;-----2X LOSMA NEWTON
10$:            BSET    DUASLO2
                DMSG    2646
                MOVE    ASP.ON,ST.ASP2
                SBEND

;-----------------------------------------------------------------
;----- ASPIRATOR DISABLE -----------------------------------------
;-----------------------------------------------------------------
ASP_OF:         BCLR    ASP.ER
                BCLR    ASP2.ER
                CMP     1L,P000530
        IFEQ    JUMP    10$
                CMP     3L,P000530
        IFEQ    JUMP    20$
                CMP     4L,P000530
        IFEQ    JUMP    20$
                SBEND

;----- LOSMA GEMINI OR ICARUS
10$:            BCLR    DUASLO
                DMSG    166                             ;/EXT: EXTERNAL DEVICE SWITH OF/
                MOVE    ASP.OF,ST.ASP
                SBEND

;----- LOSMA NEWTON
20$:            BCLR    UAIRFILENA
                BCLR    DUASLO
                DMSG    2294
                MOVE    ASP.OF,ST.ASP
                SBEND

;-----------------------------------------------------------------
;----- 2X ASPIRATOR DISABLE -----------------------------------------
;-----------------------------------------------------------------
ASP2_OF:        BCLR    ASP2.ER
                CMP     4L,P000530
        IFEQ    JUMP    10$
                SBEND

;----- 2X LOSMA NEWTON
10$:            BCLR    DUASLO2
                DMSG    2647
                MOVE    ASP.OF,ST.ASP2
                SBEND

;-----------------------------------------------------------------
;----- FEED LIMIT ENABLE/DISABLE ---------------------------------
;-----------------------------------------------------------------
FLIM_ENA:       INC     FLIMLOOP
                CMP     FLIMLOOP,5
        IFLT    SBEND
                CLR     FLIMLOOP
                MOVE    CG45,F_LIM
                MOVE    CG46,F_LIMROT

                CMP     CG45,999999
        IFLT    JUMP    1$
                CMP     CG46,999999
        IFLT    JUMP    1$
                BCLR    MFLIM
                JUMP    2$

1$:             BSET    MFLIM
2$:             MOVE    999999,CG45
                MOVE    999999,CG46
                SBEND

;-----------------------------------------------------------------
;----- FEED LIMIT SET --------------------------------------------
;-----------------------------------------------------------------
FLIM_SET:       CMP     F_LIN_VAL,CG45
        IFLE    MOVE    F_LIN_VAL,CG45

                CMP     F_ROT_VAL,CG46
        IFLE    MOVE    F_ROT_VAL,CG46
                SBEND
;-------------------------------------------------------------
;***** AUXILIARY AXIS PROGRAM. E BLOCK EXECUTION DISABLED ****
;-------------------------------------------------------------
ROOF_BLK:       
                SBEND

;*****************************************************************************
;       FINECORSA TETTO AUTOMATIZZATO - IL VALORE POSITIVO CAMBIA 
;       IN FUNZIONE DELLA POSIZIONE DELL'ASSE XM
;*****************************************************************************

OFEORR:     
                SBEND

;----------------------------------------------------------
;***** ROUTINE HOLD MOTORIZED ROOF MANAGEMENT *************
;----------------------------------------------------------

ROOF_STAT:      
                SBEND

;-----------------------------------------
;***** ROUTINE MESSAGE MOTORIZED ROOF 
;-----------------------------------------
MSG_ROOF:
                SBEND

;*******************************************************************************************
;*********Prima limitazione asse XM/YM negativo SU posizione tetto ( tipo GT motorizzato )
;*******************************************************************************************
OFEOR_1:        CMP     5,COVER_ON              ;=5 AUTOMATIC COVER AUX. AXIS INSTALLED
        IFNE    JUMP    OFEOR_1_20   
                ACL     MA2ZDO NG               ;AUX. AXIS ZERO NON ESEGUITO
        IFNE    JUMP    OFEOR_1_20
                ACL     MDROOFCLOS                      ;if ROOF is CLOSE - NEGATIVE offset FCSOFT X/Y = 0
        IFNE    JUMP    OFEOR_1_20

                SUB     AUXPOSATT,P000466,AOFF1_NER     ;P000466=.0001 mm Automatic roof closed position  
                JUMP    OFEOR_1_30                      ; for NEGATIVE FCSOFT TO AXIS WITH ROOF INSTALLED 
                
;************** NEGATIVE FCSOFT X AXIS FOR ROOF POSITION
OFEOR_1_20:     MOVE    0L,AOFF1_NER

OFEOR_1_30:      
;******* SCRITTURA AL CNC DEL VALORE DELL'OFFSET XM/YM NEGATIVE    *************************
                CMP     AOFF1_NER,STOAT1NER
        IFEQ    JUMP    OFEOR_1_40                             ;IF DOESN'T CHANGE , NO WRITE

                CMP     1L,P000569
        IFEQ    WRITEP  AOFF1_NER,"AXVNEROFFS_1 XM"     ;OFFSET XM NEGATIVE FROM AUCOL TO CNC
                CMP     2L,P000569
        IFEQ    WRITEP  AOFF1_NER,"AXVNEROFFS_2 YM"    ;OFFSET YM NEGATIVE FROM AUCOL TO CNC

                MOVE    AOFF1_NER,STOAT1NER             ;STORE ACTUAL OFFSET XM OR YM NEGATIVE
OFEOR_1_40:     SBEND

;*******************************************************************************************
;******** Seconda limitazione asse XM/YM negativo su posizione tetto ( tipo GT non motorizzato )
;*******************************************************************************************

OFEOR_2:        CMP     3L,COVER_ON
        IFNE    JUMP    OFEOR_2_20 
                ACL     M_XNROOFON
        IFNE    JUMP    OFEOR_2_10
                ACL     MDROOFOPXN      ;ROOF OPEN
        IFEQ    JUMP    OFEOR_2_20

                CMP     1L,P000569
        IFEQ    SUB     P000230,XMNER_ORIG,AOFF2_NER    ;FINECORSA XM/YM NEGATIVO LIMITATO CON TETTO APERTO
                CMP     2L,P000569
        IFEQ    SUB     P000230,YMNER_ORIG,AOFF2_NER    ;FINECORSA XM/YM NEGATIVO LIMITATO CON TETTO APERTO
                JUMP	OFEOR_2_30                      ;clear positive software XM/YM end of run 

;************** NEGATIVE FCSOFT X/Y AXIS DURING ROOF CYCLE
OFEOR_2_10:     CMP     1L,P000569
        IFEQ    SUB     P000570,XMNER_ORIG,AOFF2_NER    ;FINECORSA XM/YM NEGATIVO LIMITATO DURING CYCLE
                CMP     2L,P000569
        IFEQ    SUB     P000570,YMNER_ORIG,AOFF2_NER    ;FINECORSA XM/YM NEGATIVO LIMITATO DURING CYCLE
                JUMP	OFEOR_2_30

;************** NEGATIVE FCSOFT X/Y AXIS FOR ROOF POSITION
OFEOR_2_20:     MOVE    0L,AOFF2_NER

OFEOR_2_30:     CMP     AOFF2_NER,STOAT2NER
        IFEQ    JUMP    OFEOR_2_40                               ;IF DOESN'T CHANGE , NO WRITE

                CMP     1L,P000569
        IFEQ    WRITEP  AOFF2_NER,"AXVNEROFFS_2 XM"     ;OFFSET XM NEGATIVE FROM AUCOL TO CNC
                CMP     2L,P000569
        IFEQ    WRITEP  AOFF2_NER,"AXVNEROFFS_2 YM"     ;OFFSET YM NEGATIVE FROM AUCOL TO CNC
                MOVE    AOFF2_NER,STOAT2NER             ;STORE ACTUAL OFFSET NEGATIVE
OFEOR_2_40:     SBEND

;*******************************************************************************************
;******** Terza limitazione asse XM/YM pos/neg su posizione tetto ( tipo GT non motorizzato )
;*******************************************************************************************

OFEOR_3:        CMP     4L,COVER_ON
        IFNE    JUMP    50$
                ACL     M_XNROOFON
        IFNE    JUMP    10$
                ACL     M_XPROOFON
        IFNE    JUMP    20$
                JUMP    50$

10$:            MOVE    0L,AOFF3_PER
                CMP     1L,P000569
        IFEQ    SUB     P000570,XMNER_ORIG,AOFF3_NER    ;FINECORSA XM/YM NEGATIVO LIMITATO DURING CYCLE
                CMP     2L,P000569
        IFEQ    SUB     P000570,YMNER_ORIG,AOFF3_NER    ;FINECORSA XM/YM NEGATIVO LIMITATO DURING CYCLE
                JUMP	60$

20$:            MOVE    0L,AOFF3_NER
                CMP     1L,P000569
        IFEQ    SUB     XMPER_ORIG,P000571,AOFF3_PER    ;FINECORSA XM/YM POSITIVO LIMITATO DURING CYCLE
                CMP     2L,P000569
        IFEQ    SUB     YMPER_ORIG,P000571,AOFF3_PER    ;FINECORSA XM/YM POSITIVO LIMITATO DURING CYCLE
                JUMP	60$

50$:            MOVE    0L,AOFF3_NER
                MOVE    0L,AOFF3_PER

60$:            CMP     AOFF3_NER,STOAT3NER
        IFEQ    JUMP    70$                             ;IF DOESN'T CHANGE , NO WRITE

                CMP     1L,P000569
        IFEQ    WRITEP  AOFF3_NER,"AXVNEROFFS_2 XM"     ;OFFSET XM NEGATIVE FROM AUCOL TO CNC
                CMP     2L,P000569
        IFEQ    WRITEP  AOFF3_NER,"AXVNEROFFS_2 YM"     ;OFFSET YM NEGATIVE FROM AUCOL TO CNC
                MOVE    AOFF3_NER,STOAT3NER             ;STORE ACTUAL OFFSET NEGATIVE

70$:            CMP     AOFF3_PER,STOAT3PER
        IFEQ    JUMP    100$                            ;IF DOESN'T CHANGE , NO WRITE

                CMP     1L,P000569
        IFEQ    WRITEP  AOFF3_PER,"AXVPEROFFS_2 XM"     ;OFFSET XM NEGATIVE FROM AUCOL TO CNC
                CMP     2L,P000569
        IFEQ    WRITEP  AOFF3_PER,"AXVPEROFFS_2 YM"     ;OFFSET YM NEGATIVE FROM AUCOL TO CNC
                MOVE    AOFF3_PER,STOAT3PER             ;STORE ACTUAL OFFSET NEGATIVE

100$:           SBEND


;-----------------------------------------------------------------
;----- ANTISPIKE to DIEVWO ---------------------------------------
;-----------------------------------------------------------------
SPK_EVWO:       ACL     MTIME33
        IFNE    JUMP    1$
                ACL     DIEVWO
                EOR     MDEVWO
        IFEQ    SBEND                           ;DIxx = MDExx
                MOVE    SPKON_EVWO,TIME33       ;0 => 1
                ACL     MDEVWO
        IFNE    MOVE    SPKOF_EVWO,TIME33       ;1 => 0
                BSET    MTIME33

1$:             TST     TIME33
        IFNE    JUMP    2$
                ACL     DIEVWO
                ACS     MDEVWO
                BCLR    MTIME33
                SBEND

2$:             ACL     DIEVWO
                EOR     MDEVWO
        IFEQ    BCLR    MTIME33                 ;DIxx =  MDExx
                SBEND                           ;DIxx <> MDExx

;-----------------------------------------------------------------
;----- ANTISPIKE to DIEVWC ---------------------------------------
;-----------------------------------------------------------------
SPK_EVWC:       ACL     MTIME32
        IFNE    JUMP    1$
                ACL     DIEVWC
                EOR     MDEVWC
        IFEQ    SBEND                           ;DIxx = MDExx
                MOVE    SPKON_EVWC,TIME32       ;0 => 1
                ACL     MDEVWC
        IFNE    MOVE    SPKOF_EVWC,TIME32       ;1 => 0
                BSET    MTIME32

1$:             TST     TIME32
        IFNE    JUMP    2$
                ACL     DIEVWC
                ACS     MDEVWC
                BCLR    MTIME32
                SBEND

2$:             ACL     DIEVWC
                EOR     MDEVWC
        IFEQ    BCLR    MTIME32                 ;DIxx =  MDExx
                SBEND                           ;DIxx <> MDExx

;-----------------------------------------------------------------
;----- ANTISPIKE to DIWRPU ---------------------------------------
;-----------------------------------------------------------------
SPK_WRPU:       ACL     MTIME35
        IFNE    JUMP    1$
                ACL     DIWRPU
                EOR     MDWRPU
        IFEQ    SBEND                           ;DIxx = MDExx
                MOVE    SPKON_WRPU,TIME35       ;0 => 1
                ACL     MDWRPU
        IFNE    MOVE    SPKOF_WRPU,TIME35       ;1 => 0
                BSET    MTIME35

1$:             TST     TIME35
        IFNE    JUMP    2$
                ACL     DIWRPU
                ACS     MDWRPU
                BCLR    MTIME35
                SBEND

2$:             ACL     DIWRPU
                EOR     MDWRPU
        IFEQ    BCLR    MTIME35                 ;DIxx =  MDExx
                SBEND                           ;DIxx <> MDExx

;-----------------------------------------------------------------
;----- ANTISPIKE to DIWRPD ---------------------------------------
;-----------------------------------------------------------------
SPK_WRPD:       ACL     MTIME34
        IFNE    JUMP    1$
                ACL     DIWRPD
                EOR     MDWRPD
        IFEQ    SBEND                           ;DIxx = MDExx
                MOVE    SPKON_WRPD,TIME34       ;0 => 1
                ACL     MDWRPD
        IFNE    MOVE    SPKOF_WRPD,TIME34       ;1 => 0
                BSET    MTIME34

1$:             TST     TIME34
        IFNE    JUMP    2$
                ACL     DIWRPD
                ACS     MDWRPD
                BCLR    MTIME34
                SBEND

2$:             ACL     DIWRPD
                EOR     MDWRPD
        IFEQ    BCLR    MTIME34                 ;DIxx =  MDExx
                SBEND                           ;DIxx <> MDExx

;-----------------------------------------------------------------
;----- ANTISPIKE to DIZACL ---------------------------------------
;-----------------------------------------------------------------
SPK_ZACL:       ACL     MTIME26
        IFNE    JUMP    1$
                ACL     DIZACL
                EOR     MB_DIZACL
        IFEQ    SBEND                           ;DIxx = MDExx
                MOVE    SPKON_ZACL,TIME26       ;0 => 1
                ACL     MB_DIZACL
        IFNE    MOVE    SPKOF_ZACL,TIME26       ;1 => 0
                BSET    MTIME26

1$:             TST     TIME26
        IFNE    JUMP    2$
                ACL     DIZACL
                ACS     MB_DIZACL
                BCLR    MTIME26
                SBEND

2$:             ACL     DIZACL
                EOR     MB_DIZACL
        IFEQ    BCLR    MTIME26                 ;DIxx =  MDExx
                SBEND                           ;DIxx <> MDExx

;-----------------------------------------------------------------
;----- ANTISPIKE to DIOWXP ---------------------------------------
;-----------------------------------------------------------------
SPK_OWXP:       ACL     MTIME50
        IFNE    JUMP    1$
                ACL     DIOWXP
                EOR     MBDIOWXP
        IFEQ    SBEND                           ;DIxx = MDExx
                MOVE    SPKON_OWXP,TIME50       ;0 => 1
                ACL     MBDIOWXP
        IFNE    MOVE    SPKOF_OWXP,TIME50       ;1 => 0
                BSET    MTIME50

1$:             TST     TIME50
        IFNE    JUMP    2$
                ACL     DIOWXP
                ACS     MBDIOWXP
                BCLR    MTIME50
                SBEND

2$:             ACL     DIOWXP
                EOR     MBDIOWXP
        IFEQ    BCLR    MTIME50                 ;DIxx =  MDExx
                SBEND                           ;DIxx <> MDExx

;-----------------------------------------------------------------
;----- ANTISPIKE to DIOWXR ---------------------------------------
;-----------------------------------------------------------------
SPK_OWXR:       ACL     MTIME54
        IFNE    JUMP    1$
                ACL     DIOWXR
                EOR     MBDIOWXR
        IFEQ    SBEND                           ;DIxx = MDExx
                MOVE    SPKON_OWXR,TIME54       ;0 => 1
                ACL     MBDIOWXR
        IFNE    MOVE    SPKOF_OWXR,TIME54       ;1 => 0
                BSET    MTIME54

1$:             TST     TIME54
        IFNE    JUMP    2$
                ACL     DIOWXR
                ACS     MBDIOWXR
                BCLR    MTIME54
                SBEND

2$:             ACL     DIOWXR
                EOR     MBDIOWXR
        IFEQ    BCLR    MTIME54                 ;DIxx =  MDExx
                SBEND                           ;DIxx <> MDExx

;-----------------------------------------------------------------
;----- ANTISPIKE to DIOWXL ---------------------------------------
;-----------------------------------------------------------------
SPK_OWXL:       ACL     MTIME55
        IFNE    JUMP    1$
                ACL     DIOWXL
                EOR     MBDIOWXL
        IFEQ    SBEND                           ;DIxx = MDExx
                MOVE    SPKON_OWXL,TIME55       ;0 => 1
                ACL     MBDIOWXL
        IFNE    MOVE    SPKOF_OWXL,TIME55       ;1 => 0
                BSET    MTIME55

1$:             TST     TIME55
        IFNE    JUMP    2$
                ACL     DIOWXL
                ACS     MBDIOWXL
                BCLR    MTIME55
                SBEND

2$:             ACL     DIOWXL
                EOR     MBDIOWXL
        IFEQ    BCLR    MTIME55                 ;DIxx =  MDExx
                SBEND                           ;DIxx <> MDExx

;-----------------------------------------------------------------
;----- ANTISPIKE to DIOWXN ---------------------------------------
;-----------------------------------------------------------------
SPK_OWXN:       ACL     MTIME51
        IFNE    JUMP    1$
                ACL     DIOWXN
                EOR     MBDIOWXN
        IFEQ    SBEND                           ;DIxx = MDExx
                MOVE    SPKON_OWXN,TIME51       ;0 => 1
                ACL     MBDIOWXN
        IFNE    MOVE    SPKOF_OWXN,TIME51       ;1 => 0
                BSET    MTIME51

1$:             TST     TIME51
        IFNE    JUMP    2$
                ACL     DIOWXN
                ACS     MBDIOWXN
                BCLR    MTIME51
                SBEND

2$:             ACL     DIOWXN
                EOR     MBDIOWXN
        IFEQ    BCLR    MTIME51                 ;DIxx =  MDExx
                SBEND                           ;DIxx <> MDExx

;-----------------------------------------------------------------
;----- ANTISPIKE to DICWXP ---------------------------------------
;-----------------------------------------------------------------
SPK_CWXP:       ACL     MTIME52
        IFNE    JUMP    1$
                ACL     DICWXP
                EOR     MBDICWXP
        IFEQ    SBEND                           ;DIxx = MDExx
                MOVE    SPKON_CWXP,TIME52       ;0 => 1
                ACL     MBDICWXP
        IFNE    MOVE    SPKOF_CWXP,TIME52       ;1 => 0
                BSET    MTIME52

1$:             TST     TIME52
        IFNE    JUMP    2$
                ACL     DICWXP
                ACS     MBDICWXP
                BCLR    MTIME52
                SBEND

2$:             ACL     DICWXP
                EOR     MBDICWXP
        IFEQ    BCLR    MTIME52                 ;DIxx =  MDExx
                SBEND                           ;DIxx <> MDExx

;-----------------------------------------------------------------
;----- ANTISPIKE to DICWXR ---------------------------------------
;-----------------------------------------------------------------
SPK_CWXR:       ACL     MTIME56
        IFNE    JUMP    1$
                ACL     DICWXR
                EOR     MBDICWXR
        IFEQ    SBEND                           ;DIxx = MDExx
                MOVE    SPKON_CWXR,TIME56       ;0 => 1
                ACL     MBDICWXR
        IFNE    MOVE    SPKOF_CWXR,TIME56       ;1 => 0
                BSET    MTIME56

1$:             TST     TIME56
        IFNE    JUMP    2$
                ACL     DICWXR
                ACS     MBDICWXR
                BCLR    MTIME56
                SBEND

2$:             ACL     DICWXR
                EOR     MBDICWXR
        IFEQ    BCLR    MTIME56                 ;DIxx =  MDExx
                SBEND                           ;DIxx <> MDExx

;-----------------------------------------------------------------
;----- ANTISPIKE to DICWXL ---------------------------------------
;-----------------------------------------------------------------
SPK_CWXL:       ACL     MTIME58
        IFNE    JUMP    1$
                ACL     DICWXL
                EOR     MBDICWXL
        IFEQ    SBEND                           ;DIxx = MDExx
                MOVE    SPKON_CWXL,TIME58       ;0 => 1
                ACL     MBDICWXL
        IFNE    MOVE    SPKOF_CWXL,TIME58       ;1 => 0
                BSET    MTIME58

1$:             TST     TIME58
        IFNE    JUMP    2$
                ACL     DICWXL
                ACS     MBDICWXL
                BCLR    MTIME58
                SBEND

2$:             ACL     DICWXL
                EOR     MBDICWXL
        IFEQ    BCLR    MTIME58                 ;DIxx =  MDExx
                SBEND                           ;DIxx <> MDExx

;-----------------------------------------------------------------
;----- ANTISPIKE to DILWXL ---------------------------------------
;-----------------------------------------------------------------
SPK_LWXL:       CMP     2,P000088               ;=2 DILWXL not installed
        IFEQ    JUMP    3$
                ACL     MTIME59
        IFNE    JUMP    1$
                ACL     DILWXL
                EOR     MBDILWXL
        IFEQ    SBEND                           ;DIxx = MDExx
                MOVE    SPKON_LWXL,TIME59       ;0 => 1
                ACL     MBDILWXL
        IFNE    MOVE    SPKOF_LWXL,TIME59       ;1 => 0
                BSET    MTIME59

1$:             TST     TIME59
        IFNE    JUMP    2$
                ACL     DILWXL
                ACS     MBDILWXL
                BCLR    MTIME59
                SBEND

2$:             ACL     DILWXL
                EOR     MBDILWXL
        IFEQ    BCLR    MTIME59                 ;DIxx =  MDExx
                SBEND                           ;DIxx <> MDExx

3$:             BSET    MBDILWXL
                SBEND

;-----------------------------------------------------------------
;----- ANTISPIKE to DILWXR ---------------------------------------
;-----------------------------------------------------------------
SPK_LWXR:       ACL     MTIME57
        IFNE    JUMP    1$
                ACL     DILWXR
                EOR     MBDILWXR
        IFEQ    SBEND                           ;DIxx = MDExx
                MOVE    SPKON_LWXR,TIME57       ;0 => 1
                ACL     MBDILWXR
        IFNE    MOVE    SPKOF_LWXR,TIME57       ;1 => 0
                BSET    MTIME57

1$:             TST     TIME57
        IFNE    JUMP    2$
                ACL     DILWXR
                ACS     MBDILWXR
                BCLR    MTIME57
                SBEND

2$:             ACL     DILWXR
                EOR     MBDILWXR
        IFEQ    BCLR    MTIME57                 ;DIxx =  MDExx
                SBEND                           ;DIxx <> MDExx

;-----------------------------------------------------------------
;----- ANTISPIKE to DICWXN ---------------------------------------
;-----------------------------------------------------------------
SPK_CWXN:       ACL     MTIME53
        IFNE    JUMP    1$
                ACL     DICWXN
                EOR     MBDICWXN
        IFEQ    SBEND                           ;DIxx = MDExx
                MOVE    SPKON_CWXN,TIME53       ;0 => 1
                ACL     MBDICWXN
        IFNE    MOVE    SPKOF_CWXN,TIME53       ;1 => 0
                BSET    MTIME53

1$:             TST     TIME53
        IFNE    JUMP    2$
                ACL     DICWXN
                ACS     MBDICWXN
                BCLR    MTIME53
                SBEND

2$:             ACL     DICWXN
                EOR     MBDICWXN
        IFEQ    BCLR    MTIME53                 ;DIxx =  MDExx
                SBEND                           ;DIxx <> MDExx

;-----------------------------------------------------------------
;----- ANTISPIKE to DIWRL2 ---------------------------------------
;-----------------------------------------------------------------
SPK_WRL2:       ACL     MTIME81
        IFNE    JUMP    1$
                ACL     DIWRL2
                EOR     MDWRL2
        IFEQ    SBEND                           ;DIxx = MDExx
                MOVE    SPKON_WRL2,TIME81       ;0 => 1
                ACL     MDWRL2
        IFNE    MOVE    SPKOF_WRL2,TIME81       ;1 => 0
                BSET    MTIME81

1$:             TST     TIME81
        IFNE    JUMP    2$
                ACL     DIWRL2
                ACS     MDWRL2
                BCLR    MTIME81
                SBEND

2$:             ACL     DIWRL2
                EOR     MDWRL2
        IFEQ    BCLR    MTIME81                 ;DIxx =  MDExx
                SBEND                           ;DIxx <> MDExx

;-----------------------------------------------------------------
;----- ANTISPIKE to DIWRH2 ---------------------------------------
;-----------------------------------------------------------------
SPK_WRH2:       ACL     MTIME82
        IFNE    JUMP    1$
                ACL     DIWRH2
                EOR     MDWRH2
        IFEQ    SBEND                           ;DIxx = MDExx
                MOVE    SPKON_WRH2,TIME82       ;0 => 1
                ACL     MDWRH2
        IFNE    MOVE    SPKOF_WRH2,TIME82       ;1 => 0
                BSET    MTIME82

1$:             TST     TIME82
        IFNE    JUMP    2$
                ACL     DIWRH2
                ACS     MDWRH2
                BCLR    MTIME82
                SBEND

2$:             ACL     DIWRH2
                EOR     MDWRH2
        IFEQ    BCLR    MTIME82                 ;DIxx =  MDExx
                SBEND                           ;DIxx <> MDExx

;-----------------------------------------------------------------
;----- ANTISPIKE to DIBKNB ---------------------------------------
;-----------------------------------------------------------------
SPK_BKNB:       ACL     MTIME79
        IFNE    JUMP    1$
                ACL     DIBKNB
                EOR     MDBKNB
        IFEQ    SBEND                           ;DIxx = MDExx
                MOVE    SPKON_BKNB,TIME79       ;0 => 1
                ACL     MDBKNB
        IFNE    MOVE    SPKOF_BKNB,TIME79       ;1 => 0
                BSET    MTIME79

1$:             TST     TIME79
        IFNE    JUMP    2$
                ACL     DIBKNB
                ACS     MDBKNB
                BCLR    MTIME79
                SBEND

2$:             ACL     DIBKNB
                EOR     MDBKNB
        IFEQ    BCLR    MTIME79                 ;DIxx =  MDExx
                SBEND                           ;DIxx <> MDExx

;-----------------------------------------------------------------
;----- ANTISPIKE to DIACRL ---------------------------------------
;-----------------------------------------------------------------
SPK_ACRL:       ACL     MTIME104
        IFNE    JUMP    1$
                ACL     DIACRL
                EOR     MDACRL
        IFEQ    SBEND                           ;DIxx = MDExx
                MOVE    SPKON_ACRL,TIME104      ;0 => 1
                ACL     MDACRL
        IFNE    MOVE    SPKOF_ACRL,TIME104      ;1 => 0
                BSET    MTIME104

1$:             TST     TIME104
        IFNE    JUMP    2$
                ACL     DIACRL
                ACS     MDACRL
                BCLR    MTIME104
                SBEND

2$:             ACL     DIACRL
                EOR     MDACRL
        IFEQ    BCLR    MTIME104                ;DIxx =  MDExx
                SBEND                           ;DIxx <> MDExx

;-----------------------------------------------------------------
;----- ANTISPIKE to DIACRR ---------------------------------------
;-----------------------------------------------------------------
SPK_ACRR:       ACL     MTIME105
        IFNE    JUMP    1$
                ACL     DIACRR
                EOR     MDACRR
        IFEQ    SBEND                           ;DIxx = MDExx
                MOVE    SPKON_ACRR,TIME105      ;0 => 1
                ACL     MDACRR
        IFNE    MOVE    SPKOF_ACRR,TIME105      ;1 => 0
                BSET    MTIME105

1$:             TST     TIME105
        IFNE    JUMP    2$
                ACL     DIACRR
                ACS     MDACRR
                BCLR    MTIME105
                SBEND

2$:             ACL     DIACRR
                EOR     MDACRR
        IFEQ    BCLR    MTIME105                ;DIxx =  MDExx
                SBEND                           ;DIxx <> MDExx

;-----------------------------------------------------------------
;----- ANTISPIKE to DIACRC ---------------------------------------
;-----------------------------------------------------------------
SPK_ACRC:       ACL     MTIME115
        IFNE    JUMP    1$
                ACL     DIACRC
                EOR     MDACRC
        IFEQ    SBEND                           ;DIxx = MDExx
                MOVE    SPKON_ACRC,TIME115      ;0 => 1
                ACL     MDACRC
        IFNE    MOVE    SPKOF_ACRC,TIME115      ;1 => 0
                BSET    MTIME115

1$:             TST     TIME115
        IFNE    JUMP    2$
                ACL     DIACRC
                ACS     MDACRC
                BCLR    MTIME115
                SBEND

2$:             ACL     DIACRC
                EOR     MDACRC
        IFEQ    BCLR    MTIME115                ;DIxx =  MDExx
                SBEND                           ;DIxx <> MDExx

;-----------------------------------------------------------------
;----- ANTISPIKE to DIACR4 ---------------------------------------
;-----------------------------------------------------------------
SPK_ACR4:       ACL     MTIME116
        IFNE    JUMP    1$
                ACL     DIACR4
                EOR     MDACR4
        IFEQ    SBEND                           ;DIxx = MDExx
                MOVE    SPKON_ACR4,TIME116      ;0 => 1
                ACL     MDACR4
        IFNE    MOVE    SPKOF_ACR4,TIME116      ;1 => 0
                BSET    MTIME116

1$:             TST     TIME116
        IFNE    JUMP    2$
                ACL     DIACR4
                ACS     MDACR4
                BCLR    MTIME116
                SBEND

2$:             ACL     DIACR4
                EOR     MDACR4
        IFEQ    BCLR    MTIME116                ;DIxx =  MDExx
                SBEND                           ;DIxx <> MDExx

;-----------------------------------------------------------------
;----- ANTISPIKE to DIEVG2 ---------------------------------------
;-----------------------------------------------------------------
SPK_EVG2:       CMP     P000584,1L
        IFNE    JUMP    3$

                ACL     MTIME140
        IFNE    JUMP    1$
                ACL     DIEVG2
                EOR     MDEVG2
        IFEQ    SBEND                           ;DIxx = MDExx
                MOVE    SPKON_EVG2,TIME140      ;0 => 1
                ACL     MDEVG2
        IFNE    MOVE    SPKOF_EVG2,TIME140      ;1 => 0
                BSET    MTIME140

1$:             TST     TIME140
        IFNE    JUMP    2$
                ACL     DIEVG2
                ACS     MDEVG2
                BCLR    MTIME140
                SBEND

2$:             ACL     DIEVG2
                EOR     MDEVG2
        IFEQ    BCLR    MTIME140                ;DIxx =  MDExx
                SBEND                           ;DIxx <> MDExx

3$:             BSET    MDEVG2
                SBEND

;-----------------------------------------------------------------
;----- ANTISPIKE to DIAPPU ---------------------------------------
;-----------------------------------------------------------------
SPK_APPU:       ACL     MTIME150
        IFNE    JUMP    1$
                ACL     DIAPPU
                EOR     MBDIAPPU
        IFEQ    SBEND                           ;DIxx = MDExx
                MOVE    SPKON_APPU,TIME150      ;0 => 1
                ACL     MBDIAPPU
        IFNE    MOVE    SPKOF_APPU,TIME150      ;1 => 0
                BSET    MTIME150

1$:             TST     TIME150
        IFNE    JUMP    2$
                ACL     DIAPPU
                ACS     MBDIAPPU
                BCLR    MTIME150
                SBEND

2$:             ACL     DIAPPU
                EOR     MBDIAPPU
        IFEQ    BCLR    MTIME150                ;DIxx =  MDExx
                SBEND                           ;DIxx <> MDExx

;-----------------------------------------------------------------
; Master motor position
;-----------------------------------------------------------------
XMMOTCNT:
                READP   "FDUMOTORPULSE XM",XMMTPULS
                READP   "FDZENCRES XM",XMMTRES
                READP   "FDZAXVMUL XM",XMMTMUL
                READP   "FDZAXVDIV XM",XMMTDIV
                READP   "AXVENDATZPR XM",XMMTZPR
                MOVE    XMMTPULS,F_XMMTPULS
                MOVE    XMMTRES,F_XMMTRES
                MOVE    XMMTMUL,F_XMMTMUL
                MOVE    XMMTDIV,F_XMMTDIV
                MOVE    XMMTZPR,F_XMMTZPR
                TST     F_XMMTRES
        IFEQ    MOVE    1,F_XMMTRES
                DIV     F_XMMTRES,F_XMMTPULS,TMP.2
                MUL     F_XMMTMUL,TMP.2
                TST     F_XMMTDIV
        IFEQ    MOVE    1,F_XMMTDIV
                DIV     F_XMMTDIV,TMP.2,F_XMMTMM
                ADD     F_XMMTZPR,F_XMMTMM
                DIV     10000,F_XMMTMM
                WRITEP  F_XMMTMM,"GP_REAL 00"

;***    SET ORIGIN
                ACL     MDMOTXM
        IFEQ    JUMP    1$

                CMP     #AX_CP,C_XST    ;X axis must be stopped
        IFEQ    MOVE    10,TIME120
                CMP     #AX_CP,C_XST    ;X axis must be stopped
        IFEQ    JUMP    2$
                TST     TIME120         ;Wait refresh by TIMER
        IFNE    JUMP    2$

                READP   "GP_REAL 01",GPREAL01
                CMP     GPREAL01,OLDREAL01
        IFEQ    SBEND

1$:             BSET    MDMOTXM
                MOVE    F_XMMTMM,TMP.2
                NEG     TMP.2
                ADD     GPREAL01,TMP.2,XM_MOT_DX

2$:             ADD     F_XMMTMM,XM_MOT_DX,F_XMMT_O1
                MOVE    F_XMMTMM,OLDFXMMTMM
                MOVE    GPREAL01,OLDREAL01
                WRITEP  F_XMMT_O1,"GP_REAL 01"
                SBEND

;-----------------------------------------------------------------
; Master tandem motor position
;-----------------------------------------------------------------
TXMOTCNT:
                SBEND

;-----------------------------------------------------------------
; Gantry motor position
;-----------------------------------------------------------------
XGMOTCNT:
                READP   "FDUMOTORPULSE XG",XGMTPULS
                READP   "FDZENCRES XG",XGMTRES
                READP   "FDZAXVMUL XG",XGMTMUL
                READP   "FDZAXVDIV XG",XGMTDIV
                READP   "AXVENDATZPR XG",XGMTZPR
                MOVE    XGMTPULS,F_XGMTPULS
                MOVE    XGMTRES,F_XGMTRES
                MOVE    XGMTMUL,F_XGMTMUL
                MOVE    XGMTDIV,F_XGMTDIV
                MOVE    XGMTZPR,F_XGMTZPR
                TST     F_XGMTRES
        IFEQ    MOVE    1,F_XGMTRES
                DIV     F_XGMTRES,F_XGMTPULS,TMP.2
                MUL     F_XGMTMUL,TMP.2
                TST     F_XGMTDIV
        IFEQ    MOVE    1,F_XGMTDIV
                DIV     F_XGMTDIV,TMP.2,F_XGMTMM
                ADD     F_XGMTZPR,F_XGMTMM
                DIV     10000,F_XGMTMM
                WRITEP  F_XGMTMM,"GP_REAL 04"

;***    SET ORIGIN
                ACL     MDMOTXG
        IFEQ    JUMP    1$

                CMP     #AX_CP,C_XST    ;X axis must be stopped
        IFEQ    MOVE    10,TIME122
                CMP     #AX_CP,C_XST    ;X axis must be stopped
        IFEQ    JUMP    2$
                TST     TIME122         ;Wait refresh by TIMER
        IFNE    JUMP    2$

                READP   "GP_REAL 05",GPREAL05
                CMP     GPREAL05,OLDREAL05
        IFEQ    SBEND

1$:             BSET    MDMOTXG
                MOVE    F_XGMTMM,TMP.2
                NEG     TMP.2
                ADD     GPREAL05,TMP.2,XG_MOT_DX

2$:             ADD     F_XGMTMM,XG_MOT_DX,F_XGMT_O1
                MOVE    F_XGMTMM,OLDFXGMTMM
                MOVE    GPREAL05,OLDREAL05
                WRITEP  F_XGMT_O1,"GP_REAL 05"

                SBEND

;-----------------------------------------------------------------
; Gantry tandem motor position
;-----------------------------------------------------------------
TX1MOTCNT:
                READP   "FDUMOTORPULSE TX1",TX1MTPULS
                READP   "FDZENCRES TX1",TX1MTRES
                READP   "FDZAXVMUL TX1",TX1MTMUL
                READP   "FDZAXVDIV TX1",TX1MTDIV
                MOVE    TX1MTPULS,F_TX1MTPUL
                MOVE    TX1MTRES,F_TX1MTRES
                MOVE    TX1MTMUL,F_TX1MTMUL
                MOVE    TX1MTDIV,F_TX1MTDIV
                TST     F_TX1MTRES
        IFEQ    MOVE    1,F_TX1MTRES
                DIV     F_TX1MTRES,F_TX1MTPUL,TMP.2
                MUL     F_TX1MTMUL,TMP.2
                TST     F_TX1MTDIV
        IFEQ    MOVE    1,F_TX1MTDIV
                DIV     F_TX1MTDIV,TMP.2,F_TX1MTMM
                DIV     10000,F_TX1MTMM
                WRITEP  F_TX1MTMM,"GP_REAL 06"

;***    SET ORIGIN
                ACL     MDMOTTX1
        IFEQ    JUMP    1$

                CMP     #AX_CP,C_XST    ;X axis must be stopped
        IFEQ    MOVE    10,TIME123
                CMP     #AX_CP,C_XST    ;X axis must be stopped
        IFEQ    JUMP    2$
                TST     TIME123          ;Wait refresh by TIMER
        IFNE    JUMP    2$

                READP   "GP_REAL 07",GPREAL07
                CMP     GPREAL07,OLDREAL07
        IFEQ    SBEND

1$:             BSET    MDMOTTX1
                MOVE    F_TX1MTMM,TMP.2
                NEG     TMP.2
                ADD     GPREAL07,TMP.2,TX1_MOT_DX

2$:             ADD     F_TX1MTMM,TX1_MOT_DX,F_TX1MT_O1
                MOVE    F_TX1MTMM,OLDFX1MTMM
                MOVE    GPREAL07,OLDREAL07
                WRITEP  F_TX1MT_O1,"GP_REAL 07"

                SBEND

;-----------------------------------------------------------------
; Master scale position
;-----------------------------------------------------------------
XMSCALECNT:     
                READP   "FDURIGAPULSE XM",XMSCPULS
                READP   "FDZRIGAMUL XM",XMSCMUL
                READP   "FDZRIGADIV XM",XMSCDIV
                READP   "AXVZPR XM",XMSCZPR
                MOVE    XMSCPULS,F_XMSCPULS
                MOVE    XMSCMUL,F_XMSCMUL
                MOVE    XMSCDIV,F_XMSCDIV
                MOVE    XMSCZPR,F_XMSCZPR
                MUL     F_XMSCMUL,F_XMSCPULS,TMP.2
                TST     F_XMSCDIV
        IFEQ    MOVE    1,F_XMSCDIV
                DIV     F_XMSCDIV,TMP.2,F_XMSCMM
                ADD     F_XMSCZPR,F_XMSCMM
                DIV     10000,F_XMSCMM
                WRITEP  F_XMSCMM,"GP_REAL 08"

;***    SET ORIGIN
                ACL     MDSCALEXM
        IFEQ    JUMP    1$

                CMP     #AX_CP,C_XST    ;X axis must be stopped
        IFEQ    MOVE    10,TIME124
                CMP     #AX_CP,C_XST    ;X axis must be stopped
        IFEQ    JUMP    2$
                TST     TIME124         ;Wait refresh by TIMER
        IFNE    JUMP    2$

                READP   "GP_REAL 09",GPREAL09
                CMP     GPREAL09,OLDREAL09
        IFEQ    SBEND

1$:             BSET    MDSCALEXM
                MOVE    F_XMSCMM,TMP.2
                NEG     TMP.2
                ADD     GPREAL09,TMP.2,XMSCALE_DX

2$:             ADD     F_XMSCMM,XMSCALE_DX,F_XMSC_O1
                MOVE    F_XMSCMM,OLDFXMSCMM
                MOVE    GPREAL09,OLDREAL09
                WRITEP  F_XMSC_O1,"GP_REAL 09"

                SBEND

;-----------------------------------------------------------------
; Gantry scale position
;-----------------------------------------------------------------
XGSCALECNT:     
                READP   "FDURIGAPULSE XG",XGSCPULS
                READP   "FDZRIGAMUL XG",XGSCMUL
                READP   "FDZRIGADIV XG",XGSCDIV
                READP   "AXVZPR XG",XGSCZPR
                MOVE    XGSCPULS,F_XGSCPULS
                MOVE    XGSCMUL,F_XGSCMUL
                MOVE    XGSCDIV,F_XGSCDIV
                MOVE    XGSCZPR,F_XGSCZPR
                MUL     F_XGSCMUL,F_XGSCPULS,TMP.2
                TST     F_XGSCDIV
        IFEQ    MOVE    1,F_XGSCDIV
                DIV     F_XGSCDIV,TMP.2,F_XGSCMM
                ADD     F_XGSCZPR,F_XGSCMM
                DIV     10000,F_XGSCMM
                WRITEP  F_XGSCMM,"GP_REAL 10"

;***    SET ORIGIN
                ACL     MDSCALEXG
        IFEQ    JUMP    1$

                CMP     #AX_CP,C_XST    ;X axis must be stopped
        IFEQ    MOVE    10,TIME125
                CMP     #AX_CP,C_XST    ;X axis must be stopped
        IFEQ    JUMP    2$
                TST     TIME125         ;Wait refresh by TIMER
        IFNE    JUMP    2$

                READP   "GP_REAL 11",GPREAL11
                CMP     GPREAL11,OLDREAL11
        IFEQ    SBEND

1$:             BSET    MDSCALEXG
                MOVE    F_XGSCMM,TMP.2
                NEG     TMP.2
                ADD     GPREAL11,TMP.2,XGSCALE_DX

2$:             ADD     F_XGSCMM,XGSCALE_DX,F_XGSC_O1
                MOVE    F_XGSCMM,OLDFXGSCMM
                MOVE    GPREAL11,OLDREAL11
                WRITEP  F_XGSC_O1,"GP_REAL 11"

                SBEND

;-----------------------------------------------------------------
; Master motor position
;-----------------------------------------------------------------
YMMOTCNT:       
                READP   "FDUMOTORPULSE YM",YMMTPULS
                READP   "FDZENCRES YM",YMMTRES
                READP   "FDZAXVMUL YM",YMMTMUL
                READP   "FDZAXVDIV YM",YMMTDIV
                READP   "AXVENDATZPR YM",YMMTZPR
                MOVE    YMMTPULS,F_YMMTPULS
                MOVE    YMMTRES,F_YMMTRES
                MOVE    YMMTMUL,F_YMMTMUL
                MOVE    YMMTDIV,F_YMMTDIV
                MOVE    YMMTZPR,F_YMMTZPR
                TST     F_YMMTRES
        IFEQ    MOVE    1,F_YMMTRES
                DIV     F_YMMTRES,F_YMMTPULS,TMP.2
                MUL     F_YMMTMUL,TMP.2
                TST     F_YMMTDIV
        IFEQ    MOVE    1,F_YMMTDIV
                DIV     F_YMMTDIV,TMP.2,F_YMMTMM
                ADD     F_YMMTZPR,F_YMMTMM
                DIV     10000,F_YMMTMM
                WRITEP  F_YMMTMM,"GP_REAL 12"

;***    SET ORIGIN
                ACL     MDMOTYM
        IFEQ    JUMP    1$

                CMP     #AX_CP,C_YST    ;Y axis must be stopped
        IFEQ    MOVE    10,TIME126
                CMP     #AX_CP,C_YST    ;Y axis must be stopped
        IFEQ    JUMP    2$
                TST     TIME126         ;Wait refresh by TIMER
        IFNE    JUMP    2$

                READP   "GP_REAL 13",GPREAL13
                CMP     GPREAL13,OLDREAL13
        IFEQ    SBEND

1$:             BSET    MDMOTYM
                MOVE    F_YMMTMM,TMP.2
                NEG     TMP.2
                ADD     GPREAL13,TMP.2,YM_MOT_DX

2$:             ADD     F_YMMTMM,YM_MOT_DX,F_YMMT_O1
                MOVE    F_YMMTMM,OLDFYMMTMM
                MOVE    GPREAL13,OLDREAL13
                WRITEP  F_YMMT_O1,"GP_REAL 13"

                SBEND

;-----------------------------------------------------------------
; Master tandem motor position
;-----------------------------------------------------------------
TYMOTCNT:
                SBEND

;-----------------------------------------------------------------
; Master scale position
;-----------------------------------------------------------------
YMSCALECNT:
                READP   "FDURIGAPULSE YM",YMSCPULS
                READP   "FDZRIGAMUL YM",YMSCMUL
                READP   "FDZRIGADIV YM",YMSCDIV
                READP   "AXVZPR YM",YMSCZPR
                MOVE    YMSCPULS,F_YMSCPULS
                MOVE    YMSCMUL,F_YMSCMUL
                MOVE    YMSCDIV,F_YMSCDIV
                MOVE    YMSCZPR,F_YMSCZPR
                MUL     F_YMSCMUL,F_YMSCPULS,TMP.2
                TST     F_YMSCDIV
        IFEQ    MOVE    1,F_YMSCDIV
                DIV     F_YMSCDIV,TMP.2,F_YMSCMM
                ADD     F_YMSCZPR,F_YMSCMM
                DIV     10000,F_YMSCMM
                WRITEP  F_YMSCMM,"GP_REAL 16"

;***    SET ORIGIN
                ACL     MDSCALEYM
        IFEQ    JUMP    1$

                CMP     #AX_CP,C_YST    ;Y axis must be stopped
        IFEQ    MOVE    10,TIME128
                CMP     #AX_CP,C_YST    ;Y axis must be stopped
        IFEQ    JUMP    2$
                TST     TIME128         ;Wait refresh by TIMER
        IFNE    JUMP    2$

                READP   "GP_REAL 17",GPREAL17
                CMP     GPREAL17,OLDREAL17
        IFEQ    SBEND

1$:             BSET    MDSCALEYM
                MOVE    F_YMSCMM,TMP.2
                NEG     TMP.2
                ADD     GPREAL17,TMP.2,YMSCALE_DX

2$:             ADD     F_YMSCMM,YMSCALE_DX,F_YMSC_O1
                MOVE    F_YMSCMM,OLDFYMSCMM
                MOVE    GPREAL17,OLDREAL17
                WRITEP  F_YMSC_O1,"GP_REAL 17"

                SBEND

;-----------------------------------------------------------------
; Master motor position
;-----------------------------------------------------------------
ZMMOTCNT:       
                READP   "FDUMOTORPULSE ZM",ZMMTPULS
                READP   "FDZENCRES ZM",ZMMTRES
                READP   "FDZAXVMUL ZM",ZMMTMUL
                READP   "FDZAXVDIV ZM",ZMMTDIV
                READP   "AXVENDATZPR ZM",ZMMTZPR
                MOVE    ZMMTPULS,F_ZMMTPULS
                MOVE    ZMMTRES,F_ZMMTRES
                MOVE    ZMMTMUL,F_ZMMTMUL
                MOVE    ZMMTDIV,F_ZMMTDIV
                MOVE    ZMMTZPR,F_ZMMTZPR
                TST     F_ZMMTRES
        IFEQ    MOVE    1,F_ZMMTRES
                DIV     F_ZMMTRES,F_ZMMTPULS,TMP.2
                MUL     F_ZMMTMUL,TMP.2
                TST     F_ZMMTDIV
        IFEQ    MOVE    1,F_ZMMTDIV
                DIV     F_ZMMTDIV,TMP.2,F_ZMMTMM
                ADD     F_ZMMTZPR,F_ZMMTMM
                DIV     10000,F_ZMMTMM
                WRITEP  F_ZMMTMM,"GP_REAL 18"

;***    SET ORIGIN
                ACL     MDMOTZM
        IFEQ    JUMP    1$

                CMP     #AX_CP,C_ZST    ;Z axis must be stopped
        IFEQ    MOVE    10,TIME129
                CMP     #AX_CP,C_ZST    ;Z axis must be stopped
        IFEQ    JUMP    2$
                TST     TIME129         ;Wait refresh by TIMER
        IFNE    JUMP    2$

                READP   "GP_REAL 19",GPREAL19
                CMP     GPREAL19,OLDREAL19
        IFEQ    SBEND

1$:             BSET    MDMOTZM
                MOVE    F_ZMMTMM,TMP.2
                NEG     TMP.2
                ADD     GPREAL19,TMP.2,ZM_MOT_DX

2$:             ADD     F_ZMMTMM,ZM_MOT_DX,F_ZMMT_O1
                MOVE    F_ZMMTMM,OLDFZMMTMM
                MOVE    GPREAL19,OLDREAL19
                WRITEP  F_ZMMT_O1,"GP_REAL 19"

                SBEND

;-----------------------------------------------------------------
; Master tandem motor position
;-----------------------------------------------------------------
TZMOTCNT:
                SBEND

;-----------------------------------------------------------------
; Master scale position
;-----------------------------------------------------------------
ZMSCALECNT:
                READP   "FDURIGAPULSE ZM",ZMSCPULS
                READP   "FDZRIGAMUL ZM",ZMSCMUL
                READP   "FDZRIGADIV ZM",ZMSCDIV
                READP   "AXVZPR ZM",ZMSCZPR
                MOVE    ZMSCPULS,F_ZMSCPULS
                MOVE    ZMSCMUL,F_ZMSCMUL
                MOVE    ZMSCDIV,F_ZMSCDIV
                MOVE    ZMSCZPR,F_ZMSCZPR
                MUL     F_ZMSCMUL,F_ZMSCPULS,TMP.2
                TST     F_ZMSCDIV
        IFEQ    MOVE    1,F_ZMSCDIV
                DIV     F_ZMSCDIV,TMP.2,F_ZMSCMM
                ADD     F_ZMSCZPR,F_ZMSCMM
                DIV     10000,F_ZMSCMM
                WRITEP  F_ZMSCMM,"GP_REAL 22"

;***    SET ORIGIN
                ACL     MDSCALEZM
        IFEQ    JUMP    1$

                CMP     #AX_CP,C_ZST    ;Z axis must be stopped
        IFEQ    MOVE    10,TIME131
                CMP     #AX_CP,C_ZST    ;Z axis must be stopped
        IFEQ    JUMP    2$
                TST     TIME131         ;Wait refresh by TIMER
        IFNE    JUMP    2$

                READP   "GP_REAL 23",GPREAL23
                CMP     GPREAL23,OLDREAL23
        IFEQ    SBEND

1$:             BSET    MDSCALEZM
                MOVE    F_ZMSCMM,TMP.2
                NEG     TMP.2
                ADD     GPREAL23,TMP.2,ZMSCALE_DX

2$:             ADD     F_ZMSCMM,ZMSCALE_DX,F_ZMSC_O1
                MOVE    F_ZMSCMM,OLDFZMSCMM
                MOVE    GPREAL23,OLDREAL23
                WRITEP  F_ZMSC_O1,"GP_REAL 23"

                SBEND

;-----------------------------------------------------------------
; Tandem installation procedure OFF
;-----------------------------------------------------------------
TANDINSTOF:     TST     TANDXINST
        IFNE    EXEC    X_AXIS_RS
                TST     TANDYINST
        IFNE    EXEC    Y_AXIS_RS
                TST     TANDZINST
        IFNE    EXEC    Z_AXIS_RS
                EXEC    SK24OFF
                EXEC    SK25OFF
                EXEC    SK26OFF
                EXEC    SK27OFF
                EXEC    SK28OFF
                EXEC    SK29OFF
                EXEC    SK30OFF
                EXEC    SK31OFF
                EXEC    SK32OFF
                EXEC    SK33OFF
                EXEC    SK34OFF
                SBEND

; ----------------------------------------------------------------
; Softkey tandem installation restore configuration ON-OFF
;-----------------------------------------------------------------
SKRESTORE:      EXEC    SK24INI
                EXEC    SK25INI
                EXEC    SK26INI
                EXEC    SK27INI
                EXEC    SK28INI
                EXEC    SK29INI
                EXEC    SK30INI
                EXEC    SK31INI
                EXEC    SK32INI
                EXEC    SK33INI
                EXEC    SK34INI
                SBEND

;-----------------------------------------------------------------
;-------------  S.K.24 CLEAR --------------------------------
;-----------------------------------------------------------------
SK24OFF:
                SBEND
;-----------------------------------------------------------------
;-------------  RESTORE S.K.24 STATUS -----------------------
;-----------------------------------------------------------------
SK24INI:        
                SBEND
;-----------------------------------------------------------------
;-------------  CHECK S.K.24 STATUS ENABLED ------------------
;-----------------------------------------------------------------
SK24ENA:
                SBEND

;-----------------------------------------------------------------
;-------------  S.K.27 CLEAR --------------------------------
;-----------------------------------------------------------------
SK27OFF:
                SBEND
;-----------------------------------------------------------------
;-------------  RESTORE S.K.27 STATUS -----------------------
;-----------------------------------------------------------------
SK27INI:
                SBEND
;-----------------------------------------------------------------
;-------------  CHECK S.K.27 STATUS ENABLED ------------------
;-----------------------------------------------------------------
SK27ENA:        
                SBEND

;-----------------------------------------------------------------
;-------------  S.K.28 CLEAR --------------------------------
;-----------------------------------------------------------------
SK28OFF:
                BCLR    MDSK28
                BCLR    MDLK28
                CLR     SK28STATUS
                SBEND
;-----------------------------------------------------------------
;-------------  RESTORE S.K.28 STATUS -----------------------
;-----------------------------------------------------------------
SK28INI:
                CMP     SK28STATUS,SK_ON
        IFNE    JUMP    SK28INI2
                BSET    MDSK28
                BSET    MDLK28
                SBEND

SK28INI2:       CMP     SK28STATUS,SK_OF
        IFNE    SBEND
                BCLR    MDSK28
                BCLR    MDLK28
                SBEND
;-----------------------------------------------------------------
;-------------  CHECK S.K.28 STATUS ENABLED ------------------
;-----------------------------------------------------------------
SK28ENA:
                CMP     SK_ENA,SK_ON
        IFNE    JUMP    SK28CLR

                ACL     MDLK28
        IFEQ    JUMP    SK28OF

SK28ON:         ACL     MDSK28
        IFNE    SBEND
                MOVE    SK_OF,SK28STATUS
                BCLR    MDLK28
                SBEND

SK28OF:         ACL     MDSK28
        IFEQ    SBEND
                BSET    MDLK28
                MOVE    SK_ON,SK28STATUS
                SBEND

SK28CLR:        BCLR    MDLK28
                BCLR    MDSK28
                MOVE    SK_OF,SK28STATUS
                SBEND

;-----------------------------------------------------------------
;-------------  S.K.29 CLEAR --------------------------------
;-----------------------------------------------------------------
SK29OFF:
                SBEND
;-----------------------------------------------------------------
;-------------  RESTORE S.K.29 STATUS -----------------------
;-----------------------------------------------------------------
SK29INI:
                SBEND
;-----------------------------------------------------------------
;-------------  CHECK S.K.29 STATUS ENABLED ------------------
;-----------------------------------------------------------------
SK29ENA:
                SBEND

;-----------------------------------------------------------------
;-------------  S.K.30 CLEAR --------------------------------
;-----------------------------------------------------------------
SK30OFF:
                BCLR    MDSK30
                BCLR    MDLK30
                CLR     SK30STATUS
                SBEND
;-----------------------------------------------------------------
;-------------  RESTORE S.K.30 STATUS -----------------------
;-----------------------------------------------------------------
SK30INI:
                CMP     SK30STATUS,SK_ON
        IFNE    JUMP    SK30INI2
                BSET    MDSK30
                BSET    MDLK30
                SBEND

SK30INI2:       CMP     SK30STATUS,SK_OF
        IFNE    SBEND
                BCLR    MDSK30
                BCLR    MDLK30
                SBEND
;-----------------------------------------------------------------
;-------------  CHECK S.K.30 STATUS ENABLED ------------------
;-----------------------------------------------------------------
SK30ENA:
                CMP     SK_ENA,SK_ON
        IFNE    JUMP    SK30CLR

                ACL     MDLK30
        IFEQ    JUMP    SK30OF

SK30ON:         ACL     MDSK30
        IFNE    SBEND
                MOVE    SK_OF,SK30STATUS
                BCLR    MDLK30
                SBEND

SK30OF:         ACL     MDSK30
        IFEQ    SBEND
                BSET    MDLK30
                MOVE    SK_ON,SK30STATUS
                SBEND

SK30CLR:        BCLR    MDLK30
                BCLR    MDSK30
                MOVE    SK_OF,SK30STATUS
                SBEND

;-----------------------------------------------------------------
;-------------  X AXIS INSTALLATION ON -----------------------
;-----------------------------------------------------------------
X_AXIS_ST:
                READP   "AXVTOLL1 XG",XG_TOLL1
                READP   "AXVTOLL2 XG",XG_TOLL2
                READP   "TANDPLOAD XG",XG_PLOAD
                READP   "TANDKV XG",XG_TANDKV
                READP   "TANDSEL1 XG",XGTANDSEL1
                READP   "TANDSEL2 XG",XGTANDSEL2
		READP	"AXSCNT2 XG",XGCNT2
                WRITEP  0l,"TANDPLOAD XG"
                WRITEP  0l,"TANDKV XG"
                WRITEP  1000000,"AXVTOLL2 XG"
                WRITEP  900000,"AXVTOLL1 XG"
                WRITEP  0,"TANDSEL1 XG"
                WRITEP  0,"TANDSEL2 XG"
                WRITEP  1b,"AXSMXARESET XG"
		WRITEP	0b,"AXSCNT2 XG"
                SBEND

;-----------------------------------------------------------------
;-------------  X AXIS INSTALLATION OF -----------------------
;-----------------------------------------------------------------
X_AXIS_RS:
                WRITEP  XG_TOLL1,"AXVTOLL1 XG"
                WRITEP  XG_TOLL2,"AXVTOLL2 XG"
                WRITEP  XG_PLOAD,"TANDPLOAD XG"
                WRITEP  XG_TANDKV,"TANDKV XG"
                WRITEP  XGTANDSEL1,"TANDSEL1 XG"
                WRITEP  XGTANDSEL2,"TANDSEL2 XG"
                WRITEP  1b,"AXSMXARESET XG"
		WRITEP	XGCNT2,"AXSCNT2 XG"
                WRITEP  0b,"AXSMXARESET XG"
                SBEND

;-----------------------------------------------------------------
;-------------  X MOTORS INSTALLATION ON/OFF -----------------
;-----------------------------------------------------------------
X_INST:
                ANDX    XG_MOTOR,SEL_XMOTOR,TMP.1
                TST     TMP.1
        IFEQ    JUMP    12$
                WRITEP  1,"TANDSEL1 XG"
                JUMP    20$
12$:            WRITEP  0,"TANDSEL1 XG"
                ANDX    TX1_MOTOR,SEL_XMOTOR,TMP.1
                TST     TMP.1
        IFEQ    JUMP    32$
                WRITEP  1,"TANDSEL2 XG"
                JUMP    40$
32$:            WRITEP  0,"TANDSEL2 XG"
                SBEND

;-----------------------------------------------------------------
;-------------  S.K.25 CLEAR --------------------------------
;-----------------------------------------------------------------
SK25OFF:
                SBEND
;-----------------------------------------------------------------
;-------------  RESTORE S.K.25 STATUS -----------------------
;-----------------------------------------------------------------
SK25INI:
                SBEND
;-----------------------------------------------------------------
;-------------  CHECK S.K.25 STATUS ENABLED ------------------
;-----------------------------------------------------------------
SK25ENA:
                SBEND

;-----------------------------------------------------------------
;-------------  S.K.31 CLEAR --------------------------------
;-----------------------------------------------------------------
SK31OFF:
                SBEND
;-----------------------------------------------------------------
;-------------  RESTORE S.K.31 STATUS -----------------------
;-----------------------------------------------------------------
SK31INI:        
                SBEND
;-----------------------------------------------------------------
;-------------  CHECK S.K.31 STATUS ENABLED ------------------
;-----------------------------------------------------------------
SK31ENA:
                SBEND

;-----------------------------------------------------------------
;-------------  S.K.32 CLEAR --------------------------------
;-----------------------------------------------------------------
SK32OFF:
                SBEND
;-----------------------------------------------------------------
;-------------  RESTORE S.K.32 STATUS -----------------------
;-----------------------------------------------------------------
SK32INI:        
                SBEND
;-----------------------------------------------------------------
;-------------  CHECK S.K.32 STATUS ENABLED ------------------
;-----------------------------------------------------------------
SK32ENA:
                SBEND

;-----------------------------------------------------------------
;-------------  Y AXIS INSTALLATION ON -----------------------
;-----------------------------------------------------------------
Y_AXIS_ST:
                SBEND

;-----------------------------------------------------------------
;-------------  Y AXIS INSTALLATION OF -----------------------
;-----------------------------------------------------------------
Y_AXIS_RS:
                SBEND

;-----------------------------------------------------------------
;-------------  Y MOTORS INSTALLATION ON/OFF -----------------
;-----------------------------------------------------------------
Y_INST:         
                SBEND

;-----------------------------------------------------------------
;-------------  S.K.26 CLEAR --------------------------------
;-----------------------------------------------------------------
SK26OFF:
                SBEND
;-----------------------------------------------------------------
;-------------  RESTORE S.K.26 STATUS -----------------------
;-----------------------------------------------------------------
SK26INI:        
                SBEND
;-----------------------------------------------------------------
;-------------  CHECK S.K.26 STATUS ENABLED ------------------
;-----------------------------------------------------------------
SK26ENA:        
                SBEND

;-----------------------------------------------------------------
;-------------  S.K.33 CLEAR --------------------------------
;-----------------------------------------------------------------
SK33OFF:
                SBEND
;-----------------------------------------------------------------
;-------------  RESTORE S.K.33 STATUS -----------------------
;-----------------------------------------------------------------
SK33INI:        
                SBEND
;-----------------------------------------------------------------
;-------------  CHECK S.K.33 STATUS ENABLED ------------------
;-----------------------------------------------------------------
SK33ENA:
                SBEND

;-----------------------------------------------------------------
;-------------  S.K.34 CLEAR --------------------------------
;-----------------------------------------------------------------
SK34OFF:
                SBEND
;-----------------------------------------------------------------
;-------------  RESTORE S.K.34 STATUS -----------------------
;-----------------------------------------------------------------
SK34INI:        
                SBEND
;-----------------------------------------------------------------
;-------------  CHECK S.K.34 STATUS ENABLED ------------------
;-----------------------------------------------------------------
SK34ENA:        
                SBEND

;-----------------------------------------------------------------
;-------------  Z AXIS INSTALLATION ON -----------------------
;-----------------------------------------------------------------
Z_AXIS_ST:
                SBEND

;-----------------------------------------------------------------
;-------------  Z AXIS INSTALLATION OF -----------------------
;-----------------------------------------------------------------
Z_AXIS_RS:
                SBEND

;-----------------------------------------------------------------
;-------------  Z MOTORS INSTALLATION ON/OFF -----------------
;-----------------------------------------------------------------
Z_INST:
                SBEND

;-----------------------------------------------------------------
;----- Clear all memory start lamp bits --------------------------
;-----------------------------------------------------------------
CLR_UDLST:      BCLR    MDWTPSA1        ;PLC #1 wait START push-button pressed
                BCLR    MDWTPSA2        ;PLC #2 wait START push-button pressed
                BCLR    MDWTPSA3        ;PLC #3 wait START push-button pressedv
                BCLR    MDWTPSA4        ;PLC #4 wait START push-button pressed
                BCLR    MDWTPSA5        ;PLC #5 wait START push-button pressed
                BCLR    MDWTPSA6        ;PLC #6 wait START push-button pressed
                BCLR    MDWTPSA7        ;PLC #7 wait START push-button pressed
                BCLR    MDWTPSA8        ;PLC #8 wait START push-button pressed
                BCLR    MDWTPSA9        ;PLC #9 wait START push-button pressed
                BCLR    MDWTPSA10       ;PLC #10 wait START push-button pressed
                SBEND

;----- modalit di accensione Ev-Pump ----------------------------

EVPUMSLDON:     
                BCLR    DULUB2
                BSET    DULUB1                 ;EV slides circuit
                MOVE    P000145,TIME44         ;DELAY TIME   
                LOAD    PSUB,EVPUMSLD01
EVPUMSLD01:     TST     TIME44
        IFNE    PEND
                BSET    MDULUBR                ;Pump slides circuit
                SBEND

;----- modalit di accensione Pump-Ev ----------------------------

PUMEVSLDON:     BSET    MDULUBR              ;Pump slides circuit
                MOVE    P000145,TIME44       ;DELAY TIME   
                LOAD    PSUB,PUMEVSLD05
PUMEVSLD05:     TST     TIME44
        IFNE    PEND
                BCLR    DULUB2
                BSET    DULUB1                 ;Ev slides circuit 
                SBEND

;----- modalit di spegnimento Ev-Pump ----------------------------

EVPUMSLDOF:     BCLR    DULUB1
                MOVE    P000147,TIME44          ;DELAY TIME  
                LOAD    PSUB,EVPUMSLD07
EVPUMSLD07:     TST     TIME44
        IFNE    PEND
                BCLR    MDULUBR
                SBEND

;----- modalit di spegnimento Pump-Ev ----------------------------
PUMEVSLDOF:
                BCLR    MDULUBR
                MOVE    P000147,TIME44          ;DELAY TIME  
                LOAD    PSUB,PUMEVSLD10
PUMEVSLD10:     TST     TIME44
        IFNE    PEND
                BCLR    DULUB1
                SBEND
;-----------------------------------------------------------
;----- modalit di accensione Ev-Pump ----------------------------
EVPUMRACON:     
                BCLR    DULUB1                 ;EV slides circuit
                BSET    DULUB2
                MOVE    P000149,TIME76         ;DELAY TIME   
                LOAD    PSUB,EVPUMRAC01
EVPUMRAC01:     TST     TIME76
        IFNE    PEND
                BSET    MDULUBRR                ;Pump slides circuit
                SBEND

;----- modalit di accensione Pump-Ev ----------------------------

PUMEVRACON:     BSET    MDULUBRR              ;Pump slides circuit
                MOVE    P000149,TIME76       ;DELAY TIME   
                LOAD    PSUB,PUMEVRAC05
PUMEVRAC05:     TST     TIME76
        IFNE    PEND
                BCLR    DULUB1                 ;EV slides circuit
                BSET    DULUB2               ;Ev slides circuit 
                SBEND

;----- modalit di spegnimento Ev-Pump ----------------------------

EVPUMRACOF:     BCLR    DULUB2
                MOVE    P000151,TIME76          ;DELAY TIME  
                LOAD    PSUB,EVPUMRAC07
EVPUMRAC07:     TST     TIME76
        IFNE    PEND
                BCLR    MDULUBRR
                SBEND

;----- modalit di spegnimento Pump-Ev ----------------------------

PUMEVRACOF:     BCLR    MDULUBRR
                MOVE    P000151,TIME76          ;DELAY TIME  
                LOAD    PSUB,PUMEVRAC10
PUMEVRAC10:     TST     TIME76
        IFNE    PEND
                BCLR    DULUB2
                SBEND
;-----------------------------------------------------------


;----------------------------------------------------------------------

WRITEAUCR:
                WRITEP  TOTREGRORA,"AUCREG3 92"
                WRITEP  PARREGRORA,"AUCREG3 89"
                WRITEP  PARREGRMIN,"AUCREG3 88"

                WRITEP  TOTREGMORA,"AUCREG3 91"
                WRITEP  PARREGMORA,"AUCREG3 87"
                WRITEP  PARREGMMIN,"AUCREG3 86"

                WRITEP  TOTREGSORA,"AUCREG3 90"
                WRITEP  PARREGSORA,"AUCREG3 85"
                WRITEP  PARREGSMIN,"AUCREG3 84"

                SBEND


;-------HOCKING INSERTED X+ SIDE - on CARTER

INSWXP:         BSET    MBL_INSXP               ;HOLD
                MOVE    TIMEXCOVER,TIME60       ;TIME OUT FOR HOCKING LOCK ON CARTER SIDE X+
                BCLR    DUCWXP
                BSET    DUOWXP
                LOAD    PSUB,INSWXP010
INSWXP010:      TST     TIME60
        IFEQ    JUMP    EMEINSXP
                ACL     DICWXP  NG
                AND     DIOWXP
        IFEQ    PEND
                PAUSE   50
                BCLR    DUOWXP
                BCLR    MBL_INSXP
                CLRV
                SBEND

EMEINSXP:       BSET    MBL_INSXP               ;HOLD
                DMSG    1376                    ;=EM MTE: ROOF X+ - HOKING PISTON TIME OUT                  ]
                SETV
                SBEND

;-------HOCKING INSERTED X- SIDE - on CARTER

INSWXN:         BSET    MBL_INSXN               ;HOLD
                MOVE    TIMEXCOVER,TIME61       ;TIME OUT FOR HOCKING LOCK ON CARTER SIDE X-
                BCLR    DUCWXN
                BSET    DUOWXN
                LOAD    PSUB,INSWXN010
INSWXN010:      TST     TIME61
        IFEQ    JUMP    EMEINSXN
                ACL     DICWXN  NG
                AND     DIOWXN
        IFEQ    PEND
                PAUSE   50
                BCLR    DUOWXN
                BCLR    MBL_INSXN
                CLRV
                SBEND

EMEINSXN:       BSET    MBL_INSXN               ;HOLD
                DMSG    1377                    ;=EM MTE: ROOF X- - HOKING PISTON TIME OUT                  ]
                SETV
                SBEND

;-------HOCKING REMOVED X+ SIDE - on CARTER

REMWXP:         BSET    MBL_REMXP               ;HOLD
                MOVE    TIMEXCOVER,TIME62       ;TIME OUT FOR UNHOCKING LOCK ON CARTER SIDE X+
                BCLR    DUOWXP
                BSET    DUCWXP
                LOAD    PSUB,REMWXP010
REMWXP010:      TST     TIME62
        IFEQ    JUMP    EMEREMXP
                ACL     DICWXP
                AND     DIOWXP  NG
        IFEQ    PEND
                PAUSE   50
                BCLR    DUCWXP
                BCLR    MBL_REMXP
                CLRV
                SBEND

EMEREMXP:       BSET    MBL_REMXP               ;HOLD
                DMSG    1374                    ;=EM MTE: ROOF X+ - UNHOKING PISTON TIME OUT                  ]
                SETV
                SBEND

;-------UNHOCKING REMERTED X- SIDE - on CARTER

REMWXN:         BSET    MBL_REMXN               ;HOLD
                MOVE    TIMEXCOVER,TIME63       ;TIME OUT FOR UNHOCKING LOCK ON CARTER SIDE X-
                BCLR    DUOWXN
                BSET    DUCWXN
                LOAD    PSUB,REMWXN010
REMWXN010:      TST     TIME63
        IFEQ    JUMP    EMEREMXN
                ACL     DIOWXN  NG
                AND     DICWXN
        IFEQ    PEND
                PAUSE   50
                BCLR    DUCWXN
                BCLR    MBL_REMXN
                CLRV
                SBEND

EMEREMXN:       BSET    MBL_REMXN               ;HOLD
                DMSG    1375                    ;=EM MTE: ROOF X- - UNHOKING PISTON TIME OUT                  ]
                SETV
                SBEND

;-------HOCKING INSERTED R SIDE - on RAM

INSWXR:         BSET    MBL_INSXR               ;HOLD
                MOVE    TIMEXRAM,TIME64 ;TIME OUT FOR HOCKING LOCK ON CARTER SIDE X+
                BCLR    DUCWXR
                BSET    DUOWXR
                LOAD    PSUB,INSWXR010
INSWXR010:      TST     TIME64
        IFEQ    JUMP    EMEINSXR
                ACL     DICWXR  NG
                AND     DIOWXR
        IFEQ    PEND
                PAUSE   50
                BCLR    DUOWXR
                BCLR    MBL_INSXR
                CLRV
                SBEND

EMEINSXR:       BSET    MBL_INSXR               ;HOLD
                DMSG    1384                    ;=EM MTE: ROOF X+ - HOKING PISTON ON X AXIS TIME OUT ]
                SETV
                SBEND

;-------HOCKING INSERTED X- SIDE - on RAM

INSWXL:         BSET    MBL_INSXL               ;HOLD
                MOVE    TIMEXRAM,TIME65          ;TIME OUT FOR HOCKING LOCK ON RAM SIDE X-
                BCLR    DUCWXL
                BSET    DUOWXL
                LOAD    PSUB,INSWXL010
INSWXL010:      TST     TIME65
        IFEQ    JUMP    EMEINSXL
                ACL     DICWXL  NG
                AND     DIOWXL
        IFEQ    PEND
                PAUSE   50
                BCLR    DUOWXL
                BCLR    MBL_INSXL
                CLRV
                SBEND

EMEINSXL:       BSET    MBL_INSXL               ;HOLD
                DMSG    1385                    ;=EM MTE: TETTO X- - TEMPO LIMITE AGGANCIO PISTONE SU ASSE X]
                SETV
                SBEND

;-------HOCKING REMOVED R SIDE - on RAM

REMWXR:         BSET    MBL_REMXR               ;HOLD
                MOVE    TIMEXRAM,TIME68 ;TIME OUT FOR UNHOCKING LOCK ON CARTER SIDE X+
                BCLR    DUOWXR
                BSET    DUCWXR
                LOAD    PSUB,REMWXR010
REMWXR010:      TST     TIME68
        IFEQ    JUMP    EMEREMXR
                ACL     DICWXR
                AND     DIOWXR NG
        IFEQ    PEND
                PAUSE   50
                BCLR    DUCWXR
                BCLR    MBL_REMXR
                CLRV
                SBEND

EMEREMXR:       BSET    MBL_REMXR               ;HOLD
                DMSG    1382                    ;=EM MTE: ROOF X+ - UNHOKING PISTON TIME OUT                  ]
                SETV
                SBEND

;-------UNHOCKING REMERTED X- SIDE - on RAM

REMWXL:         BSET    MBL_REMXL               ;HOLD
                MOVE    TIMEXRAM,TIME69 ;TIME OUT FOR UNHOCKING LOCK ON CARTER SIDE X-
                BCLR    DUOWXL
                BSET    DUCWXL
                LOAD    PSUB,REMWXL010
REMWXL010:      TST     TIME69
        IFEQ    JUMP    EMEREMXL
                ACL     DIOWXL  NG
                AND     DICWXL
        IFEQ    PEND
                PAUSE   50
                BCLR    DUCWXL
                BCLR    MBL_REMXL
                CLRV
                SBEND

EMEREMXL:       BSET    MBL_REMXL               ;HOLD
                DMSG    1383                    ;=EM MTE:  ROOF X- - UNHOKING PISTON ON X AXIS TIME OUT]
                SETV
                SBEND


;       ------  INIZERI - Check axes X Y Z zero executed -----

INIZERI:        TSTP    "ZERODONE XM"
        IFEQ    JUMP    1$
                TSTP    "ZERODONE YM"
        IFEQ    JUMP    1$
                TSTP    "ZERODONE ZM"
        IFEQ    JUMP    1$
                BSET    M_ZER_DONE
                SBEND

1$:             BCLR    M_ZER_DONE
                SBEND


;       ------  INIZERX - Check X axes zero executed -----

INIZERX:        TSTP    "ZERODONE XM"
        IFEQ    JUMP    2$
                BSET    M_ZE_XDONE
                SBEND

2$:             BCLR    M_ZE_XDONE
                SBEND

;       ------  INIZERY - Check Y axes zero executed -----

INIZERY:        TSTP    "ZERODONE YM"
        IFEQ    JUMP    3$
                BSET    M_ZE_YDONE
                SBEND

3$:             BCLR    M_ZE_YDONE
                SBEND

;       ------  SYSGEN - logic of GENeral SYStem signals ------

SYSGEN:         EXEC    CAB_OVERT       ;CHECK OVERTEMPERATURE
                EXEC    CAB_AIR         ;AIR COND BY OVER TEMPERATUE

                READP   "HPXACTIVE",HpxActive
                CMP     1s,HpxActive
        IFEQ    BSET    MHPX1ON         ;HPX #1 Active
                CMP     1s,HpxActive
        IFNE    BCLR    MHPX1ON         ;HPX #1 Active

                ACL     UDLST           ;CNC output bit for START push-button lamp
                IOR     MDWTPSA1        ;PLC #1 wait START push-button pressed
                IOR     MDWTPSA2        ;PLC #2 wait START push-button pressed
                IOR     MDWTPSA3        ;PLC #3 wait START push-button pressedv
                IOR     MDWTPSA4        ;PLC #4 wait START push-button pressed
                IOR     MDWTPSA5        ;PLC #5 wait START push-button pressed
                IOR     MDWTPSA6        ;PLC #6 wait START push-button pressed
                IOR     MDWTPSA7        ;PLC #7 wait START push-button pressed
                IOR     MDWTPSA8        ;PLC #8 wait START push-button pressed
                IOR     MDWTPSA9        ;PLC #9 wait START push-button pressed
                IOR     MDWTPSA10       ;PLC #10 wait START push-button pressed
                ACS     MDLST

                ACL     MDLST
                AND     MHPX1ON NG      ;HPX #1 Active
                ACS     DULSA           ;Real output for START push-button lamp on main panel

                ACL     MDLST
                AND     MHPX1ON         ;HPX #1 Active
                ACS     DULSAH          ;Real output for START push-button lamp on HPX #1

                READP   "AUCREG2 50",AUCREG2_50
                READP   "AUCREG2 55",AUCREG2_55 
                CMP     1,AUCREG2_50
        IFEQ    BSET    MDRQPUMIEC
                CMP     1,AUCREG2_50
        IFNE    BCLR    MDRQPUMIEC
                CMP     0,AUCREG2_55            ;RICHIESTA DISABILITAZIONE LUBR. DA IEC11 TO AUCOL MANDRINO E SONDE TERMICHE
        IFEQ    BSET    MDRQNOLUB
                CMP     1,AUCREG2_55            ;;RICHIESTA ABILITAZIONE LUBR. DA IEC11 TO AUCOL MANDRINO E SONDE TERMICHE
        IFEQ    BCLR    MDRQNOLUB

                CMP     1,P000070       ; =2 MSK motor, virtual cam disabled   =1 enabled
        IFNE    JUMP    1$
                ACL     MCAM05
                ACS     IDMZX
                ACL     MCAM06
                ACS     IDMZY
                ACL     MCAM07
                ACS     IDMZZ
1$:             CMP     2,PLP_TRS      ;PALLET LOGIC NOT INSTALLED
        IFEQ    JUMP    2$
                JUMP    3$
2$:             ACL     MDTAM
                ACS     MB_MDTAM
3$:
                ACL     UDCMA
                AND     DIEMPB          ;EMERGENCY PUSH BUTTON PRESSED
                AND     MEM_INK1  NG
                ACS     ID24A

                ACL     MBLOVT
                IOR     MBLAIR
                IOR     MBLDOC
                IOR     MBLLUB
                IOR     MBLLUB1SL
                IOR     MBLLUB1RA
                IOR     MBLLUBR
                IOR     MBLCFB
                IOR     MBLCOL
                IOR     MBL_BOTTI
                IOR     MH_HCOPRE
                IOR     MH_COLMAX
                IOR     MBL_WAC_MG      ;/|TETTO Y |  MANAGEMENT
                IOR     MBL_WXP_MG      ;/|TETTO X+|  MANAGEMENT
                IOR     MBL_WXN_MG      ;/|TETTO X-|  MANAGEMENT
                IOR     MBL_WXN3MG      ;/|TETTO X-|  MANAGEMENT
                IOR     MBL_INSXP       ;HOLD FROM HOKING INSERT ON COVER SIDE X+
                IOR     MBL_INSXN       ;HOLD FROM HOKING INSERT ON COVER SIDE X+
                IOR     MBL_INSXR       ;HOLD FROM HOKING INSERT ON COVER SIDE X+
                IOR     MBL_INSXL       ;HOLD FROM HOKING INSERT ON COVER SIDE X+
                IOR     MBL_REMXP       ;HOLD FROM HOKING INSERT ON COVER SIDE X+
                IOR     MBL_REMXN       ;HOLD FROM HOKING INSERT ON COVER SIDE X+
                IOR     MBL_REMXR       ;HOLD FROM HOKING INSERT ON COVER SIDE X+
                IOR     MBL_REMXL       ;HOLD FROM HOKING INSERT ON COVER SIDE X+
                IOR     MBL_XNLOCK      ;Release
                IOR     MBL_XPLOCK      ;Release
                IOR     MBL_POSRES      ;HOLD from Position Restore (M294)
                IOR     MBLNIGHT        ;HOLD FROM NIGHT PROCESS
                IOR     MBLTOOLLUB      ;HOLD FROM CONTEMPORARY TOOL LUBRICATION
                IOR     MHLDAXINST      ;HOLD FROM TANDEM AXES PROCEDURE INSTALLATION ACTIVE
                IOR     MBL_ROOFER          ;HOLD FROM ROOF ERROR
                IOR     MHLCOLDAIR      ;HOLD FROM COLD AIR PRESSURE
                IOR     MH_PALLET2
                IOR     MH_PALLET
                ACS     MDPBL

                ACL     MDHOLD
        IFEQ    JUMP    10$
                ACL     MDPBLOLD
        IFNE    JUMP    11$
                CMP     1,CG19          ;FROM AUCOL 8 Harbin measuring cycle
        IFEQ    JUMP    9$
                DMSG    1234            ;/EM MTE: MACHINE IN HOLD - < REL > TO CONTINUE/
9$:             BSET    MDPBLOLD
                JUMP    11$

10$:            BCLR    MDPBLOLD

11$:            ACL     DINGHT          ;Bit from key
                ACS     DULDAY  NG
                ACL     MDPFC1
                IOR     MDPFC8
                ACS     IDPFC
                ACL     IDMZX
                ACS     IDMZX1          ;Gantry

                CMP     1,DOOR_STAT            ;DIPOA1=1 Cabinet doors opened
        IFEQ    JUMP    100$
                CMP     2,DOOR_STAT            ;DIPOA1=2 Cabinet doors opened
                ACL     DIPOA1
                ACS     MDPOA1  NG
                JUMP    200$

100$:           ACL     DIPOA1
                ACS     MDPOA1
                JUMP    200$

200$:           
;******* PNEUMATIC/HYDRAULIC Cabinet doors status
                CMP     2,P000552              ;DIPOAH PNEUMATIC/HYDRAULIC Cabinet doors NOT IST.
        IFEQ    JUMP    220$
                CMP     1,P000552              ;DIPOAH=1 PNEUMATIC/HYDRAULIC Cabinet doors opened
        IFEQ    JUMP    210$
                CMP     3,P000552              ;DIPOAH=3 PNEUMATIC/HYDRAULIC Cabinet doors CHEK IN 
					       ;REVERSE STATUS
        IFEQ    JUMP    205$

205$:           ACL     DIPOAH
                ACS     MDPOAH  NG
                JUMP    220$

210$:           ACL     DIPOAH
                ACS     MDPOAH
                JUMP    220$
;**********************
220$:
                ACL     MRBLX_OFL
                AND     MRBLX_WAC
                ACS     M1RBLX

                ACL     MRBLY_OFL
                AND     MRBLY_WAC
                ACS     M1RBLY

                ACL     MRBLZ_OFL
                ACS     M1RBLZ

300$:           EXEC    FLIM_ENA

                CMP     1,PROBE_SIGN            ;=1 Enable AUCOL signals
        IFEQ    JUMP    400$
                SBEND

400$:           ACL     DIRNER
                ACS     IDRNER  NG
                ACL     DIRNLB
                ACS     IDRNLB  NG
                SBEND


;**********************************************
;           XM-XG  PRESET AND PARAMETERS CHANGE
;**********************************************

AX_PR:          PAUSE   1
                CMP     0L,SETXM_ACT          
        IFEQ    JUMP    AX_PR10
;******************************
;STO CONTANDO SUL MOTORE
;******************************
                WRITEP  XM_MOT_PR,"AXVZPR XM"            ;STO CONTANDO SU MOTORE
                WRITEP  0B,"FDUABSOTHER XM" 
                WRITEP  0B,"ZERODONENDTENA XM" 
                WRITEP  0B,"AXSCNT2 XM"
                WRITEP  XG_MOT_PR,"AXVZPR XG"
                WRITEP  0B,"FDUABSOTHER XG" 
                WRITEP  0B,"ZERODONENDTENA XG" 
                WRITEP  P000095,"AXVTOLL1 XM"           ;TOLLERANZE PIU' GRANDI SE CONTO SUL MOTORE
                WRITEP  P000095,"AXVTOLL1 XG"
                WRITEP  P000098,"AXVTOLL2 XM"
                WRITEP  P000098,"AXVTOLL2 XG"
                WRITEP  0B,"AXSCNT2 XG"
                DMSG    2259                            ;Disable Save Par
                JUMP    AX_PR20

;******************************
;STO CONTANDO SU EXT TRASDUCER
;******************************

AX_PR10:       WRITEP  XM_EXT_PR,"AXVZPR XM"
               WRITEP   XMABSOTHER,"FDUABSOTHER XM" 
               WRITEP   XMENDATENA,"ZERODONENDTENA XM" 
               WRITEP  XM_CNT2,"AXSCNT2 XM"
               WRITEP  XG_EXT_PR,"AXVZPR XG"
               WRITEP   XGABSOTHER,"FDUABSOTHER XG" 
               WRITEP   XGENDATENA,"ZERODONENDTENA XG" 
               WRITEP   XM_EXT_TL1,"AXVTOLL1 XM"
               WRITEP   XG_EXT_TL1,"AXVTOLL1 XG"
               WRITEP   XM_EXT_TL2,"AXVTOLL2 XM"
               WRITEP   XG_EXT_TL2,"AXVTOLL2 XG"
               WRITEP   XG_CNT2,"AXSCNT2 XG"

AX_PR20:       SBEND 

;**********************************************
;           YM-YG  PRESET AND PARAMETERS CHANGE
;**********************************************

AY_PR:          PAUSE   1
                CMP     0L,SETYM_ACT          
        IFEQ    JUMP    AY_PR10
;******************************
;STO CONTANDO SUL MOTORE
;******************************
                WRITEP  YM_MOT_PR,"AXVZPR YM"            ;STO CONTANDO SU MOTORE
                WRITEP  0B,"FDUABSOTHER YM" 
                WRITEP  0B,"ZERODONENDTENA YM" 
                WRITEP  0B,"AXSCNT2 YM"
                DMSG    2259                            ;Disable Save Par
                JUMP    AY_PR20

;******************************
;STO CONTANDO SU EXT TRASDUCER
;******************************

AY_PR10:       WRITEP  YM_EXT_PR,"AXVZPR YM"
               WRITEP   YMABSOTHER,"FDUABSOTHER YM" 
               WRITEP   YMENDATENA,"ZERODONENDTENA YM" 
               WRITEP  YM_CNT2,"AXSCNT2 YM"

AY_PR20:       SBEND 

;**********************************************
;           ZM-ZG  PRESET AND PARAMETERS CHANGE
;**********************************************

AZ_PR:          PAUSE   1
                CMP     0L,SETZM_ACT          
        IFEQ    JUMP    AZ_PR10
;******************************
;STO CONTANDO SUL MOTORE
;******************************
                WRITEP  ZM_MOT_PR,"AXVZPR ZM"            ;STO CONTANDO SU MOTORE
                WRITEP  0B,"FDUABSOTHER ZM" 
                WRITEP  0B,"ZERODONENDTENA ZM" 
                WRITEP  0B,"AXSCNT2 ZM"
                DMSG    2259                            ;Disable Save Par
                JUMP    AZ_PR20

;******************************
;STO CONTANDO SU EXT TRASDUCER
;******************************

AZ_PR10:       WRITEP  ZM_EXT_PR,"AXVZPR ZM"
               WRITEP   ZMABSOTHER,"FDUABSOTHER ZM" 
               WRITEP   ZMENDATENA,"ZERODONENDTENA ZM" 
               WRITEP  ZM_CNT2,"AXSCNT2 ZM"

AZ_PR20:       SBEND 

;   ----- OFFLM - set IDFP*/IDFN* e MPRI** by extra/end of run -----
OFFLM:          CMP     2,P000070       ; =2 MSK motor, virtual cam disabled   =1 enabled
        IFNE    SBEND

                CMP     2,SLAVE_ON      ;=2 master "Y2G"
        IFEQ    JUMP    OFFLM005
                ACL     DIEXLX
                AND     IDMZX
                ACS     MPRI127                 ;/X+ OFF LIMIT/
                ACS     IDFPX   NG
                JUMP    OFFLM007

OFFLM005:       ACL     MDAWA1          ;1= AREA #1 selected
        IFEQ    JUMP    OFFLM006
                ACL     DIBEOR
                ACS     MPRI127                 ;/X+ OFF LIMIT/
                ACS     IDFPX   NG
                JUMP    OFFLM007

OFFLM006:       ACL     DIEXLX
                AND     IDMZX   NG
                ACS     MPRI127                 ;/X+ OFF LIMIT/
                ACS     IDFPX   NG

OFFLM007:       CMP     1,SLAVE_ON      ;=1 slave
        IFEQ    JUMP    OFFLM010

                ACL     DIEXLY
                AND     IDMZY
                ACS     MPRI130                 ;/Y+ OFF LIMIT/
                ACS     IDFPY   NG
                JUMP    OFFLM020

OFFLM010:       ACL     DIEXLY
                AND     IDMZY   NG
                ACS     MPRI130                 ;/Y+ OFF LIMIT/
                ACS     IDFPY   NG

OFFLM020:       ACL     DIEXLZ
                AND     IDMZZ
                ACS     MPRI133                 ;/Z+ OFF LIMIT/
                ACS     IDFPZ   NG

                CMP     2,SLAVE_ON      ;=2 master "Y2G"
        IFEQ    JUMP    OFFLM025

                CMP     3,SLAVE_ON      ;=3 slave "Y2G"
        IFEQ    JUMP    OFFLM022

                ACL     DIEXLX
                AND     IDMZX   NG
                ACS     MPRI126                 ;/X- OFF LIMIT/
                ACS     IDFNX   NG
                JUMP    OFFLM027

OFFLM022:       ACL     MDAWA1          ;1= AREA #1 selected
        IFEQ    JUMP    OFFLM023
                ACL     DIBEOR
                ACS     MPRI126                 ;/X- OFF LIMIT/
                ACS     IDFNX   NG
                JUMP    OFFLM027

OFFLM023:       ACL     DIEXLX
                AND     IDMZX   NG
                ACS     MPRI126                 ;/X- OFF LIMIT/
                ACS     IDFNX   NG
                JUMP    OFFLM027

OFFLM025:       ACL     DIEXLX
                AND     IDMZX
                ACS     MPRI126                 ;/X- OFF LIMIT/
                ACS     IDFNX   NG

OFFLM027:       CMP     1,SLAVE_ON      ;THIS IS SLAVE MACHINE
        IFEQ    JUMP    OFFLM030

                ACL     DIEXLY
                AND     IDMZY   NG
                ACS     MPRI129                 ;/Y- OFF LIMIT/
                ACS     IDFNY   NG
                JUMP    OFFLM040

OFFLM030:       ACL     DIEXLY
                AND     IDMZY
                AND     MPRI129                 ;/Y- OFF LIMIT/
                ACS     IDFNY   NG

OFFLM040:       ACL     DIEXLZ
                AND     IDMZZ   NG
                ACS     MPRI132                 ;/Z- OFF LIMIT/
                ACS     IDFNZ   NG
                SBEND

;   ----- MSGLIM - set EXLMSG register with axis number in extralimit -----

MSGLIM:         CLRR    EXLMSG
                CMP     2,P000070       ; =2 MSK motor, virtual cam disabled   =1 enabled
        IFNE    SBEND

                CMP     2,SLAVE_ON      ;=2 master "Y2G"
        IFEQ    JUMP    MSGLIM005

                ACL     DIEXLX          ;Verifica quale asse e' in fine corsa
                AND     IDMZX
                ACS     MPRI127
        IFNE    MOVE    127,EXLMSG      ;PLC01 : X AXIS POSITIVE EXTRA LIMIT/
                ACL     DIEXLX
                AND     IDMZX   NG
                ACS     MPRI126
        IFNE    MOVE    126,EXLMSG      ;PLC02 : X AXIS NEGATIVE EXTRA LIMIT/
                JUMP    MSGLIM017

MSGLIM005:      ACL     DIEXLX          ;Verifica quale asse e' in fine corsa
                AND     IDMZX   NG
                ACS     MPRI127
        IFNE    MOVE    127,EXLMSG      ;PLC01 : X AXIS POSITIVE EXTRA LIMIT/
                ACL     DIEXLX
                AND     IDMZX
                ACS     MPRI126
        IFNE    MOVE    126,EXLMSG      ;PLC02 : X AXIS NEGATIVE EXTRA LIMIT/


MSGLIM017:      CMP     1,SLAVE_ON      ;THIS IS SLAVE MACHINE
        IFEQ    JUMP    MSGLIM010

                ACL     DIEXLY
                AND     IDMZY
                ACS     MPRI130
        IFNE    MOVE    130,EXLMSG      ;PLC03 : Y AXIS POSITIVE EXTRA LIMIT/
                JUMP    MSGLIM020

MSGLIM010:      ACL     DIEXLY
                AND     IDMZY   NG
                ACS     MPRI130
        IFNE    MOVE    130,EXLMSG      ;PLC03 : Y AXIS POSITIVE EXTRA LIMIT/

MSGLIM020:
                CMP     1,SLAVE_ON      ;THIS IS SLAVE MACHINE
        IFEQ    JUMP    MSGLIM030

                ACL     DIEXLY
                AND     IDMZY   NG
                ACS     MPRI129
        IFNE    MOVE    129,EXLMSG      ;PLC04 : Y AXIS NEGATIVE EXTRA LIMIT/
                JUMP    MSGLIM040

MSGLIM030:      ACL     DIEXLY
                AND     IDMZY
                ACS     MPRI129
        IFNE    MOVE    129,EXLMSG      ;PLC04 : Y AXIS NEGATIVE EXTRA LIMIT/

MSGLIM040:      ACL     DIEXLZ
                AND     IDMZZ
                ACS     MPRI133
        IFNE    MOVE    133,EXLMSG      ;PLC05 : Z AXIS POSITIVE EXTRA LIMIT/
                ACL     DIEXLZ
                AND     IDMZZ   NG
                ACS     MPRI132
        IFNE    MOVE    132,EXLMSG      ;PLC06 : Z AXIS NEGATIVE EXTRA LIMIT/
                SBEND

;       ------  WT.PSA - Wait START push button ------

WT.PSA:
                BSET    MDWTPSA1                ;TO C.E. LOGIC
                LOAD    PSUB,1$

1$:             ACL     DIPSA                   ;START PUSH BUTTON
        IFEQ    PEND
                LOAD    PSUB,2$

2$:             ACL     DIPSA                   ;START PUSH BUTTON
        IFNE    PEND
                BCLR    MDWTPSA1                ;TO C.E. LOGIC
                SBEND

;       ------  RESOUT - clear all AUCOL output bits ------

RESOUT:         BCLR    DUONPW
                BCLR    DULUBR
                BCLR    DUEVS
                BCLR    MDEVS
                BCLR    DULSAM
                BCLR    DUNGHT
                BCLR    DULWTL
                BCLR    DUEWTL
                BCLR    DUEWT2
                BCLR    DUEVAL
                BCLR    DUEAL2
                BCLR    DULSAL
                BCLR    MDACCLUBON      ;to chip conv. o air lubrification
                BCLR    DUASLO
                BCLR    DULALO
                BCLR    DUOWXP
                BCLR    DUCWXP
                BCLR    DUOWXN
                BCLR    DUCWXN
                BCLR    DUOWXR
                BCLR    DUCWXR
                BCLR    DUOWXL
                BCLR    DUCWXL
                BCLR    DUEVG2
                BCLR    DULSAC
                BCLR    DULUB1
                BCLR    DULUB2

                BCLR    MDROOFOPXN      ;=1 GLOBAL MEMORY ROOF OPENED - TO AUCOL1 for XM negative

                SBEND

;       ------  ENDPRO - stop all processes  ------

ENDPRO:         STOP    /ALL_PROCESS
                SBEND

;   ----- CHKREG - check preselection of AUCOL registers by PLCBLK.SET -----

CHKREG:         BCLR    MPRI219         ;/INCORRECT AUCREG: ***/
                TST     TLUBR
        IFEQ    BSET    MPRI219
                TST     TLUBWT
        IFEQ    BSET    MPRI219
                TST     TLUMIN
        IFEQ    BSET    MPRI219
                TST     TLUBRR
        IFEQ    BSET    MPRI219
                TST     TLUBWTR
        IFEQ    BSET    MPRI219
                TST     TLUMINR
        IFEQ    BSET    MPRI219
                TST     X.ACC1
        IFEQ    BSET    MPRI219
                TST     Y.ACC1
        IFEQ    BSET    MPRI219
                TST     Z.ACC1
        IFEQ    BSET    MPRI219
                TST     X.ACC2
        IFEQ    BSET    MPRI219
                TST     Y.ACC2
        IFEQ    BSET    MPRI219
                TST     Z.ACC2
        IFEQ    BSET    MPRI219
                TST     X.ACC3
        IFEQ    BSET    MPRI219
                TST     Y.ACC3
        IFEQ    BSET    MPRI219
                TST     Z.ACC3
        IFEQ    BSET    MPRI219
                TST     X.ACC4
        IFEQ    BSET    MPRI219
                TST     Y.ACC4
        IFEQ    BSET    MPRI219
                TST     Z.ACC4
        IFEQ    BSET    MPRI219
                TST     X.ACC5
        IFEQ    BSET    MPRI219
                TST     Y.ACC5
        IFEQ    BSET    MPRI219
                TST     Z.ACC5
        IFEQ    BSET    MPRI219
                TST     DIG_TERM
        IFEQ    BSET    MPRI219
                TST     SRT_XM_F
        IFEQ    BSET    MPRI219
                TST     SRT_YM_F
        IFEQ    BSET    MPRI219
                TST     SRT_ZM_F
        IFEQ    BSET    MPRI219
                TST     SRT_XM_S
        IFEQ    BSET    MPRI219
                TST     SRT_YM_S
        IFEQ    BSET    MPRI219
                TST     SRT_ZM_S
        IFEQ    BSET    MPRI219
                TST     BOTTI
        IFEQ    BSET    MPRI219
                TST     WT_BOTTI
        IFEQ    BSET    MPRI219
                TST     TEMP_UN
        IFEQ    BSET    MPRI219
                TST     AXES_EN
        IFEQ    BSET    MPRI219
                TST     XM_TANDEM
        IFEQ    BSET    MPRI219
                TST     PROBE_SIGN
        IFEQ    BSET    MPRI219
                TST     LK_AHEAD
        IFEQ    BSET    MPRI219
                TST     COVER_ON
        IFEQ    BSET    MPRI219
                TST     P000530
        IFEQ    BSET    MPRI219
                TST     CAB_MINT
        IFEQ    BSET    MPRI219
                TST     CAB_MAXT
        IFEQ    BSET    MPRI219
                TST     TIME_COND
        IFEQ    BSET    MPRI219
                TST     AC_MANAG
        IFEQ    BSET    MPRI219
                TST     DELTAT_MAX
        IFEQ    BSET    MPRI219
                TST     IOTYPE
        IFEQ    BSET    MPRI219
                TST     P000027
        IFEQ    BSET    MPRI219
                TST     DOOR_STAT
        IFEQ    BSET    MPRI219
                TST     P000088
        IFEQ    BSET    MPRI219
                TST     P000107
        IFEQ    BSET    MPRI219
                TST     P000116
        IFEQ    BSET    MPRI219
                TST     P000186
        IFEQ    BSET    MPRI219
                TST     P000187
        IFEQ    BSET    MPRI219
                TST     P000486
        IFEQ    BSET    MPRI219
                TST     P000552
        IFEQ    BSET    MPRI219
                TST     P000569
        IFEQ    BSET    MPRI219
                TST     P000584
        IFEQ    BSET    MPRI219
                TST     P000610
        IFEQ    BSET    MPRI219
                TST     P000614
        IFEQ    BSET    MPRI219

;***** Init timer.Default is TMR_HLDEME set to 3gg.
                MOVE    P000314,CG40
                SBEND

;  ----- CORXYZ - Write "AXTPLC XM" & "AXTPLC YM" & "AXTPLC ZM"-----

CORXYZ:
                ADD	CG2,CG6,THERM_X		;CG* compensation from
                ADD     CG3,CG7,THERM_Y         ;THERMAL COMP. LOGIC
                ADD     CG4,CG8,THERM_Z      ;CG2,CG3,CG4 NOT USED NOW
		WRITEP  THERM_X,"AXTPLC XM"
                WRITEP  THERM_Y,"AXTPLC YM"
                WRITEP  THERM_Z,"AXTPLC ZM"
		SBEND

;       ------  AXSMOV - check the command or the moviment of axis  ------

AXSMOV:         ACL     MCNCON          ;Part-Programm
        IFNE    JUMP    2$
                ACL     MDZERO          ;Zero in esecution
        IFNE    JUMP    2$
                ACL     MDPRC           ;Procedure is in execution
        IFNE    JUMP    2$
                ACL     MDM06           ;Tool change is in execution
        IFNE    JUMP    2$
                ACL     MDM57           ;M57 M27 in execution
        IFNE    JUMP    2$
                ACL     UDLSC           ;START AUTOMATIC COPY PROCEDURE
        IFNE    JUMP    2$
                ACL     UDCNON          ;START AUTOMATIC COPY PROCEDURE
        IFNE    JUMP    2$
                ACL     MBL_RD_OP       ;M06 IN execution with rear_door open
        IFNE    JUMP    3$

1$:             BCLR    MDAXMV1          ;AXIS COMMAND OR IN MOVIMENT
                SBEND

2$:             ACL     MDM16           ;Manual tool change
        IFNE    JUMP    1$
                ACL     M_CLOCK_ON
        IFNE    JUMP    1$
3$:             BSET    MDAXMV1
                SBEND

;*****************************************************************************
;       PROCESS P1 - EXECUTE M AUCOL
;       Section to be completed by AUCOL programmer
;********************************************************
;********************************************************
;               M02 - END PROGAMM FOR NIGHT MANAGEMENT
;********************************************************

M02:            CMP     2L,NIGHT_MD             ;=2 OLD NIGHT LOGIC    =1 NEW NIGHT LOGIC
        IFEQ    JUMP    M02015

                ACL     DINGHT                  ;KEY FROM PANNEL NOT IN NIGHT MODE
        IFNE    JUMP    M02005
                READP   "NIGHT",NOTTE_ST
                CMP     0B,NOTTE_ST             ;PARAMETRO NIGHT IN "OF" ESEGUE ARRESTO PROGRAMMATO!
        IFEQ    BSET    MDM02ON
        IFEQ    JUMP    P1.EX
                JUMP    M02020

M02005:         READP   "NIGHT",NOTTE_ST
                CMP     0B,NOTTE_ST             ;PARAMETRO NIGHT IN "OF" ESEGUE ARRESTO PROGRAMMATO!
        IFEQ    JUMP    M02010

                BSET    MBLNIGHT                ;HOLD
                PAUSE   250

                BSET    MGOMAN
                BSET    DUNGHT                  ;SWITCH OFF MACHINE

                BCLR    MBLNIGHT                ;HOLD
                DMSG    2229                    ;System ShutDown
                JUMP    P1.EX

M02010:         NCM     02
                JUMP    P1.EX

;******* VECCHIA GESTIONE CNC**********
M02015:         BSET    DUNGHT                  ;SWITCH OFF MACHINE
                PAUSE   50
                NCM     02
                JUMP    P1.EX


M02020:         BSET    MBLNIGHT                ;HOLD
                PAUSE   250
                BSET    MGOMAN
                JUMP    P1.EX

;********************************************************
;               M100 - MANUAL LUBRICATION
;********************************************************

M100:           CMP     2,P000107       ;1= only one axes circuit lubrication ; 2= dual axes circuit lubrication ( with EV ) p.e. GTS
        IFNE    JUMP    M100020
                ACL     MDHPRG          ;H FUNCTION MUST BE PROGRAMMED
        IFEQ    JUMP    M100900
                MOVE    CHLETT,M100HPRO
                CLRR    CHLETT
                BCLR    MDHPRG
                TST     M100HPRO
        IFEQ    JUMP    M100900                 ; error
                CMP     1,M100HPRO
        IFEQ    JUMP    M100020                 ; enable slide lubrication circuit
                CMP     2,M100HPRO
        IFEQ    JUMP    M100030                 ; enable rack-pignon lubrication circuit
                JUMP    M100900                 ; error
                                        
M100020:        BSET    MDLUBR
                BCLR    MDLUBRR
                PAUSE   50
                JUMP    P1.EX

M100030:        BCLR    MDLUBR
                BSET    MDLUBRR
                PAUSE   50
                JUMP    P1.EX

; ------ emerg ------

M100900:        
                DMSG    1827                    ;/MISSING H FUNCTION
                BCLR    MDLUBR
                BCLR    MDLUBRR
                PAUSE   50
                JUMP    P1.EX

;********************************************************
;               M328 - SET ASPIRATION
;********************************************************

M328:           BSET    MDASPRQ
                BSET    MDASPRQ2
                JUMP    P1.EX

;********************************************************
;               M329 - RESET ASPIRATION
;********************************************************

M329:           BCLR    MDASPRQ
                BCLR    MDASPRQ2
                JUMP    P1.EX

;********************************************************
;               M104 - SET CLEANING
;********************************************************

M104:           ACL     MD_MP9ON
                IOR     MD1_MP9ON
		IOR	TYP_T0_101
        IFNE    JUMP    P1.EX

                ACL     MDUDCIR         ;LOW PRESS. WATER FROM CHIP. CONVEYOR IN EXECUTION
                IOR     MDHPEN          ;HIGH PRESS. WATER from chip.conveyor IN EXECUTION
                IOR     MDACCLUBON      ;ACCU-LUBE LUBRICATION IN EXECUTION
                IOR     MDEVCC          ;AIR TOOL LUBRICATION THROUGH SPINDLE IN EXECUTION
        IFNE    JUMP    M104_990

                BCLR    DUEVAL
                BCLR    DUEAL2
                BCLR    DULSAL
                BSET    DUEVS
                BSET    MDEVS
                BSET    DULSAM
                JUMP    P1.EX

M104_990:       DMSG    1862            ;WR CCO: CONTEMPORARY TOOL LUBRICATION FUNCTION INHIBITED
                BSET    MBLTOOLLUB      ;HOLD FROM CONTEMPORARY TOOL LUBRICATION
                JUMP    P1.EX

;********************************************************
;               M105 - RESET CLEANING
;********************************************************

M105:           BCLR    DUEVS
                BCLR    MDEVS
                BCLR    DULSAM
                JUMP    P1.EX

;******************************************************************************
;               M125 - WORKING TABLE LIGHT ENABLED
;******************************************************************************

M125:           BSET    DUEWTL          ;WORKING TABLE LIGHT ENABLE
                BSET    DUEWT2          ;
                BSET    DULWTL          ;WORKING TABLE LIGHT ENABLED
                DMSG    211             ;/MTE: WORKING TABLE LIGHT SWITCH ON/
                PAUSE   10
                JUMP    P1.EX

;******************************************************************************
;               M126 - WORKING TABLE LIGHT DISABLED
;******************************************************************************

M126:           BCLR    DUEWTL
                BCLR    DUEWT2
                BCLR    DULWTL
                DMSG    210             ;/MTE: WORKING TABLE LIGHT SWITCH OFF/
                PAUSE   10
                JUMP    P1.EX

;********************************************************
;               M137 (MEL) - SET ACCU-LUBE SYSTEM
;********************************************************

M137:           
                CMP     1,P000092       ;=2 CHECK SKIPPED
        IFNE    JUMP    M137005
                READP   "TOOL",T_ATT
                TST     T_ATT
        IFEQ    JUMP    M137_999
                ACL     MD_MP9ON
                IOR     MD1_MP9ON
		IOR	TYP_T0_101
        IFNE    JUMP    M137_999
                ACL     MDUDCIR         ;LOW PRESS. WATER FROM CHIP. CONVEYOR IN EXECUTION
                IOR     MDHPEN          ;HIGH PRESS. WATER from chip.conveyor IN EXECUTION
                IOR     MDEVS           ;AIR TOOL LUBRICATION FROM EXTERNAL IN EXECUTION
                IOR     MDEVCC          ;AIR TOOL LUBRICATION THROUGH SPINDLE IN EXECUTION
        IFNE    JUMP    M137_990
M137005:
                BCLR    DULSAM
                BCLR    DUEVS
                CMP     1,BOTTI         ;=-1 ACCU-LUBE =1 BOTTI
        IFEQ    BSET    DUEVS
                BSET    DUEVAL
                BSET    DUEAL2
                BSET    DULSAL
                BSET    MDACCLUBON      ;to chip conv. o air lubrification
                DMSG    172     ;/EXT: M137  AIR-OIL TOOL LUBRICATION SYSTEM SWITCH ON/
                JUMP    P1.EX

M137_990:       DMSG    1862            ;WR CCO: CONTEMPORARY TOOL LUBRICATION FUNCTION INHIBITED
                BSET    MBLTOOLLUB      ;HOLD FROM CONTEMPORARY TOOL LUBRICATION
                JUMP    P1.EX

M137_999:       DMSG    1857    ;"EM EXT: AIR-OIL TOOL LUBR. INHIBITED - NO TOOL ON SPINDLE
                JUMP    EMERG

;********************************************************
;               M138 (MDL) - RESET ACCU-LUBE SYSTEM
;********************************************************

M138:           BCLR    DUEVAL
                BCLR    DUEAL2
                BCLR    DUEVS
                BCLR    DULSAL
                BCLR    MDACCLUBON      ;to chip conv. o air lubrification
                DMSG    173     ;/EXT: M138  AIR-OIL TOOL LUBRICATION SYSTEM SWITCH OFF/
                JUMP    P1.EX

;*****************************************************************************
;               M155 - LOOK AHEAD PARAMETER - FINISHING
;*****************************************************************************

M155:

                JUMP    M155_001



M155_001:
                NCBLK   M155_GCODE

                CMP     1L,LK_AHEAD
        IFNE    JUMP    M155_010
                MOVE    155,VISLOOK
                WRITEP  VISLOOK,"MEMVIS1"

M155_010:
                JUMP    P1.EX

;*****************************************************************************
;               M156 - LOOK AHEAD PARAMETER - ROUGHING
;*****************************************************************************

M156:

                JUMP    M156_001


M156_001:
                NCBLK   M156_GCODE

                CMP     1L,LK_AHEAD
        IFNE    JUMP    M156_010
                MOVE    156,VISLOOK
                WRITEP  VISLOOK,"MEMVIS1"
M156_010:
                JUMP    P1.EX

;*****************************************************************************
;               M157 - LOOK AHEAD PARAMETER - CUSTOMER #1
;*****************************************************************************

M157:

                JUMP    M157_001



M157_001:
                NCBLK   M157_GCODE

                CMP     1L,LK_AHEAD
        IFNE    JUMP    M157_010
                MOVE    157,VISLOOK
                WRITEP  VISLOOK,"MEMVIS1"
M157_010:
                JUMP    P1.EX

;*****************************************************************************
;               M158 - LOOK AHEAD PARAMETER - CUSTOMER #2
;*****************************************************************************

M158:

                JUMP    M158_001



M158_001:
                NCBLK   M158_GCODE

                CMP     1L,LK_AHEAD
        IFNE    JUMP    M158_010
                MOVE    158,VISLOOK
                WRITEP  VISLOOK,"MEMVIS1"
M158_010:
                JUMP    P1.EX

;*****************************************************************************
;               M159 - LOOK AHEAD PARAMETER - CUSTOMER #3
;*****************************************************************************

M159:

                JUMP    M159_001



M159_001:
                NCBLK   M159_GCODE

                CMP     1L,LK_AHEAD
        IFNE    JUMP    M159_010
                MOVE    159,VISLOOK
                WRITEP  VISLOOK,"MEMVIS1"
M159_010:
                JUMP    P1.EX

;********************************************************
;               M167 - SET AIR COOLANT TOOL
;********************************************************

M167:           
                CMP     1,P000165	;=1 Opzione SCC/A installata	=2 non installata
        IFNE    JUMP	P1.EX
                ACL     MDUDCIR         ;LOW PRESS. WATER FROM CHIP. CONVEYOR IN EXECUTION
                IOR     MDHPEN          ;HIGH PRESS. WATER from chip.conveyor IN EXECUTION
                IOR     MDACCLUBON      ;ACCU-LUBE LUBRICATION IN EXECUTION
                IOR     MDEVS           ;AIR TOOL LUBRICATION FROM EXTERNAL IN EXECUTION
        IFNE    JUMP    M167_990

                CMP     1,P000116       ;1=DUEVWH   2=DUEVCC
        IFNE    JUMP    M167005
                BSET    DUEVWH
                JUMP    M167010        

M167005:        
;******* Wait air cycle to water removal ended
                LOAD    P1,M167_WTAIR
M167_WTAIR:     ACL     MSTOAIRL   ;AIR REM.-LOW PRESS WATER IN EXEC.
                IOR     MSTOAIRH   ;AIR REM.-HIGH PRESS WATER IN EXEC.
        IFNE    PEND
;********

                BSET    DUEVCC
M167010:        BSET    MDEVCC  ;TO chip conveyor o accu-lube
                BSET    DULSAT
                DMSG    0175    ;/EXT: M167 - AIR BLOW THROUGH THE TOOL SWITCH ON/
                JUMP    P1.EX

M167_990:       DMSG    1862            ;WR CCO: CONTEMPORARY TOOL LUBRICATION FUNCTION INHIBITED
                BSET    MBLTOOLLUB      ;HOLD FROM CONTEMPORARY TOOL LUBRICATION
                JUMP    P1.EX

;********************************************************
;               M168 - RESET AIR COOLANT TOOL
;********************************************************

M168:           
                CMP     1,P000165	;=1 Opzione SCC/A installata	=2 non installata
        IFNE    JUMP	P1.EX
;******* Wait air cycle to water removal ended
                LOAD    P1,M168_WTAIR
M168_WTAIR:     ACL     MSTOAIRL   ;AIR REM.-LOW PRESS WATER IN EXEC.
                IOR     MSTOAIRH   ;AIR REM.-HIGH PRESS WATER IN EXEC.
        IFNE    PEND
;********
                BCLR    DUEVWH
                BCLR    DUEVCC
                BCLR    MDEVCC  ;TO chip conveyor o accu-lube
                BCLR    DULSAT
                DMSG    0176    ;/EXT: M168 - AIR BLOW THROUGH THE TOOL SWITCH OFF/
                JUMP    P1.EX


;*****************************************************************************
;               M178 - CHANGE AXVSRT PARAMETER (SLOW)
;*****************************************************************************

M178:           DMSG    116             ;/AXS: M178 - REDUCED SPEED FOR RAPID TRAVERSE/
                PAUSE   10
                WRITEP  SRT_XM_S,"AXVSRT XM"
                WRITEP  SRT_YM_S,"AXVSRT YM"
                WRITEP  SRT_ZM_S,"AXVSRT ZM"
                JUMP    EMERG

;*****************************************************************************
;               M179 - CHANGE AXVSRT PARAMETER (FAST)
;*****************************************************************************

M179:           DMSG    115             ;/AXS: M179 - STANDARD SPEED FOR RAPID TRAVERSE/
                PAUSE   10
                WRITEP  SRT_XM_F,"AXVSRT XM"
                WRITEP  SRT_YM_F,"AXVSRT YM"
                WRITEP  SRT_ZM_F,"AXVSRT ZM"
                JUMP    EMERG

;*****************************************************************************
;               M242 - Z AXES SAFETY POSITIONING
;*****************************************************************************

M242:           STORE   VIRCAN,POSVIR           ; STORE VIRCAN STATE
                STORE   RTCP,POSTCP             ; STORE RTCP STATE

                STORE   ROTO,POSROT             ; STORE ROTO STATE

                TSTP    "TOOLCOORDP"            ; STORE TCS STATE
        IFEQ    BCLR    MDTCS
        IFNE    BSET    MDTCS
                NCBLK   POSG95                  ; VIRCAN OF
                NCBLK   POSG97                  ; RTCP OF
                NCBLK   POG195                  ; TCS OF

                NCBLK   POG197                  ; ROTO OF

                NCBLK   POSZ0                   ; Z MAX UP
                DMSG    0588                    ;/M242 - Z AXES SAFETY POSITIONING EXECUTED/
                NCBLK   POSVIR                  ; RESTORE VIRCAN STATE
                NCBLK   POSTCP                  ; RESTORE RTCP STATE

                NCBLK   POSROT                  ; RESTORE ROTO STATE

                ACL     MDTCS                   ; SET STORED TCS STATE
        IFNE    NCBLK   POG194                  ; TCS ON
                BCLR    MDTCS
                JUMP    P1.EX

;********************************************************
;               M293 - Store Axes Position
;********************************************************
                STORE   ROTO,POSROT             ; STORE ROTO STATE
                NCBLK   POG197                  ; ROTO OF
                NCBLK   POSROT                  ; RESTORE ROTO STATE
                STORE   ROTO,POSROT             ; STORE ROTO STATE
                NCBLK   POG197                  ; ROTO OF
                NCBLK   POSROT                  ; RESTORE ROTO STATE
;********************************************************
;      M307 - OPEN AUTOMATIC ROOF ON WORKING AREA
;********************************************************

M307:           BSET    MD307ON
                BSET    MD_OPROOF
                BCLR    MD_CLROOF
                PAUSE   25
                BCLR    MD_OPROOF
                BCLR    MD307ON
                JUMP    P1.EX

;********************************************************
;      M308 - CLOSE AUTOMATIC ROOF ON WORKING AREA
;********************************************************

M308:           BSET    MD_CLROOF
                BCLR    MD_OPROOF
                PAUSE   25
                BCLR    MD_CLROOF
                JUMP    P1.EX

;********************************************************
;      M334 - OPEN AUTOMATIC ROOF X+ ON WORKING AREA without GE logic
;********************************************************

M334:           BSET    MD334_OPRF
                BCLR    MD335_CLRF
                LOAD    P1,M334010
M334010:        ACL     MD334_OPRF
        IFNE    PEND
                JUMP    P1.EX

;********************************************************
;      M335 - CLOSE AUTOMATIC ROOF X+ ON WORKING AREA without GE logic
;********************************************************

M335:
                BSET    MD335_CLRF
                BCLR    MD334_OPRF
                LOAD    P1,M335010
M335010:        ACL     MD335_CLRF
        IFNE    PEND
                JUMP    P1.EX

;********************************************************
;      M336 - OPEN AUTOMATIC ROOF X- ON WORKING AREA without GE logic
;********************************************************

M336:           BSET    MD336_OPRF
                BCLR    MD337_CLRF
                LOAD    P1,M336010
M336010:        ACL     MD336_OPRF
        IFNE    PEND
                JUMP    P1.EX

;********************************************************
;      M337 - CLOSE AUTOMATIC ROOF X- ON WORKING AREA without GE logic
;********************************************************

M337:
                BSET    MD337_CLRF
                BCLR    MD336_OPRF
                LOAD    P1,M337010
M337010:        ACL     MD337_CLRF
        IFNE    PEND
                JUMP    P1.EX




;******************************************************************************
;               M417 - Customer airline actvation
;******************************************************************************

M417:           BSET    DUEVG2
                PAUSE   10
                JUMP    P1.EX

;******************************************************************************
;               M418 - Customer airline disactivation
;******************************************************************************

M418:           BCLR    DUEVG2
                PAUSE   10
                JUMP    P1.EX

;********************************************************
;      M610 - CLEARING PARTIAL MACHINE TIMER
;********************************************************
M610:
                MOVE    TOTREGRORA,TMPREGRORA
                MOVE    TOTREGRMIN,TMPREGRMIN
                SUB     TMPREGRORA,TOTREGRORA,PARREGRORA
                SUB     TMPREGRMIN,TOTREGRMIN,PARREGRMIN

                MOVE    TOTREGMORA,TMPREGMORA
                MOVE    TOTREGMMIN,TMPREGMMIN
                SUB     TMPREGMORA,TOTREGMORA,PARREGMORA
                SUB     TMPREGMMIN,TOTREGMMIN,PARREGMMIN

                MOVE    TOTREGSORA,TMPREGSORA
                MOVE    TOTREGSMIN,TMPREGSMIN
                SUB     TMPREGSORA,TOTREGSORA,PARREGSORA
                SUB     TMPREGSMIN,TOTREGSMIN,PARREGSMIN

                CNVTOA  TOTREGRORA,PLC1509+24           ;TOTAL OURS DI RUNNING
                DMSG    1509
                CNVTOA  TOTREGMORA,PLC1510+24           ;TOTAL OURS DI MACHINING
                DMSG    1510
                CNVTOA  TOTREGSORA,PLC1511+24           ;TOTAL OURS DI SPINDLE TIME
                DMSG    1511
                BSET    MSVREG
                LOAD    P1,M610020
M610020:        ACL     MSVREG
        IFNE    PEND
                MOVE    1L,REG_SAVE
                JUMP    P1.EX
;********************************************************
;               EXIT    P1
;********************************************************
P1.EX:          BSET    MEXEC
                STOP    P1
                PEND

;*****************************************************************************
;               PROCESS ASPPB - ASPIRATION PB
;*****************************************************************************
ASPPB.INI:      CMP     2L,P000530
        IFEQ    PEND

;*** Status Lamp
                ACL     ASP.ER
                IOR     ASP2.ER
        IFNE    JUMP    ASPPB.010
                ACL     MDASPRQ
                IOR     MDASPRQ2
        IFNE    JUMP    ASPPB.020
                JUMP    ASPPB.030

ASPPB.010:      CMP     ST.ASP,ASP.ON
	IFNE	JUMP	ASPPB.011

ASPPB.011:      CMP     ST.ASP2,ASP.ON
	IFNE	JUMP	ASPPB.015

		BFLASH  DULALO,25
		JUMP	ASPPB.040
ASPPB.015:	BCLR	DULALO
                JUMP    ASPPB.040

ASPPB.020:      BSET    DULALO
                JUMP    ASPPB.040
ASPPB.030:      BCLR    DULALO
                JUMP    ASPPB.040

ASPPB.040:      ACL     DIPALO
        IFEQ    PEND
                LOAD    ASPPB,ASPPB.050

ASPPB.050:      ACL     DIPALO 
        IFNE    PEND

                BNEG    MDASPRQ
                BNEG    MDASPRQ2

                LOAD    ASPPB,ASPPB.INI
                PEND

ASPPB.OFF:      BCLR    MDASPRQ
                BCLR    MDASPRQ2
                STOP    ASPPB
                PEND

;*****************************************************************************
;               PROCESS ASPRQ - ASPIRATION REQUEST
;*****************************************************************************
ASPRQ.INI:      CMP     2L,P000530
        IFEQ    PEND

                CMP     ST.ASP,ASP.ON
        IFNE    JUMP    ASPRQ.010
                ACL     MDASPRQ
        IFEQ    EXEC    ASP_OF
                JUMP    ASPRQ.020

ASPRQ.010:      CMP     ST.ASP,ASP.OF
        IFNE    JUMP    ASPRQ.020
                ACL     MDASPRQ
        IFNE    EXEC    ASP_ON

ASPRQ.020:      CMP     ST.ASP2,ASP.ON
        IFNE    JUMP    ASPRQ.030
                ACL     MDASPRQ2
        IFEQ    EXEC    ASP2_OF
                JUMP    ASPRQ.040

ASPRQ.030:      CMP     ST.ASP2,ASP.OF
        IFNE    JUMP    ASPRQ.040
                ACL     MDASPRQ2
        IFNE    EXEC    ASP2_ON

ASPRQ.040:      PEND

;*****************************************************************************
;               PROCESS ASP1 - ASPIRATION MANAGEMENT
;*****************************************************************************
ASP1.INI:       CMP     3L,P000530
        IFEQ    JUMP    ASP1.005
                CMP     4L,P000530
        IFEQ    JUMP    ASP1.005
                PEND

ASP1.005:       CMP     ST.ASP,ASP.ON
        IFEQ    JUMP    ASP1.010
		MOVE    tAIRFILRUN,TIME110
                MOVE    tAIRFILFNG,TIME111
                BCLR    MPRI2296
                BCLR    MPRI2298
                JUMP    ASP1.030

ASP1.010:       ACL     IAIRFILRUN
        IFEQ    JUMP    ASP1.015
                BCLR    MPRI2296
                MOVE    tAIRFILRUN,TIME110
                JUMP    ASP1.020

ASP1.015:       TST     TIME110
        IFNE    JUMP    ASP1.020
                ACL     MPRI2296
        IFEQ    DMSG    2296
                BSET    MPRI2296

ASP1.020:       ACL     IAIRFILFNG
        IFEQ    JUMP    ASP1.025
                BCLR    MPRI2298
                MOVE    tAIRFILFNG,TIME111
                JUMP    ASP1.030

ASP1.025:       TST     TIME111
        IFNE    JUMP    ASP1.030
                ACL     MPRI2298
        IFEQ    DMSG    2298
                BSET    MPRI2298

ASP1.030:       ACL     IAIRFILBRK
        IFNE    BCLR    MPRI2295
        IFNE    JUMP    ASP1.040

                ACL     MPRI2295
        IFEQ    DMSG    2295
                BSET    MPRI2295

ASP1.040:       ACL     IAIRFILRDY
        IFNE    BCLR    MPRI2297
        IFNE    JUMP    ASP1.050

                ACL     MPRI2297
        IFEQ    DMSG    2297
                BSET    MPRI2297
                JUMP    ASP1.050

ASP1.050:       ACL     MPRI2295
                IOR     MPRI2296
                IOR     MPRI2297
                IOR     MPRI2298
                ACS     ASP.ER

                ACL     MPRI2298
        IFNE    JUMP    ASP1.060
                PEND

;**** Switchoff about clogged alarm
;**** Wait Pb pressed or new req to exit
ASP1.060:       BCLR    MDASPRQ
                LOAD    ASP1,ASP1.070
                PEND
ASP1.070:       BSET    ASP.ER
                ACL     MDASPRQ
                IOR     DIPMSG
		IOR	DIPALO
        IFEQ    PEND
                LOAD    ASP1,ASP1.INI
                PEND

ASP1.OFF:       BCLR    MPRI2295
                BCLR    MPRI2296
                BCLR    MPRI2297
                BCLR    MPRI2298
                BCLR    ASP.ER
                STOP    ASP1
                PEND

;*****************************************************************************
;               PROCESS ASP2 - ASPIRATION MANAGEMENT
;*****************************************************************************
ASP2.INI:       CMP     4L,P000530
        IFNE    PEND

                CMP     ST.ASP2,ASP.ON
        IFEQ    JUMP    ASP2.010
		MOVE    tAIRFILRUN,TIME113
                MOVE    tAIRFILFNG,TIME114
                BCLR    MPRI2643
                BCLR    MPRI2645
                JUMP    ASP2.030

ASP2.010:       ACL     IAIRFI2RUN
        IFEQ    JUMP    ASP2.015
                BCLR    MPRI2643
                MOVE    tAIRFILRUN,TIME113
                JUMP    ASP2.020

ASP2.015:       TST     TIME113
        IFNE    JUMP    ASP2.020
                ACL     MPRI2643
        IFEQ    DMSG    2643
                BSET    MPRI2643

ASP2.020:       ACL     IAIRFI2FG
        IFEQ    JUMP    ASP2.025
                BCLR    MPRI2645
                MOVE    tAIRFILFNG,TIME114
                JUMP    ASP2.030

ASP2.025:       TST     TIME114
        IFNE    JUMP    ASP2.030
                ACL     MPRI2645
        IFEQ    DMSG    2645
                BSET    MPRI2645

ASP2.030:       ACL     IAIRFI2BRK
        IFNE    BCLR    MPRI2642
        IFNE    JUMP    ASP2.040

                ACL     MPRI2642
        IFEQ    DMSG    2642
                BSET    MPRI2642

ASP2.040:       ACL     IAIRFI2RDY
        IFNE    BCLR    MPRI2644
        IFNE    JUMP    ASP2.050

                ACL     MPRI2644
        IFEQ    DMSG    2644
                BSET    MPRI2644
                JUMP    ASP2.050

ASP2.050:       ACL     MPRI2642
                IOR     MPRI2643
                IOR     MPRI2644
                IOR     MPRI2645
                ACS     ASP2.ER

                ACL     MPRI2645
        IFNE    JUMP    ASP2.060
                PEND

;**** Switchoff about clogged alarm
;**** Wait Pb pressed or new req to exit
ASP2.060:       BCLR    MDASPRQ2
                LOAD    ASP2,ASP2.070
                PEND
ASP2.070:       BSET    ASP2.ER
                ACL     MDASPRQ2
                IOR     DIPMSG
		IOR	DIPALO
        IFEQ    PEND
                LOAD    ASP2,ASP2.INI
                PEND

ASP2.OFF:       BCLR    MPRI2642
                BCLR    MPRI2643
                BCLR    MPRI2644
                BCLR    MPRI2645
                BCLR    ASP2.ER
                STOP    ASP2
                PEND

;**********************************************************************
;       PROCESS AIR - AIR PRESSURE CONTROL
;**********************************************************************
AIRINI:         ACL     DIPAIR                  ;DIPAIR= 1 AIR PRESSURE OK
        IFNE    PEND
                MOVE    3,TIME31
                LOAD    AIR,AIR010

AIR010:         ACL     DIPAIR                  ;DIPAIR= 1 AIR PRESSURE OK
        IFNE    JUMP    AIR060
                TST     TIME31
        IFNE    PEND
                DMSG    230     ;/WR MTE: AIR PRESSURE OF THE PNEUMATIC CIRCUIT OUT OF RANGE/

AIR020:         LOAD    AIR,AIR030

AIR030:         ACL     DIPAIR                  ;DIPAIR= 1 AIR PRESSURE OK
                ACS     MPRI230 NG
        IFNE    JUMP    AIR050
                ACL     UDSMO
                IOR     UDSMA
        IFEQ    PEND
                BSET    MBLAIR
                MOVE    30,TIME01       ;30 Min.
                LOAD    AIR,AIR035

AIR035:         ACL     MBLAIR
        IFEQ    JUMP    AIR020
                ACL     DIPAIR
                ACS     MPRI230 NG
                ACL     DIPAIR
        IFNE    JUMP    AIR040
                ACL     ID24A
        IFEQ    JUMP    AIR020
                TST     TIME01
        IFNE    PEND
                DMSG    230             ;/WR MTE: AIR PRESSURE OF THE PNEUMATIC CIRCUIT OUT OF RANGE/
                BSET    MGOMAN
                PAUSE   25
                BCLR    MBLAIR
                JUMP    AIR020

AIR040:         DMSG    200             ;/MTE: AIR PRESSURE OF THE PNEUMATIC CIRCUIT IN RANGE/
                LOAD    AIR,AIR045
                PEND

AIR045:         ACL     MBLAIR
        IFEQ    JUMP    AIR060
                ACL     DIPAIR
                ACS     MPRI230 NG
                ACL     ID24A
        IFEQ    JUMP    AIR060
                TST     TIME01
        IFNE    PEND
                DMSG    230             ;/WR MTE: AIR PRESSURE OF THE PNEUMATIC CIRCUIT OUT OF RANGE/
                BSET    MGOMAN
                PAUSE   25
                BCLR    MBLAIR
                JUMP    AIR060

AIR050:         DMSG    200             ;/MTE: AIR PRESSURE OF THE PNEUMATIC CIRCUIT IN RANGE/

AIR060:         LOAD    AIR,AIRINI
                PEND

AIROFF:         BCLR    MBLAIR
                STOP    AIR
                PEND

;**********************************************************************
;       PROCESS DOC - CABINET DOORS CONTROL
;**********************************************************************

DOCINI:         ACL     MDPOA1          ;MDPOA1=1 CABINET DOORS OPENED
        IFEQ    PEND
                MOVE    10,TIME02
                LOAD    DOC,DOC010

DOC010:         ACL     MDPOA1
        IFEQ    JUMP    DOC040
                TST     TIME02
        IFNE    PEND

                CMP     1,P000552       ;DIPOAH=1 PNEUMATIC/HYDRAULIC Cabinet doors opened
        IFEQ    BSET    MPRI233
        IFEQ    DMSG    233             ;/WR MTE: DOORS OF ELECTRICAL CABINET OPEN/
                CMP     3,P000552       ;DIPOAH=1 PNEUMATIC/HYDRAULIC Cabinet doors opened
        IFEQ    BSET    MPRI233
        IFEQ    DMSG    233             ;/WR MTE: DOORS OF ELECTRICAL CABINET OPEN/
                CMP     2,P000552       ;DIPOAH=1 PNEUMATIC/HYDRAULIC Cabinet doors opened
        IFEQ    BSET    MPRI2320
        IFEQ    DMSG    2320            ;/WR MTE: PORTE CABINA APERTE/                                   "

                BSET    MBLDOC
                LOAD    DOC,DOC020

DOC020:         ACL     MDPOA1                  ;MDPOA1=1 DOORS OPENED
        IFEQ    JUMP    DOC030
                PEND

DOC030:         MOVE    25,TIME02
                LOAD    DOC,DOC035

DOC035:         ACL     MDPOA1
        IFNE    JUMP    DOC050
                TST     TIME02
        IFNE    PEND

                CMP     1,P000552       ;DIPOAH=1 PNEUMATIC/HYDRAULIC Cabinet doors opened
        IFEQ    DMSG    202             ;/MTE: DOORS OF ELECTRICAL CABINET CLOSED/
                CMP     3,P000552       ;DIPOAH=1 PNEUMATIC/HYDRAULIC Cabinet doors opened
        IFEQ    DMSG    202             ;/MTE: DOORS OF ELECTRICAL CABINET CLOSED/
                CMP     2,P000552       ;DIPOAH=1 PNEUMATIC/HYDRAULIC Cabinet doors opened
        IFEQ    DMSG    2319            ;/MTE: PORTE CABINA CHIUSE/ 

                BCLR    MPRI233
                BCLR    MPRI2320

DOC040:         LOAD    DOC,DOCINI
                PEND

DOC050:         LOAD    DOC,DOC020
                PEND

DOCOFF:         BCLR    MPRI233
                BCLR    MBLDOC
                STOP    DOC
                PEND

;**********************************************************************
;       PROCESS DOCPH - PNEUMATIC/HYDRAULIC CABINET DOORS CONTROL
;**********************************************************************

DOCPHINI:       CMP     2,P000552       ;=2 HYDRAULIC/PNEUMATIC CABINET DOOR NOT INSTALLED 
        IFEQ    PEND                
                ACL     MDPOAH          ;MDPOA1=1 CABINET DOORS OPENED
        IFEQ    PEND
                MOVE    10,TIME112
                LOAD    DOCPH,DOCPH010

DOCPH010:       ACL     MDPOAH
        IFEQ    JUMP    DOCPH040
                TST     TIME112
        IFNE    PEND
                DMSG    2312            ;MTE: DOORS OF HYDRAULIC/PNEUMATIC CABINET OPENED
                BSET    MPRI2312
                LOAD    DOCPH,DOCPH020

DOCPH020:       ACL     MDPOAH          ;MDPOAH=1 DOORS OPENED
        IFEQ    JUMP    DOCPH030
                PEND

DOCPH030:       MOVE    25,TIME112
                LOAD    DOCPH,DOCPH035

DOCPH035:       ACL     MDPOAH
        IFNE    JUMP    DOCPH050
                TST     TIME112
        IFNE    PEND
                DMSG    2311            ;MTE: DOORS OF HYDRAULIC/PNEUMATIC CABINET CLOSED
                BCLR    MPRI2312

DOCPH040:       LOAD    DOCPH,DOCPHINI
                PEND

DOCPH050:       LOAD    DOCPH,DOCPH020
                PEND

DOCPHOFF:       BCLR    MPRI2312
                STOP    DOCPH
                PEND

;**********************************************************************
;       PROCESS GRELEV - GREASE LEVEL IN LUBRICATION CIRCUIT
;**********************************************************************

GRELEVINI:      ACL     DULUBR
        IFEQ    PEND
                ACL     DIOILL
	IFNE	BCLR	MPRI236
        IFNE    PEND
                MOVE    3,TIME12
                LOAD    GRELEV,GRELEV010
     
GRELEV010:      TST     TIME12
        IFEQ    JUMP    GRELEV040
                ACL     DULUBR
        IFEQ    JUMP   GRELEV020 
                ACL     DIOILL
        IFEQ    PEND
GRELEV020:      BCLR   MPRI236 
                JUMP   GRELEV050 

GRELEV040:      ACL     MPRI236
        IFNE    JUMP    GRELEV050
                DMSG    236             ;/WR MTE: INSUFFICIENT GREASE LEVEL IN LUBRICATION CIRCUIT/
                BSET    MPRI236

GRELEV050:      LOAD    GRELEV,GRELEVINI
                PEND

GRELEVOFF:      BCLR   MPRI236 
                STOP   GRELEV
                PEND

;**********************************************************************
;       PROCESS LUB - LUBRICATION CYCLE WITH ELECTRIC PUMP
;**********************************************************************

LUBINI:         CMP     1,P000107       ;1= only one axes circuit lubrication ; 2= dual axes circuit lubrication ( with EV ) p.e. GTS
        IFNE    PEND
                TST     TIME04
        IFEQ    MOVE    TLUBWT,TIME04

LUB005:         LOAD    LUB,LUB010

LUB010:         ACL     MHLUBR          ;HOLD STORED DURING LUBRIF. CICLE
                AND     UDCNON  NG      ;AXIS NOT IN MOVIMENT
                AND     UDLPLP  NG
        IFNE    JUMP    LUB070         ;HOLD REQUEST

                ACL     MDLUBR
        IFNE    JUMP    LUB200
                TST     TIME04                  ;Entry point switch M.U.
        IFNE    PEND

;====== NORMAL LUBRICATION ======

LUB015:         ACL	MDFROMSECT
	IFNE	JUMP	LUB016		;COMING FROM SECOND TRANSITION
                ACL     DIPRES
                ACS     MDPRES                  ;SAVE BIT STATUS
LUB016:         DMSG    204             ;/MTE: GUIDES AND SCREWS LUBRICATION CYCLE IN EXECUTION/
                BSET    DULUBR
                MOVE    P000186,TIME05            ; 300


		ACL	MDFROMSECT		;COMING FROM SECOND TRANSITION
	IFNE	JUMP	LUB026
                LOAD    LUB,LUB020
; 1 DIPRES STATUS CHANGE 
LUB020:         ACL     DIPRES
                EOR     MDPRES
        IFNE    JUMP    LUB025
                TST     TIME05
        IFEQ    JUMP    LUB060                 ;emerg

                PEND

LUB025:         BCLR    MPRI1896         ;/MTE: GUIDES AND SCREWS LUBRICATION FIRST TRANSITION FAULT  "
		MOVE    P000186,TIME05
LUB026:         LOAD    LUB,LUB030
                PEND
; 2 DIPRES STATUS CHANGE
LUB030:         ACL     DIPRES
                EOR     MDPRES
        IFEQ    JUMP    LUB035
                TST     TIME05
        IFEQ    JUMP    LUB160                 ;emerg

                PEND

LUB035:         BCLR    DULUBR
                DMSG    203             ;/MTE: GUIDES AND SCREWS LUBRICATION CYCLE EXECUTED/
                JUMP    LUB095

; GUIDES AND SCREWS LUBRICATION CYCLE FAULT FROM FIRST DIPRES STATUS NOT CHANGE
  
LUB060:        
                BCLR    DULUBR
                BSET    MPRI1896         ;/MTE: GUIDES AND SCREWS LUBRICATION FIRST TRANSITION FAULT  "

                DMSG    235             ;/WR MTE: GUIDES AND SCREWS LUBRICATION CYCLE FAULT/
                DMSG    1896

LUB062:         TST     NHOLD
        IFNE    MOVE    2,NHOLD
                TST     NHOLD
        IFEQ    MOVE    1,NHOLD
                CMP     2,NHOLD
        IFGT    JUMP    LUB110               
 
; RETRAY ogni ora e Hold dopo 10 retray

LUB065:         MOVE    P000187,TIME04        ; 1 ora.
                CMP     10,NLUBRETY
        IFGT    JUMP    LUB085                  ;After 10 retray HOLD
                ACL     UDCNON        ;M.U. IN CNC or PLP execution
                IOR     UDLPLP
        IFNE    JUMP    LUB082        ;AXIS IN MOVIMENT HOLD NOT POSSIBLE

;
LUB070:         BSET    MBLLUB
                LOAD    LUB,LUB080
LUB080:         ACL     MBLLUB
        IFNE    PEND
                BCLR    MHLUBR                ;CLEAR HOLD CONDITION STORED
                MOVE    P000187,TIME04        ; 1 ora.
                JUMP    LUB110

LUB082:         BSET    MHLUBR                  ;STORE HOLD CONDITION
LUB085:         INC     NLUBRETY                ;Number of retray lubrication
                LOAD    LUB,LUBINI
                PEND

LUB095:         BCLR	MDFROMSECT
                BCLR    MPRI1896
                BCLR    MPRI1897
                BCLR    MHLUBR                ;CLEAR HOLD CONDITION STORED

	        CLRR    NHOLD
                CLRR    NLUBRETY
LUB110:         LOAD    LUB,LUBINI
                PEND

; LOOP CONTROL GUIDES AND SCREWS LUBRICATION CYCLE FAULT FROM SECOND DIPRES STATUS CHANGE
  
LUB160:         BSET	MDFROMSECT
                BCLR    DULUBR
                DMSG    235             ;/WR MTE: GUIDES AND SCREWS LUBRICATION CYCLE FAULT/
                BSET    MPRI1897         ;/MTE: GUIDES AND SCREWS LUBRICATION SECOND TRANSITION FAULT  "
                DMSG    1897
                MOVE    P000187,TIME04        ; 1 ora.
		JUMP    LUB062

;====== LUBRICATION WITH MLU ======
LUB200:         DMSG    204              ;/MTE: GUIDES AND SCREWS LUBRICATION CYCLE IN EXECUTION/
                BSET    DULUBR
                MOVE    TLUBR,TIME05

                LOAD    LUB,LUB210

LUB210:         
                TST     TIME05
        IFNE    PEND
                BCLR    DULUBR
                DMSG    203             ;/MTE: GUIDES AND SCREWS LUBRICATION CYCLE EXECUTED/
                JUMP    LUB250

LUB250:         BCLR    MDLUBR
                TST     TIME04
        IFNE    JUMP    LUB005
                JUMP    LUB015

LUBOFF:         BCLR    MHLUBR                ;CLEAR HOLD CONDITION STORED
                BCLR    DULUBR
                BCLR    MDLUBR
                BCLR    MPRI1896
                BCLR    MPRI1897
                STOP    LUB
                PEND

;**********************************************************************
;       PROCESS LUBSLD - LUBRICATION CYCLE CIRCUIT 1 "SLIDE" 
;**********************************************************************

LUBSLDINI:      CMP     2,P000107       ;1= only one axes circuit lubrication ; 2= dual axes circuit lubrication ( with EV ) p.e. GTS
        IFNE    PEND
                TST     TIME04
        IFEQ    MOVE    TLUBWT,TIME04

LUBSLD005:      LOAD    LUBSLD,LUBSLD010

LUBSLD010:      ACL     MHLUBR          ;HOLD STORED DURING LUBRIF. CICLE
                AND     UDCNON  NG      ;AXIS NOT IN MOVIMENT
                AND     UDLPLP  NG
        IFNE    JUMP    LUBSLD070         ;HOLD REQUEST

                ACL     MDLUBR
                AND     MDLUBRR NG
        IFNE    JUMP    LUBSLD200
                TST     TIME04
        IFNE    PEND

;====== NORMAL LUBRICATION ======
LUBSLD015:      ACL     MDLURACON               ;lub rack-pignon alrady on
        IFNE    PEND
                BSET    MDLUSLDON               ;flag to LUBRAC process
                ACL	MDFRSECTSL
	IFNE	JUMP	LUBSLD016		     ;COMING FROM SECOND TRANSITION
                ACL     DIPRE1
                ACS     MDPRE1                  ;SAVE BIT STATUS
LUBSLD016:      DMSG    1822                    ;/MTE: GUIDES AND SCREWS LUBRICATION CYCLE IN EXECUTION/

;--- modalita' accensione pompa - elettrovalvola
                CMP     1,P000144               ;=1 Pump-Ev =2 Ev-Pump 
        IFEQ    EXEC    PUMEVSLDON
                CMP     1,P000144               ;=1 Pump-Ev =2 Ev-Pump 
        IFNE    EXEC    EVPUMSLDON
;------------
                MOVE    P000186,TIME05            ; 300

		ACL	MDFRSECTSL		;COMING FROM SECOND TRANSITION
	IFNE	JUMP	LUBSLD026
                LOAD    LUBSLD,LUBSLD020

; 1 DIPRES STATUS CHANGE 
LUBSLD020:      ACL     DIPRE1
                EOR     MDPRE1
        IFNE    JUMP    LUBSLD025
                TST     TIME05
        IFEQ    JUMP    LUBSLD060                 ;emerg

                PEND

LUBSLD025:      BCLR    MPRI1896         ;/MTE: GUIDES AND SCREWS LUBRICATION FIRST TRANSITION FAULT  "
                MOVE    P000186,TIME05
LUBSLD026:      LOAD    LUBSLD,LUBSLD030
                PEND

; 2 DIPRES STATUS CHANGE
LUBSLD030:      ACL     DIPRE1
                EOR     MDPRE1
        IFEQ    JUMP    LUBSLD035
                TST     TIME05
        IFEQ    JUMP    LUBSLD160                 ;emerg

                PEND

LUBSLD035:      DMSG    1823                    ;/MTE: SLIDES LUBRICATION CYCLE EXECUTED
                CMP     1,P000146               ;=1 Pump-Ev =2 Ev-Pump 
        IFEQ    EXEC    PUMEVSLDOF
                CMP     1,P000146               ;=1 Pump-Ev =2 Ev-Pump 
        IFNE    EXEC    EVPUMSLDOF
                BCLR    MDLUSLDON
                JUMP    LUBSLD095

; GUIDES AND SCREWS LUBRICATION CYCLE FAULT FROM FIRST DIPRES STATUS NOT CHANGE  
LUBSLD060:
;--- modalita' spegnimento pompa - elettrovalvola
                CMP     1,P000146               ;=1 Pump-Ev =2 Ev-Pump 
        IFEQ    EXEC    PUMEVSLDOF
                CMP     1,P000146               ;=1 Pump-Ev =2 Ev-Pump 
        IFNE    EXEC    EVPUMSLDOF
                BCLR    MDLUSLDON
                DMSG    235             ;/WR MTE: GUIDES AND SCREWS LUBRICATION CYCLE FAULT/
                DMSG    1896            ;"MTE: GUIDES AND SCREWS LUBRICATION FIRST TRANSITION FAULT  "
                BSET    MPRI1896

LUBSLD062:      TST     NHOLD1SL
        IFNE    MOVE    2,NHOLD1SL
                TST     NHOLD1SL
        IFEQ    MOVE    1,NHOLD1SL
                CMP     2,NHOLD1SL
        IFGT    JUMP    LUBSLD110

; RETRAY ogni ora e Hold dopo 10 retray
LUBSLD065:      MOVE    P000187,TIME04        ; 1 ora.
                CMP     10,NLUBRETYSL
        IFGT    JUMP    LUBSLD085                  ;After 10 retray HOLD
                ACL     UDCNON        ;M.U. IN CNC or PLP execution
                IOR     UDLPLP
        IFNE    JUMP    LUBSLD082        ;AXIS IN MOVIMENT HOLD NOT POSSIBLE

LUBSLD070:      BSET    MBLLUB1SL          ;HOLD      
                LOAD    LUBSLD,LUBSLD080
LUBSLD080:      ACL     MBLLUB1SL
        IFNE    PEND
                BCLR    MHLUBR                ;CLEAR HOLD CONDITION STORED 
                MOVE    P000187,TIME04        ; 1 ora.
                JUMP    LUBSLD110

LUBSLD082:      BSET    MHLUBR                    ;STORE HOLD CONDITION
LUBSLD085:      INC     NLUBRETYSL                ;Number of retray lubrication
                LOAD    LUBSLD,LUBSLDINI
                PEND

LUBSLD095:      BCLR	MDFRSECTSL
                BCLR    MPRI235
                BCLR    MPRI1896
                BCLR    MPRI1897
                BCLR    MHLUBR

                CLRR    NHOLD1SL
                CLRR    NLUBRETYSL
LUBSLD110:      LOAD    LUBSLD,LUBSLDINI
                PEND

; LOOP CONTROL GUIDES AND SCREWS LUBRICATION CYCLE FAULT FROM SECOND DIPRES STATUS CHANGE
LUBSLD160:      BSET	MDFRSECTSL   

;--- modalita' spegnimento pompa - elettrovalvola
                CMP     1,P000146               ;=1 Pump-Ev =2 Ev-Pump 
        IFEQ    EXEC    PUMEVSLDOF
                CMP     1,P000146               ;=1 Pump-Ev =2 Ev-Pump 
        IFNE    EXEC    EVPUMSLDOF
                BCLR    MDLUSLDON
                DMSG    1897            ;"MTE: GUIDES AND SCREWS LUBRICATION SECOND TRANSITION FAULT "
                BSET    MPRI1897         ;/MTE: GUIDES AND SCREWS LUBRICATION SECOND TRANSITION FAULT  "
                MOVE    P000187,TIME04        ; 1 ora.
                JUMP    LUBSLD062
                
;====== LUBRICATION WITH MLU ======
; ------ manual lubrication only slide ------
LUBSLD200:      DMSG    1822                    ;/MTE: SLIDES LUBRICATION CYCLE IN EXECUTION

;--- modalita' accensione pompa - elettrovalvola
                CMP     1,P000144               ;=1 Pump-Ev =2 Ev-Pump 
        IFEQ    EXEC    PUMEVSLDON
                CMP     1,P000144               ;=1 Pump-Ev =2 Ev-Pump 
        IFNE    EXEC    EVPUMSLDON
                MOVE    TLUBR,TIME05

                LOAD    LUBSLD,LUBSLD210
LUBSLD210:      
                TST     TIME05
        IFNE    PEND
                DMSG    1823                    ;/MTE: SLIDES LUBRICATION CYCLE EXECUTED
                CMP     1,P000146               ;=1 Pump-Ev =2 Ev-Pump 
        IFEQ    EXEC    PUMEVSLDOF
                CMP     1,P000146               ;=1 Pump-Ev =2 Ev-Pump 
        IFNE    EXEC    EVPUMSLDOF
                JUMP    LUBSLD250

LUBSLD250:      BCLR    MDLUBR
                TST     TIME04
        IFNE    JUMP    LUBSLD005
                JUMP    LUBSLD015

; ------ exit ------
LUBSLDOFF:      BCLR    MHLUBR
                BCLR	MDFRSECTSL
                BCLR    DULUB1                 ;EV slides circuit
                BCLR    MDULUBR
                BCLR    MDLUBR
                BCLR    MDLUSLDON
                BCLR    MPRI1896
                BCLR    MPRI1897
                STOP    LUBSLD
                PEND

;**********************************************************************
;       PROCESS LUBRAC - LUBRICATION CYCLE CIRCUIT 2 "RACK-PIGNON" 
;**********************************************************************

LUBRACINI:      CMP     2,P000107       ;1= only one axes circuit lubrication ; 2= dual axes circuit lubrication ( with EV ) p.e. GTS
        IFNE    PEND
                TST     TIME48
        IFEQ    MOVE    TLUBWTR,TIME48

LUBRAC005:      LOAD    LUBRAC,LUBRAC010

LUBRAC010:      ACL     MHLUBRR          ;HOLD STORED DURING LUBRIF. CICLE
                AND     UDCNON  NG      ;AXIS NOT IN MOVIMENT
                AND     UDLPLP  NG
        IFNE    JUMP    LUBRAC070         ;HOLD REQUEST

                ACL     MDLUBR  NG
                AND     MDLUBRR
        IFNE    JUMP    LUBRAC200
                TST     TIME48
        IFNE    PEND

;====== NORMAL LUBRICATION ======
LUBRAC015:      ACL     MDLUSLDON               ;lub slide alrady on
        IFNE    PEND
                BSET    MDLURACON               ;flag to LUBSLD process
                ACL	MDFRSECTRA
	IFNE	JUMP	LUBRAC016		        ;COMING FROM SECOND TRANSITION
                ACL     DIPRE2
                ACS     MDPRE2                  ;SAVE BIT STATUS

LUBRAC016:      DMSG    1821                    ;/MTE: RACKS AND PIGNONS LUBRICATION CYCLE IN EXECUTION
;--- modalita' accensione pompa - elettrovalvola
                CMP     1,P000148               ;=1 Pump-Ev =2 Ev-Pump 
        IFEQ    EXEC    PUMEVRACON
                CMP     1,P000148               ;=1 Pump-Ev =2 Ev-Pump 
        IFNE    EXEC    EVPUMRACON
;------------
                MOVE    P000186,TIME05            ; 300

       		ACL	MDFRSECTRA		;COMING FROM SECOND TRANSITION
	IFNE	JUMP	LUBRAC026

                LOAD    LUBRAC,LUBRAC020
; 1 DIPRES STATUS CHANGE 
LUBRAC020:      ACL     DIPRE2
                EOR     MDPRE2
        IFNE    JUMP    LUBRAC025
                TST     TIME05
        IFEQ    JUMP    LUBRAC060

                PEND

LUBRAC025:      BCLR    MPRI2036 
                MOVE    P000186,TIME05
LUBRAC026:      LOAD    LUBRAC,LUBRAC030
                PEND
; 2 DIPRES STATUS CHANGE

LUBRAC030:      ACL     DIPRE2
                EOR     MDPRE2
        IFEQ    JUMP    LUBRAC035
                TST     TIME05
        IFEQ    JUMP    LUBRAC160                 ;emerg

                PEND

LUBRAC035:      DMSG    1826                    ;/MTE: RACKS AND PIGNONS LUBRICATION CYCLE EXECUTED
                CMP     1,P000150               ;=1 Pump-Ev =2 Ev-Pump 
        IFEQ    EXEC    PUMEVRACOF
                CMP     1,P000150               ;=1 Pump-Ev =2 Ev-Pump 
        IFNE    EXEC    EVPUMRACOF
                BCLR    MDLURACON
                JUMP    LUBRAC095

; RACK-PIGNON LUBRICATION CYCLE FAULT FROM FIRST DIPRES STATUS NOT CHANGE  
LUBRAC060:        
;--- modalita' spegnimento pompa - elettrovalvola
                CMP     1,P000150               ;=1 Pump-Ev =2 Ev-Pump 
        IFEQ    EXEC    PUMEVRACOF
                CMP     1,P000150               ;=1 Pump-Ev =2 Ev-Pump 
        IFNE    EXEC    EVPUMRACOF
                BCLR    MDLURACON
                DMSG    235             ;/WR MTE: GUIDES AND SCREWS LUBRICATION CYCLE FAULT/
                DMSG    2036            ;"MTE: RACK AND PIGNON LUBRICATION FIRST TRANSITION FAULT  "
                BSET    MPRI2036
LUBRAC062:      TST     NHOLD1RA
        IFNE    MOVE    2,NHOLD1RA
                TST     NHOLD1RA
        IFEQ    MOVE    1,NHOLD1RA
                CMP     2,NHOLD1RA
        IFGT    JUMP    LUBRAC110
; RETRAY ogni ora e Hold dopo 10 retray

LUBRAC065:      MOVE    P000187,TIME48        ; 1 ora.
                CMP     10,NLUBRETYRA
        IFGT    JUMP    LUBRAC085                  ;After 10 retray HOLD
                ACL     UDCNON        ;M.U. IN CNC or PLP execution
                IOR     UDLPLP
        IFNE    JUMP    LUBRAC082        ;AXIS IN MOVIMENT HOLD NOT POSSIBLE

LUBRAC070:      BSET    MBLLUB1RA          ;HOLD      
                LOAD    LUBRAC,LUBRAC080
LUBRAC080:      ACL     MBLLUB1RA
        IFNE    PEND
                BCLR    MHLUBRR
                MOVE    P000187,TIME48        ; 1 ora.
                JUMP    LUBRAC110

LUBRAC082:      BSET    MHLUBRR
LUBRAC085:      INC     NLUBRETYRA                ;Number of retray lubrication
                LOAD    LUBRAC,LUBRACINI
                PEND

LUBRAC095:      BCLR	MDFRSECTRA
                BCLR    MPRI2036
                BCLR    MPRI2037
                BCLR    MHLUBRR
                CLRR    NHOLD1RA
                CLRR    NLUBRETYRA
LUBRAC110:      LOAD    LUBRAC,LUBRACINI
                PEND

; LOOP CONTROL GUIDES AND SCREWS LUBRICATION CYCLE FAULT FROM SECOND DIPRES STATUS CHANGE
  
LUBRAC160:      BSET	MDFRSECTRA   
;--- modalita' spegnimento pompa - elettrovalvola
                CMP     1,P000150               ;=1 Pump-Ev =2 Ev-Pump 
        IFEQ    EXEC    PUMEVRACOF
                CMP     1,P000150               ;=1 Pump-Ev =2 Ev-Pump 
        IFNE    EXEC    EVPUMRACOF
                BCLR    MDLURACON
                BSET    MPRI2037
                DMSG    2037            ;"MTE: RACK AND PIGNON LUBRICATION SECOND TRANSITION FAULT "
                MOVE    P000187,TIME48        ; 1 ora.
                JUMP    LUBRAC062
                
;====== LUBRICATION WITH MLU ======

; ------ manual lubrication only rack-pignon ------

LUBRAC200:      DMSG    1821                    ;/MTE: RACKS AND PIGNONS LUBRICATION CYCLE IN EXECUTION

                CMP     1,P000148               ;=1 Pump-Ev =2 Ev-Pump 
        IFEQ    EXEC    PUMEVRACON
                CMP     1,P000148               ;=1 Pump-Ev =2 Ev-Pump 
        IFNE    EXEC    EVPUMRACON
                MOVE    TLUBRR,TIME05

                LOAD    LUBRAC,LUBRAC210

LUBRAC210:      
                TST     TIME05
        IFNE    PEND
                DMSG    1826                    ;/MTE: RACKS AND PIGNONS LUBRICATION CYCLE EXECUTED
                CMP     1,P000150               ;=1 Pump-Ev =2 Ev-Pump 
        IFEQ    EXEC    PUMEVRACOF
                CMP     1,P000150               ;=1 Pump-Ev =2 Ev-Pump 
        IFNE    EXEC    EVPUMRACOF
                JUMP    LUBRAC250

LUBRAC250:      BCLR    MDLUBRR
                TST     TIME48
        IFNE    JUMP    LUBRAC005
                JUMP    LUBRAC015

; ------ exit ------
LUBRACOFF:      BCLR	MDFRSECTRA
                BCLR    MHLUBRR
                BCLR    MPRI2036
                BCLR    MPRI2037 
                BCLR    DULUB2
                BCLR    MDULUBRR
                BCLR    MDLUBRR
                BCLR    MDLURACON
                STOP    LUBRAC
                PEND

;*****************************************************************************
;       PROCESS OFL - Off limit emergency & extralimit return
;*****************************************************************************

OFLINI:         BSET    MRBLX_OFL
                BSET    MRBLY_OFL
                BSET    MRBLZ_OFL

                CMP     2,P000070       ; =2 MSK motor, virtual cam disabled   =1 enabled
        IFNE    PEND

                BCLR    MDPFC1
                EXEC    OFFLM           ;Copy extralimit bits & set messages
                ACL     UDCMA           ;Wait for AUTOMATIC
        IFEQ    PEND

;       -------- Verifica oltrecorsa gi attivo -----------
                EXEC    MSGLIM          ;Set EXLMSG with number of message
                TST     EXLMSG          ;(last axis in offlimit)
        IFNE    JUMP    OFL010

;       -------- Nessun oltrecorsa caso AutoOn ------------
                LOAD    OFL,OFL020      ;Not in extralimit axes loop
                PEND

OFL010:         DMSG    EXLMSG          ;Visualize last axis in extralimit
                LOAD    OFL,OFL040      ;Loop axes in extralimit (return inside
                PEND                    ;working zone without emergency)

;       -------- Loop controllo oltrecorsa  ---------------
OFL020:         BCLR    MDPFC1
                ACL     MDZERO          ;MDZERO=1 Ricerca di zero attiva
        IFNE    JUMP    OFL025
                BCLR    DUONPW
                EXEC    OFFLM           ;Copy extralimit & set messages
                EXEC    MSGLIM          ;Set EXLMSG with last axes in extralimit
                TST     EXLMSG
        IFNE    JUMP    OFL030
                ACL     UDCMA
        IFEQ    LOAD    OFL,OFLINI
                PEND

;       -------- Ricerca di zero attiva --------------------
OFL025:         BSET    DUONPW
                PEND

;       -------- Emergenza per Oltrecorsa raggiunto --------
OFL030:         DMSG    EXLMSG
                LOAD    OFL,OFLINI
                JUMP    EMERG

;       -------- Oltrecorsa attivo inserzione by-pass ------
OFL040:         BSET    MDPFC1          ;Axes in extralimit loop (out by JOG)
                BSET    DUONPW          ;Axis lock, servo unit POWER enable
                EXEC    OFFLM           ;Copy extralimit & set messages

;       -------- Stop assi non in oltrecorsa ---------------
                ACL     UDCMA
        IFEQ    LOAD    OFL,OFLINI
                ACL     DIEXLX
                ACS     MRBLX_OFL
                ACL     DIEXLY
                ACS     MRBLY_OFL
                ACL     DIEXLZ
                ACS     MRBLZ_OFL
                ACL     MRBLX_OFL NG
                AND     MRBLY_OFL NG
                AND     MRBLZ_OFL NG
        IFEQ    PEND

;       -------- Assi rientrati ---------------
                BSET    MRBLX_OFL
                BSET    MRBLY_OFL
                BSET    MRBLZ_OFL
                PAUSE   10
                LOAD    OFL,OFL020
                PEND

;**********************************************************************
;       PROCESS OVW - WARNING TEMPERATURE CONTROL
;**********************************************************************

OVWINI:         CMP     -1,DIG_TERM     ;DIGITAL TERMOSTAT NOT PRESENT IN CABINET
        IFEQ    PEND
                ACL     MDCOVW          ;=0 Cabinet temperatura warning > 40
        IFNE    PEND
                MOVE    5,TIME19
                LOAD    OVW,OVW020
                PEND

OVW020:         ACL     MDCOVW
        IFNE    JUMP    OVW400          ;Exit
                TST     TIME19
        IFNE    PEND
                DMSG    242             ;/WR MTE: ELECTRIC CABIN OVERTEMPERATURE/
                BSET    MPRI242
                LOAD    OVW,OVW040
                PEND

OVW040:         ACL     MDCOVW
        IFEQ    PEND
                DMSG    205             ;MTE: INTERNAL TEMPERATURE ELECTRIC CABIN IN OPERATIVE RANGE
                BCLR    MPRI242
                JUMP    OVW400

;       ---- Exit ----

OVW400:         LOAD    OVW,OVWINI
                PEND

;**********************************************************************
;       PROCESS OVT - OVER TEMPERATURE CONTROL
;**********************************************************************

OVTINI:         ACL     MDCOVT          ; =1 TEMP. INSIDE ELEC CAB OK
        IFNE    PEND
                MOVE    5,TIME08        ; 5 SECONDS
                LOAD    OVT,OVT010

OVT010:         ACL     MDCOVT
        IFNE    JUMP    OVT100
                TST     TIME08
        IFNE    PEND
                DMSG    234             ;/WR MTE: ELECTRIC CABIN OVERTEMPERATURE - 3' TO POWER DOWN/
                ACL     ID24C
        IFEQ    JUMP    OVT070          ; MACHINE IN POWER OFF
                MOVE    180,TIME08      ; 3 MINUTES
                ACL     ID24A
        IFEQ    JUMP    OVT040          ; MACHINE IN MANUAL
                BSET    MBLOVT          ;[HOLD]
                LOAD    OVT,OVT020

OVT020:         ACL     ID24C
        IFEQ    JUMP    OVT070
                ACL     ID24A
        IFEQ    JUMP    OVT030
                ACL     MDCOVT
                ACS     MPRI234 NG
        IFNE    JUMP    OVT090
                TST     TIME08
        IFEQ    JUMP    OVT060
                ACL     MBLOVT
        IFNE    PEND
                JUMP    OVT040

OVT030:         BCLR    MBLOVT

OVT040:         LOAD    OVT,OVT050

OVT050:         ACL     ID24C
        IFEQ    JUMP    OVT070
                TST     TIME08
        IFEQ    JUMP    OVT060
                ACL     MDCOVT
                ACS     MPRI234 NG
        IFEQ    PEND
                JUMP    OVT090

OVT060:         DMSG    217             ;/EM MTE: ELECTRIC CABIN OVERTEMPERATURE - POWER DOWN/
                BSET    MBLOVT
                PAUSE   100
                BCLR    DUAUOK          ;Power off

                PAUSE   10
                JUMP    EMERG
OVT070:         BCLR    MBLOVT
                LOAD    OVT,OVT080
                PEND

OVT080:         ACL     MDCOVT
                ACS     MPRI234 NG
        IFNE    JUMP    OVT090
                ACL     ID24C
        IFNE    JUMP    OVT100
                PEND

OVT090:         DMSG    205             ;/MTE: INTERNAL TEMPERATURE ELECTRIC CABIN IN OPERATIVE RANGE/

OVT100:         LOAD    OVT,OVTINI
                PEND

;*****************************************************************************
;       PROCESS REL - RELEASE push button management
;*****************************************************************************

RELINI:         ACL     IDPSB           ;Verify [RELEASE] push button pressed
        IFEQ    PEND
                BCLR    MBLDOC
                BCLR    MBLOVT
                BCLR    MBLLUB
                BCLR    MBLLUB1SL
                BCLR    MBLLUB1RA
                BCLR    MBLLUBR
                BCLR    MBLCFB
                BCLR    MBLCOL
                BCLR    MH_COLMAX
                BCLR    MBLNIGHT
                ACL     UDLM03
                IOR     UDLM04
        IFEQ    BCLR    MBLAIR
                ACL     DIPAIR
        IFNE    BCLR    MBLAIR
                LOAD    REL,REL010

REL010:         ACL     IDPSB
        IFNE    PEND
                DMSG    1235            ;/MTE: < REL > PRESSED BY THE OPERATOR/
                BCLR    MHLCOLDAIR
                BCLR    MBL_WXP_MG
                BCLR    MBL_WXN_MG
                BCLR    MBL_WXN3MG
                BCLR    MBL_BOTTI
                BCLR    MBL_INSXP       ;INSERT HOCKING ON CARTER SIDE
                BCLR    MBL_INSXN
                BCLR    MBL_REMXP       ;REMOVE HOCKING ON CARTER SIDE
                BCLR    MBL_REMXN
                BCLR    MBL_INSXR       ;INSERT HOCKING ON RAM SIDE
                BCLR    MBL_INSXL
                BCLR    MBL_REMXR       ;REMOVED HOCKING ON RAM SIDE
                BCLR    MBL_REMXL
                BCLR    MBL_XNLOCK      ;Release
                BCLR    MBL_XPLOCK      ;Release
                BCLR    MBLTOOLLUB
                BCLR    MH_PALLET
                BCLR    MH_PALLET2
                LOAD    REL,RELINI
                PEND

;*****************************************************************************
;               PROCESS SOF - CLEANING PUSHBUTTON
;*****************************************************************************

SOFINI:         ACL     DUEVS
        IFNE    JUMP    SOF030
                ACL     MDM06
                IOR     MDM16
                IOR     MDM57
                IOR     MD_MP9ON
                IOR     MD1_MP9ON
		IOR	TYP_T0_101
        IFNE    PEND
                ACL     DIPSAM
        IFNE    JUMP    SOF010
                PEND

SOF010:         LOAD    SOF,SOF020

SOF020:         ACL     DIPSAM
        IFNE    PEND
                ACL     MDUDCIR         ;LOW PRESS. WATER FROM CHIP. CONVEYOR IN EXECUTION
                IOR     MDHPEN          ;HIGH PRESS. WATER from chip.conveyor IN EXECUTION
                IOR     MDACCLUBON      ;ACCU-LUBE LUBRICATION IN EXECUTION
                IOR     MDEVCC          ;AIR TOOL LUBRICATION THROUGH SPINDLE IN EXECUTION
        IFNE    JUMP    SOF_990

SOF025:         BSET    DUEVS
                BSET    MDEVS
                BCLR    DUEAL2
                BCLR    DUEVAL
                BSET    DULSAM
                BCLR    DULSAL

SOF030:         LOAD    SOF,SOF040

SOF040:         ACL     DUEVS
        IFEQ    JUMP    SOF070
                ACL     DIPSAM
        IFNE    JUMP    SOF050
                ACL     MDRQNOLUB
        IFNE    JUMP    SOF065

;---------- laser cutting device managment ------------
                CMP     1L,CG43         ;FROM SL-93 HEAD LOGIC - laser cutting device managment
        IFNE    JUMP    SOF045          ;CG43=1 laser cutting device INSTALLED
                ACL     MDLASERINS      ;=1 laser cutting device ENABLED
        IFNE    JUMP    SOF065
;-----------------------------------------------------
SOF045:         ACL     MDM06
                IOR     MDM16
                IOR     MDM57
        IFNE    JUMP    SOF100
                PEND

SOF050:         LOAD    SOF,SOF060

SOF060:         ACL     DIPSAM
        IFNE    PEND
SOF065:         BCLR    DUEVS
                BCLR    MDEVS
                BCLR    DULSAM

SOF070:         LOAD    SOF,SOFINI
                PEND

SOF100:         BCLR    DUEVS
                BCLR    MDEVS
                BCLR    DULSAM
                LOAD    SOF,SOF110

SOF110:         ACL     MDM06
                IOR     MDM16
                IOR     MDM57
        IFNE    PEND
                READP   "TOOL",T_ATT
                TST     T_ATT
        IFEQ    JUMP    SOF070
                ACL     MD_MP9ON
                IOR     MD1_MP9ON
		IOR	TYP_T0_101
        IFNE    JUMP    SOF070
                JUMP    SOF025

SOF_990:        DMSG    1862            ;WR CCO: CONTEMPORARY TOOL LUBRICATION FUNCTION INHIBITED
                LOAD    SOF,SOFINI
                PEND                

SOFOFF:         BCLR    DUEVS
                BCLR    MDEVS
                BCLR    DULSAM
                STOP    SOF
                PEND

;**********************************************************************
;       PROCESS TM_SER - MTS SERIALIZED POWER BREAKERS
;**********************************************************************

TM_SERINI:      PAUSE   100
                LOAD    TM_SER,TM_SER010

TM_SER010:      BCLR    MPRI231
                ACL     DIMTOK
        IFNE    PEND
                MOVE    1,TIME10                ; 1 SEC WAIT TO BE SURE
                LOAD    TM_SER,TM_SER020

TM_SER020:      ACL     DIMTOK
        IFNE    JUMP    TM_SER040
                TST     TIME10
        IFNE    PEND
                DMSG    231             ;/WR MTE: AUTOMATIC BREAKER TRIPPED/
                BSET    MPRI231
                LOAD    TM_SER,TM_SER030

TM_SER030:      ACL     DIMTOK
        IFEQ    PEND

TM_SER040:      LOAD    TM_SER,TM_SER010
                PEND

;*****************************************************************************
;               PROCESS PWR - ID24C CHECK
;*****************************************************************************

PWRINI:         ACL     ID24C
        IFNE    PEND
                DMSG    218     ;/EM MTE: EMERGENCY CONDITION - AUX. CIRCUIT SWITCH OFF/
                BCLR    DULAUX          ;LAMP for ID24C=1
                BSET    MPRI218
                LOAD    PWR,PWR010

PWR010:         ACL     ID24C
        IFEQ    PEND
                DMSG    201     ;/MTE: AUX. CIRCUIT POWERED - MACHINE TOOL READY/
                BFLASH  DULAUX,25       ;LAMP for ID24C=1
                BCLR    MPRI218
                LOAD    PWR,PWRINI
                PEND

;*****************************************************************************
;       PROCESS WTL - WORKING TABLE LIGHT MANAGEMENT
;*****************************************************************************

WTLINI:         ACL     DIPWTL          ;LIGHT ENABLE REQUEST FROM PUSH BUTTON
        IFEQ    PEND
                LOAD    WTL,WTL010

WTL010:         ACL     DIPWTL
        IFNE    PEND
                BSET    DUEWTL          ;WORKING TABLE LIGHT ENABLE
                BSET    DUEWT2          ;
                BSET    DULWTL          ;WORKING TABLE LIGHT ENABLED
                DMSG    211             ;/MTE: WORKING TABLE LIGHT SWITCH ON/
                LOAD    WTL,WTL020

WTL020:         ACL     DIPWTL
        IFEQ    PEND
                LOAD    WTL,WTL030

WTL030:         ACL     DIPWTL
        IFNE    PEND
                BCLR    DUEWTL
                BCLR    DUEWT2
                BCLR    DULWTL
                DMSG    210             ;/MTE: WORKING TABLE LIGHT SWITCH OFF/
                LOAD    WTL,WTLINI
                PEND

;**********************************************************************
;       PROCESS INK1 - INDRAMAT POWER SUPPLY CONTROL (K1)
;**********************************************************************

;       -------- MANUALE MODE --------

INK1_INI:       ACL     UDCMA
        IFNE    JUMP    INK1_080
                ACL     DIINK1          ;DIINK1=1 Indramat power supply ready
        IFEQ    JUMP    INK1_020
                BSET    MPRI125
                BSET    MEM_INK1        ;MEM_INK1=1 K1 close before UDCMA
                PEND

INK1_020:       BCLR    MPRI125
                BCLR    MEM_INK1
                PEND

;       -------- AUTOMATIC MODE --------

INK1_080:       ACL     DIINK1          ;DIINK1=1 Indramat power supply ready
        IFNE    PEND
                MOVE    5,TIME09
                LOAD    INK1,INK1_100

INK1_100:       ACL     DIINK1
        IFNE    JUMP    INK1_120
                TST     TIME09
        IFNE    PEND
                DMSG    125             ;/EM AXS: POWER SUPPLY OF LINEAR AXIS DRIVES NOT READY/

INK1_120:       LOAD    INK1,INK1_INI
                PEND

INK1_OFF:       BCLR    MEM_INK1
                STOP    INK1
                PEND

;*****************************************************************************
;               PROCESS RDY_X - READY OF X AXIS DRIVE
;*****************************************************************************

RDY_X_INI:      
                CMP     1,P000072       ;=2 DISABLED DIBBx MANAG.
        IFNE    PEND
                READP   "AXSIDTM XM",RIDTMX
                CMP     1B,RIDTMX
        IFEQ    PEND
                ACL     DIBBX           ;DIBBX=1 X axis drive ready
        IFNE    PEND
                MOVE    10,TIME14
                LOAD    RDY_X,RDY_X_020
                PEND

RDY_X_020:      ACL     DIBBX
        IFNE    JUMP    RDY_X_040
                TST     TIME14
        IFNE    PEND
                DMSG    120             ;/EM AXS: DRIVE or MOTOR FAULTY ON X AXIS/
                JUMP    EMERG

RDY_X_040:      LOAD    RDY_X,RDY_X_INI
                PEND

RDY_X_OFF:      STOP    RDY_X
                PEND

;*****************************************************************************
;               PROCESS RDY_X1 - READY OF X TANDEM AXIS DRIVE
;*****************************************************************************

RDY_X1_INI:     
                CMP     1,P000072       ;=2 DISABLED DIBBx MANAG.
        IFNE    PEND

                CMP     1,XM_TANDEM     ;=1 X Tandem present
        IFEQ    JUMP    RDY_X1_010
                PEND

RDY_X1_010:     READP   "AXSIDTM XM",RIDTMX
                CMP     1B,RIDTMX
        IFEQ    PEND
                ACL     DIBBX1          ;DIBBX1=1 X axis tandem drive ready
        IFNE    PEND
                MOVE    10,TIME28
                LOAD    RDY_X1,RDY_X1_020
                PEND

RDY_X1_020:     ACL     DIBBX1
        IFNE    JUMP    RDY_X1_040
                TST     TIME28
        IFNE    PEND
                DMSG    142             ;/EM AXS: DRIVE or MOTOR FAULTY ON X TANDEM AXIS/
                JUMP    EMERG

RDY_X1_040:     LOAD    RDY_X1,RDY_X1_INI
                PEND

RDY_X1_OFF:     STOP    RDY_X1
                PEND

;*****************************************************************************
;               PROCESS RDY_Y - READY OF Y AXIS DRIVE
;*****************************************************************************

RDY_Y_INI:      
                CMP     1,P000072       ;=2 DISABLED DIBBx MANAG.
        IFNE    PEND

                READP   "AXSIDTM YM",RIDTMY
                CMP     1B,RIDTMY
        IFEQ    PEND
                ACL     DIBBY           ;DIBBY=1 Y axis drive ready
        IFNE    PEND
                MOVE    10,TIME15
                LOAD    RDY_Y,RDY_Y_020
                PEND

RDY_Y_020:      ACL     DIBBY
        IFNE    JUMP    RDY_Y_040
                TST     TIME15
        IFNE    PEND
                DMSG    121             ;/EM AXS: DRIVE or MOTOR FAULTY ON Y AXIS/
                JUMP    EMERG

RDY_Y_040:      LOAD    RDY_Y,RDY_Y_INI
                PEND

RDY_Y_OFF:      STOP    RDY_Y
                PEND

;*****************************************************************************
;               PROCESS RDY_Z - READY OF Z AXIS DRIVE
;*****************************************************************************

RDY_Z_INI:      
                CMP     1,P000072       ;=2 DISABLED DIBBx MANAG.
        IFNE    PEND

                READP   "AXSIDTM ZM",RIDTMZ
                CMP     1B,RIDTMZ
        IFEQ    PEND
                ACL     DIBBZ           ;DIBBX=1 Z axis drive ready
        IFNE    PEND
                MOVE    10,TIME16
                LOAD    RDY_Z,RDY_Z_020
                PEND

RDY_Z_020:      ACL     DIBBZ
        IFNE    JUMP    RDY_Z_040
                TST     TIME16
        IFNE    PEND
                DMSG    122             ;/EM AXS: DRIVE or MOTOR FAULTY ON Z AXIS/
                JUMP    EMERG

RDY_Z_040:      LOAD    RDY_Z,RDY_Z_INI
                PEND

RDY_Z_OFF:      STOP    RDY_Z
                PEND

;*****************************************************************************
;               PROCESS BOTTI_LV - BOTTI OIL LEVEL MANAGEMENT
;*****************************************************************************

BOTTI_LV_INI:   CMP     1,BOTTI         ;BOTTI pump is present?
        IFNE    PEND
                ACL     DUEVAL          ;DUEVAL=1 BOTTI pump enabled
        IFEQ    PEND
                ACL     DIOLAL          ;=1 oil level in range
        IFNE    PEND
                MOVE    5,TIME07        ;5 Sec. antispike
                LOAD    BOTTI_LV,BOTTI_LV_10
                PEND

BOTTI_LV_10:    ACL     DIOLAL          ;=1 oil level in range
                IOR     DUEVAL  NG      ;DUEVAL=1 BOTTI pump enabled
        IFNE    JUMP    BOTTI_LV_90     ;Exit
                TST     TIME07
        IFNE    PEND
                DMSG    243             ;/WR MTE: TOOL-LUBE DEVICE - OIL UNDER MINIMUM LEVEL/
                BSET    MPRI243
                ACL     MDAXMV          ;=1 Part-programm in execution
        IFNE    JUMP    BOTTI_LV_30     ;HOLD not possible
                BSET    MBL_BOTTI       ;Hold
                LOAD    BOTTI_LV,BOTTI_LV_20

BOTTI_LV_20:    ACL     DIOLAL          ;=1 oil level in range
                IOR     DUEVAL  NG      ;DUEVAL=1 BOTTI pump enabled
        IFNE    JUMP    BOTTI_LV_90     ;Exit
                ACL     MDAXMV          ;=1 Part-programm in execution
        IFNE    JUMP    BOTTI_LV_10     ;HOLD not possible
                PEND

BOTTI_LV_30:    MOVE    WT_BOTTI,TIME17 ;Time out
                MOVE    900,TIME07
                LOAD    BOTTI_LV,BOTTI_LV_40

BOTTI_LV_40:    TST     TIME17
        IFEQ    JUMP    BOTTI_LV_60
                TST     TIME07
        IFEQ    JUMP    BOTTI_LV_50
                ACL     DIOLAL          ;=1 oil level in range
                IOR     DUEVAL  NG      ;DUEVAL=1 BOTTI pump enabled
        IFNE    JUMP    BOTTI_LV_90     ;Exit
                ACL     MDAXMV          ;=1 Part-programm in execution
        IFEQ    JUMP    BOTTI_LV_10
                PEND

BOTTI_LV_50:    MOVE    900,TIME07      ; MSG every 15 min.
                DMSG    243             ;/WR MTE: TOOL-LUBE DEVICE - OIL UNDER MINIMUM LEVEL/
                PEND

BOTTI_LV_60:    BSET    MBL_BOTTI       ;Hold
                DMSG    243             ;/WR MTE: TOOL-LUBE DEVICE - OIL UNDER MINIMUM LEVEL/
                MOVE    30,TIME17
                LOAD    BOTTI_LV,BOTTI_LV_70

BOTTI_LV_70:    ACL     MBL_BOTTI
        IFEQ    JUMP    BOTTI_LV_90
                ACL     DIOLAL          ;=1 oil level in range
                IOR     DUEVAL  NG      ;DUEVAL=1 BOTTI pump enabled
        IFNE    JUMP    BOTTI_LV_90     ;Exit
                TST     TIME17
        IFNE    PEND
                DMSG    243
                JUMP    EMERG

;       -------- Exit --------

BOTTI_LV_90:    LOAD    BOTTI_LV,BOTTI_LV_INI
                BCLR    MPRI243
                PEND

BOTTI_LV_OFF:   BCLR    MBL_BOTTI
                BCLR    MPRI243
                STOP    BOTTI_LV
                PEND

;*****************************************************************************
;               PROCESS ALP - ACCU-LUBE SYSTEM MANAGEMENT
;*****************************************************************************

ALPINI:         ACL     DUEVAL
        IFNE    JUMP    ALP030
                ACL     MDM06
                IOR     MDM16
                IOR     MDM57
                IOR     MD_MP9ON
                IOR     MD1_MP9ON
		IOR	TYP_T0_101
        IFNE    PEND
                ACL     DIPSAL
        IFNE    JUMP    ALP010
                PEND

ALP010:         LOAD    ALP,ALP020

ALP020:         ACL     DIPSAL
        IFNE    PEND

                CMP     1,P000092       ;=2 CHECK SKIPPED
        IFNE    JUMP    ALP025
                READP   "TOOL",T_ATT
                TST     T_ATT
        IFEQ    JUMP    ALP999
                ACL     MD_MP9ON
                IOR     MD1_MP9ON
		IOR	TYP_T0_101
        IFNE    JUMP    ALP999
                ACL     MDUDCIR         ;LOW PRESS. WATER FROM CHIP. CONVEYOR IN EXECUTION
                IOR     MDHPEN          ;HIGH PRESS. WATER from chip.conveyor IN EXECUTION
                IOR     MDEVS           ;AIR TOOL LUBRICATION FROM EXTERNAL IN EXECUTION
                IOR     MDEVCC          ;AIR TOOL LUBRICATION THROUGH SPINDLE IN EXECUTION
        IFNE    JUMP    ALP_990

ALP025:         BCLR    DULSAM
                BCLR    DUEVS
                CMP     1,BOTTI         ;=-1 ACCU-LUBE =1 BOTTI
        IFEQ    BSET    DUEVS
                BSET    DUEAL2
                BSET    DUEVAL
                BSET    DULSAL
                BSET    MDACCLUBON      ;to chip conv. o air lubrification

ALP030:         LOAD    ALP,ALP040

ALP040:         ACL     DUEVAL
        IFEQ    JUMP    ALP070
                ACL     DIPSAL
        IFNE    JUMP    ALP050
                ACL     MDRQNOLUB
        IFNE    JUMP    ALP065
;---------- laser cutting device managment ------------
                CMP     1L,CG43         ;FROM SL-93 HEAD LOGIC - laser cutting device managment
        IFNE    JUMP    ALP045          ;CG43=1 laser cutting device INSTALLED
                ACL     MDLASERINS      ;=1 laser cutting device ENABLED
        IFNE    JUMP    ALP065
;-----------------------------------------------------

ALP045:         ACL     MDM06
                IOR     MDM16
                IOR     MDM57
        IFNE    JUMP    ALP100
                PEND

ALP050:         LOAD    ALP,ALP060

ALP060:         ACL     DIPSAL
        IFNE    PEND
ALP065:         BCLR    DUEVAL
                BCLR    DUEAL2
                BCLR    DUEVS
                BCLR    DULSAL
                BCLR    MDACCLUBON      ;to chip conv. o air lubrification

ALP070:         LOAD    ALP,ALPINI
                PEND

ALP100:         BCLR    DUEVAL
                BCLR    DUEAL2
                BCLR    DUEVS
                BCLR    DULSAL
                BCLR    MDACCLUBON      ;to chip conv. o air lubrification
                LOAD    ALP,ALP110

ALP110:         ACL     MDM06
                IOR     MDM16
                IOR     MDM57
        IFNE    PEND
                READP   "TOOL",T_ATT
                TST     T_ATT
        IFEQ    JUMP    ALP070
                ACL     MD_MP9ON
                IOR     MD1_MP9ON
		IOR	TYP_T0_101
        IFNE    JUMP    ALP070
                JUMP    ALP025


ALP_990:        DMSG    1862            ;WR CCO: CONTEMPORARY TOOL LUBRICATION FUNCTION INHIBITED
                LOAD    ALP,ALPINI
                PEND

ALP999:         DMSG    1857            ;EM EXT: AIR-OIL TOOL LUBR. INHIBITED - NO TOOL ON SPINDLE
                LOAD    ALP,ALPINI
                PEND

ALPOFF:         BCLR    DUEVAL
                BCLR    DUEAL2
                BCLR    DULSAL
                BCLR    MDACCLUBON      ;to chip conv. o air lubrification
                BCLR    DUEVS
                STOP    ALP
                PEND


;*****************************************************************************
;               PROCESS OFF - MACHINE OFF PUSHBUTTON MANAGEMENT
;*****************************************************************************

OFF_INI:        ACL     DIPOFF          ;Push button NIGHT mode request
        IFEQ    PEND
                MOVE    3,TIME11        ;Push for 3 sec.
                LOAD    OFF,OFF_020
                PEND

OFF_020:        ACL     DIPOFF
        IFEQ    JUMP    OFF_500         ;Exit
                TST     TIME11
        IFNE    PEND
                DMSG    214             ;/EM MTE: EMERGENCY CONDITION REQUEST/
                PAUSE   10
                BCLR    DUAUOK          ;Power off
                LOAD    OFF,OFF_040
                PEND

OFF_040:        ACL     DIPOFF
        IFNE    PEND
                JUMP    OFF_500         ;Exit

;       -------- Emerg --------

;       -------- Exit --------

OFF_500:        LOAD    OFF,OFF_INI
                PEND


;*****************************************************************************
;               PROCESS MANU - MACHINE MANUAL PUSHBUTTON MANAGEMENT
;*****************************************************************************

MANU_INI:       ACL     DIPMAN          ;Push button NIGHT mode request
        IFEQ    PEND
                MOVE    3,TIME13        ;Push for 3 sec.
                LOAD    MANU,MANU_020
                PEND

MANU_020:       ACL     DIPMAN
        IFEQ    JUMP    MANU_500                ;Exit
                TST     TIME13
        IFNE    PEND
                DMSG    213             ;/EM MTE: MANUAL CONDITION REQUEST/
                PAUSE   10
                BSET    MGOMAN          ;Manual mode
                LOAD    MANU,MANU_040
                PEND

MANU_040:       ACL     DIPMAN
        IFNE    PEND
                JUMP    MANU_500                ;Exit

;       -------- Emerg --------

;       -------- Exit --------

MANU_500:       LOAD    MANU,MANU_INI
                PEND

;**********************************************************************
;       PROCESS CFB - Check hydraulic circuit filter blocked
;**********************************************************************

CFBINI:         
                BCLR    MPRI912
                ACL     DIOFNB          ;DIOFNB=1 filter OK
        IFNE    PEND
                MOVE    3,TIME20
                LOAD    CFB,CFB010

CFB010:         ACL     DIOFNB
        IFNE    LOAD    CFB,CFBINI
                TST     TIME20
        IFNE    PEND
                DMSG    912             ;/WR HYP: HYDRAULIC FILTER BLOCKED UP/
                BSET    MBLCFB
                BSET    MPRI912
                MOVE    1800,TIME20
                LOAD    CFB,CFB020

CFB020:         ACL     DIOFNB
        IFNE    LOAD    CFB,CFBINI
                TST     TIME20
        IFNE    PEND
                LOAD    CFB,CFBINI
                PEND

CFBOFF:         STOP    CFB
                BCLR    MBLCFB
                PEND

;**********************************************************************
;       PROCESS COL - Check hydraulic circuit oil level
;**********************************************************************

COLINI:         
                BCLR    MPRI910
                ACL     DIOMIN          ;DIOMIN=0 Oil under minimum level
        IFNE    PEND
                MOVE    10,TIME21
                LOAD    COL,COL010

COL010:         ACL     DIOMIN
        IFNE    LOAD    COL,COLINI
                TST     TIME21
        IFNE    PEND
                DMSG    910             ;/WR HYP: HYDRAULIC OIL UNDER MINIMUM LEVEL/
                BSET    MBLCOL
                BSET    MPRI910
                MOVE    1800,TIME21
                LOAD    COL,COL020

COL020:         ACL     DIOMIN
        IFNE    LOAD    COL,COLINI
                TST     TIME21
        IFNE    PEND
                LOAD    COL,COLINI
                PEND

COLOFF:         STOP    COL
                BCLR    MBLCOL
                PEND

;**********************************************************************
;       PROCESS COLMAX - Check hydraulic circuit oil maximun level
;**********************************************************************

COLMAX_INI:     
                BCLR    MPRI911
                ACL     DIOMAX          ;DIOMAX=1 Oil under maximun level
        IFNE    PEND
                MOVE    1,TIME27
                LOAD    COLMAX,COLMAX_010

COLMAX_010:     ACL     DIOMAX
        IFNE    LOAD    COLMAX,COLMAX_INI
                TST     TIME27
        IFNE    PEND
                DMSG    911             ;/WR HYP: HYDRAULIC OIL OVER MAXIMUN LEVEL/
                BSET    MH_COLMAX
                BSET    MPRI911
                MOVE    1800,TIME27
                LOAD    COLMAX,COLMAX_020

COLMAX_020:     ACL     DIOMAX
        IFNE    LOAD    COLMAX,COLMAX_INI
                TST     TIME27
        IFNE    PEND
                LOAD    COLMAX,COLMAX_INI
                PEND

COLMAX_OFF:     STOP    COLMAX
                BCLR    MH_COLMAX
                PEND

;*****************************************************************************
;               PROCESS HPE - HYDRAULIC PUMP ENABLE
;*****************************************************************************

HPEINI:         
                ACL     MDHCO_RQ        ;Request from hydraulic compensation
        IFNE    JUMP    HPE_100
                ACL     MBRHPPITRQ      ;Request from birotative head management
                IOR     MBRHPROLRQ      ;Request from birotative head management
                IOR     MBRHPIDXRQ      ;Request from birotative head management
                IOR     MBRHLIDXRQ      ;Request from birotative head management
                IOR     MBRHLOCKRQ      ;Request from birotative head management
                IOR     MBRHBERRQ       ;Request from spindle management
                IOR     MDHYTC          ;Request from tool change management
                IOR     MHEAPUMPRQ      ;Request from tool HEAD PB open clamp
                IOR     MDHYPE_T        ;Request from tool change management
                IOR     MDHYPE_R
                IOR     MDHYPE_P
                IOR     MPISRIDX        ;Request from CE
                IOR     MPISIIDX        ;Request from CE
                IOR     MPIIDXBX        ;Req from boxer
                IOR     MPIRDXBX        ;Req from boxer
                IOR     RQ_HIRTHYD      ;Req by spindle
                IOR     MDRQPUMIEC
        IFNE    JUMP    HPE_400
                PEND

; ------ Request from hydraulic compensation ------

HPE_100:        DMSG    904             ;/HYP: HYDRAULIC PUMP SWITCH ON/
                BSET    DUHYPE          ;Hydraulic pump enable
                BCLR    DUEVLE          ;E.V. birotative head locking enable
                BSET    DUEVCE          ;E.V. Z axis compensation enable
                BCLR    MDBRH_ON        ;Pump on for birotative head management
                LOAD    HPE,HPE_120

HPE_120:        ACL     MDHCO_RQ        ;Request from hydraulic compensation
        IFNE    PEND
                MOVE    3,TIME22
                LOAD    HPE,HPE_140

HPE_140:        ACL     MDHCO_RQ        ;Request from hydraulic compensation
        IFNE    JUMP    HPE_100
                ACL     MBRHPPITRQ      ;Request from birotative head management
                IOR     MBRHPROLRQ      ;Request from birotative head management
                IOR     MBRHPIDXRQ      ;Request from birotative head management
                IOR     MBRHLIDXRQ      ;Request from birotative head management
                IOR     MBRHLOCKRQ      ;Request from birotative head management
                IOR     MBRHBERRQ       ;Request from spindle management
                IOR     MDHYTC          ;Request from tool change management
                IOR     MHEAPUMPRQ      ;Request from tool HEAD PB open clamp
                IOR     MDHYPE_T        ;Request from tool change management
                IOR     MDHYPE_R
                IOR     MDHYPE_P
                IOR     MPISRIDX        ;Request from CE
                IOR     MPISIIDX        ;Request from CE
                IOR     MPIIDXBX        ;Req from boxer
                IOR     MPIRDXBX        ;Req from boxer
                IOR     MDRQPUMIEC
        IFNE    JUMP    HPE_400
                TST     TIME22
        IFNE    PEND
                BCLR    DUEVCE
                BCLR    DUHYPE
                DMSG    905             ;/HYP: HYDRAULIC PUMP SWITCH OFF/
                JUMP    HPE_900

; ------ Request from birotative head management ------

HPE_400:        DMSG    904             ;/HYP: HYDRAULIC PUMP SWITCH ON/
                BSET    DUHYPE          ;Hydraulic pump enable
                BSET    MDBRH_ON        ;Pump on for birotative head management
                BCLR    DUEVCE          ;E.V. Z axis compensation enable
                BSET    DUEVLE          ;E.V. birotative head locking enable
                LOAD    HPE,HPE_420

HPE_420:        ACL     MDHCO_RQ        ;Request from hydraulic compensation HIGH PRIORITY
        IFNE    JUMP    HPE_100
                ACL     MBRHPPITRQ      ;Request from birotative head management
                IOR     MBRHPROLRQ      ;Request from birotative head management
                IOR     MBRHPIDXRQ      ;Request from birotative head management
                IOR     MBRHLIDXRQ      ;Request from birotative head management
                IOR     MBRHLOCKRQ      ;Request from birotative head management
                IOR     MBRHBERRQ       ;Request from spindle management
                IOR     MDHYTC          ;Request from tool change management
                IOR     MHEAPUMPRQ      ;Request from tool HEAD PB open clamp
                IOR     MDHYPE_T        ;Request from tool change management
                IOR     MDHYPE_R
                IOR     MDHYPE_P
                IOR     MPISRIDX        ;Request from CE
                IOR     MPISIIDX        ;Request from CE
                IOR     MPIIDXBX        ;Req from boxer
                IOR     MPIRDXBX        ;Req from boxer
                IOR     MDRQPUMIEC
                IOR     RQ_HIRTHYD      ;Req by spindle
        IFNE    PEND
                MOVE    3,TIME22
                LOAD    HPE,HPE_440

HPE_440:        
                ACL     MDHCO_RQ        ;Request from hydraulic compensation HIGH PRIORITY
        IFNE    JUMP    HPE_100
                ACL     MBRHPPITRQ      ;Request from hydraulic compensation
                IOR     MBRHPROLRQ      ;Request from hydraulic compensation
                IOR     MBRHPIDXRQ      ;Request from birotative head management
                IOR     MBRHLIDXRQ      ;Request from birotative head management
                IOR     MBRHLOCKRQ      ;Request from birotative head management
                IOR     MBRHBERRQ       ;Request from spindle management
                IOR     MDHYTC          ;Request from tool change management
                IOR     MHEAPUMPRQ      ;Request from tool HEAD PB open clamp
                IOR     MDHYPE_T        ;Request from tool change management
                IOR     MDHYPE_R
                IOR     MDHYPE_P
                IOR     MPISRIDX        ;Request from CE
                IOR     MPISIIDX        ;Request from CE
                IOR     MPIIDXBX        ;Req from boxer
                IOR     MPIRDXBX        ;Req from boxer
                IOR     MDRQPUMIEC
                IOR     RQ_HIRTHYD      ;Req by spindle
        IFNE    JUMP    HPE_400
                TST     TIME22
        IFNE    PEND
                MOVE    PUMP_ON,TIME22     ;9 SEC. DI TIME OUT CON POMPA ON
                LOAD    HPE,HPE_460
HPE_460:        ACL     MDPUP         ;PISTON UP
        IFNE    JUMP    HPE_450       ;O.K.
                TST     TIME22
        IFNE    PEND

HPE_450:        BCLR    DUEVLE
                MOVE    5,TIME40
                BCLR    MDBRH_ON
                LOAD    HPE,HPE_480

HPE_480:        
                ACL     MDHCO_RQ        ;Request from hydraulic compensation HIGH PRIORITY
        IFNE    JUMP    HPE_100
                ACL     MBRHPPITRQ      ;Request from hydraulic compensation
                IOR     MBRHPROLRQ      ;Request from hydraulic compensation
                IOR     MBRHPIDXRQ      ;Request from birotative head management
                IOR     MBRHLIDXRQ      ;Request from birotative head management
                IOR     MBRHLOCKRQ      ;Request from birotative head management
                IOR     MBRHBERRQ       ;Request from spindle management
                IOR     MDHYTC          ;Request from tool change management
                IOR     MHEAPUMPRQ      ;Request from tool HEAD PB open clamp
                IOR     MDHYPE_T        ;Request from tool change management
                IOR     MDHYPE_R
                IOR     MDHYPE_P
                IOR     MPISRIDX        ;Request from CE
                IOR     MPISIIDX        ;Request from CE
                IOR     MPIIDXBX        ;Req from boxer
                IOR     MPIRDXBX        ;Req from boxer
                IOR     MDRQPUMIEC
                IOR     RQ_HIRTHYD      ;Req by spindle
        IFNE    JUMP    HPE_400
                TST     TIME40
        IFNE    PEND
                BCLR    DUHYPE
                CMP     1,P000027
        IFNE    JUMP    HPE_500
                CMP     5,UTLPRETR
        IFLE    JUMP    HPE_500
                ACL     MDUTLP                  ;=1 pressure under minimum level
        IFNE    JUMP    HPE_500
                BSET    DUHYPE
                BSET    DUEVLE
                MOVE    P000028,TIME41
                CCALL   LabelMove,40,MSGDBG1,PLC2300
                DMSG    2300                    ;DIUTLP NOT REACHED RETRY
                LOAD    HPE,HPE_490
                PEND

HPE_490:        TST     TIME41
        IFNE    PEND
                INCR    UTLPRETR
                JUMP    HPE_460

HPE_500:        DMSG    905             ;/HYP: HYDRAULIC PUMP SWITCH OFF/
                JUMP    HPE_900

; ------ EXIT ------

HPE_900:        CLR     UTLPRETR
                LOAD    HPE,HPEINI      ;Exit
                PEND

HPEOFF:         CLR     UTLPRETR
                BCLR    DUHYPE
                BCLR    MDBRH_ON
                BCLR    DUEVLE
                BCLR    DUEVCE
                STOP    HPE
                PEND

;*****************************************************************************
;               PROCESS HCOPRE - HYDRAULIC COMPENSATION PRESSURE MANAGEMENT
;*****************************************************************************

HCOPRE_INI:
                MOVE    25,TIME43          ;ASPETTO MAX 5 SECONDI
                LOAD    HCOPRE,HCOPRE_025
HCOPRE_025:     ACL     MB_DIZACL
                AND     DIZACH
        IFNE    LOAD    HCOPRE,HCOPRE_050
                TST     TIME43
        IFNE    PEND

HCOPRE_050:
                ACL     MB_DIZACL               ;=1 Z axis comp. low pressure level reached
        IFEQ    JUMP    HCOPRE_100
                ACL     DIZACE          ;=1 Z axis compensation enable
        IFNE    PEND
                DMSG    945             ;/EM HCO: Z AXIS COMPENSATION CIRCUIT DISABLED/
                BSET    MPRI945
                BSET    MH_HCOPRE       ;HOLD
                JUMP    HCOPRE_820      ;Wait POWER-OFF

HCOPRE_100:     ACL     DIZACH          ;=0 Z axis comp. high pressure level reached
        IFEQ    JUMP    HCOPRE_800      ;Pressure < LOW & pressure > HIGH (BIT FAULT)
                DMSG    936             ;/WR HCO: Z COMPENSATION PRESSURE UNDER MINIMUM LEVEL/
                BSET    MPRI936
                BSET    MH_HCOPRE       ;HOLD
HCOPRE_180:     LOAD    HCOPRE,HCOPRE_200

HCOPRE_200:     ACL     DIZACE          ;=1 Z axis compensation enable
        IFNE    PEND
                DMSG    941             ;/WR HCO: Z AXIS COMPENSATION CIRCUIT OPENED/
                BSET    MPRI941
HCOPRE_280:     LOAD    HCOPRE,HCOPRE_300

HCOPRE_300:     ACL     DIZACE          ;=1 Z axis compensation enable
        IFEQ    JUMP    HCOPRE_320
                DMSG    939             ;/WR HCO: Z AXIS COMPENSATION CIRCUIT NOT ALREADY OPEN/
                JUMP    HCOPRE_180

HCOPRE_320:     ACL     DIPHCO          ;pushbutton reloading Z axis compensation
        IFEQ    PEND
                BSET    MDHCO_RQ        ;Pump start request
                BSET    DULHCO          ;lamp reloading Z axis compensation enabled
                DMSG    931             ;/HCO: RELOADING Z AXIS COMPENSATION ENABLE/
                MOVE    30,TIME24       ;30 min. for pressure > LOW
                MOVE    180,TIME25      ;3 min.
                LOAD    HCOPRE,HCOPRE_340

HCOPRE_340:     ACL     DIPHCO
        IFEQ    JUMP    HCOPRE_360      ;Stop pump
                ACL     MB_DIZACL               ;Z axis comp. low pressure level reached
        IFNE    JUMP    HCOPRE_400      ;Pressure > LOW
                ACL     DIZACH          ;=0 Z axis comp. high pressure level reached
        IFEQ    JUMP    HCOPRE_800      ;Pressure < LOW & pressure > HIGH (BIT FAULT)
                TST     TIME24          ;Time out pressure > LOW => DIZACL=0 => 30 min.
        IFNE    PEND
                BCLR    MDHCO_RQ        ;Pump stop request
                BCLR    DULHCO
                DMSG    937             ;/WR HCO: Z COMPENSATION LOW PRESSURE LEVEL NOT REACHED/
                BSET    MPRI937
                BSET    MH_HCOPRE       ;HOLD
                JUMP    HCOPRE_820      ;Wait POWER-OFF

; ------ Pump stop - Pressure < minimum => DIZACL =0 ------

HCOPRE_360:     BCLR    MDHCO_RQ        ;Pump stop request
                DMSG    947             ;/EM HCO: RELOADING Z AXIS COMPENSATION FAILED/
                BSET    MPRI947
                BSET    MH_HCOPRE       ;HOLD
                BCLR    DULHCO
                JUMP    HCOPRE_280      ;Wait push buttom

; ------ Pressure > LOW ------

HCOPRE_400:     ACL     DIZACH          ;=0 Z axis comp. high pressure level reached
        IFEQ    JUMP    HCOPRE_500      ;Pressure OK
                TST     TIME25
        IFNE    PEND
                DMSG    938             ;/WR HCO: Z COMPENSATION HIGH PRESSURE LEVEL NOT REACHED/
                JUMP    HCOPRE_500      ;Pressure OK

; ------ Pressure OK ------

HCOPRE_500:     BCLR    MDHCO_RQ        ;Pump stop request
                BCLR    DULHCO
                LOAD    HCOPRE,HCOPRE_510

HCOPRE_510:     ACL     DIZACE          ;=1 Z axis compensation enable
        IFEQ    PEND
                DMSG    933             ;/HCO: Z AXIS COMPENSATION CIRCUIT CLOSED/
                BCLR    MPRI936
                BCLR    MPRI941
                BCLR    MPRI947
                LOAD    HCOPRE,HCOPRE_520

HCOPRE_520:     ACL     DIZACE          ;=1 Z axis compensation enable
                AND     MB_DIZACL               ;=1 Z axis comp. low pressure level reached
        IFEQ    JUMP    HCOPRE_999      ;Exit but HOLD
                ACL     IDPSB           ;Verify [RELEASE] push button pressed
        IFEQ    PEND
                DMSG    930             ;/HCO: END OF RELOADING CYCLE Z AXIS COMPENSATION/
                JUMP    HCOPRE_990      ;Exit

; -------- Emerg --------

HCOPRE_800:     DMSG    940             ;/WR HCO: Z COMPENSATION CIRCUIT PRESSURE SWITCHES FAULTY/
                BSET    MPRI940
                BSET    MH_HCOPRE       ;HOLD
                BCLR    MDHCO_RQ        ;Pump stop request
                BCLR    DULHCO
                JUMP    HCOPRE_820      ;Wait POWER-OFF

HCOPRE_820:     LOAD    HCOPRE,HCOPRE_850

HCOPRE_850:     ACL     ID24C           ;POWER-OFF for try again
        IFNE    PEND
                JUMP    HCOPRE_990      ;Exit

; -------- Exit --------

HCOPRE_990:     BCLR    MH_HCOPRE
                BCLR    MDHCO_RQ
                BCLR    DULHCO
                BCLR    MPRI936
                BCLR    MPRI937
                BCLR    MPRI940
                BCLR    MPRI945
                BCLR    MPRI941
                BCLR    MPRI947
HCOPRE_999:     LOAD    HCOPRE,HCOPRE_050
                PEND

HCOPRE_OFF:     BCLR    MH_HCOPRE
                BCLR    MDHCO_RQ
                BCLR    DULHCO
                BCLR    MPRI936
                BCLR    MPRI937
                BCLR    MPRI940
                BCLR    MPRI945
                BCLR    MPRI941
                BCLR    MPRI947
                STOP    HCOPRE
                PEND

;**********************************************************************
;       PROCESS AXSRAF - AXES COOLING
;**********************************************************************

AXSRAF_INI:     ACL     DIWRE2          ;=1 cooling flow with refrigetor OFF??
        IFEQ    BCLR    MPRI897
        IFEQ    JUMP    AXSRAF_050
                ACL     MPRI897
        IFEQ    DMSG    897
                BSET    MPRI897

AXSRAF_050:     BSET    DUSMW2          ;Enable axes water refrigerator
                DMSG    880             ;/ACD: AXES COOLING DEVICE SWITCH ON/
                MOVE    10,TIME23       ;Tim out for flow OK => DIWRE2=1
                LOAD    AXSRAF,AXSRAF_100

AXSRAF_100:     ACL     DIWRE2          ;Signal of refrigerator flow in range
        IFNE    JUMP    AXSRAF_200      ;Flow OK
                TST     TIME23
        IFNE    PEND
                BCLR    DUSMW2          ;Enable axes water refrigerator
                PAUSE   100
                BSET    DUSMW2          ;Enable axes water refrigerator
                MOVE    10,TIME23       ;Tim out for flow OK => DIWRE2=1
                LOAD    AXSRAF,AXSRAF_120

AXSRAF_120:     ACL     DIWRE2          ;Signal of refrigerator flow in range
        IFNE    JUMP    AXSRAF_200      ;Flow OK
                TST     TIME23
        IFNE    PEND
                DMSG    898             ;/WR ACD: AXES COOLING FLOW OUT OF RANGE/
                DMSG    881             ;/ACD: AXES COOLING DEVICE SWITCH OFF/
                BCLR    DUSMW2          ;Enable axes water refrigerator
                JUMP    AXSRAF_840      ;Wait power-off

AXSRAF_200:     ACL     MDWRL2          ;Refrigerator in low  temperature range
        IFNE    JUMP    AXSRAF_250      ;OK
                DMSG    895             ;/WR ACD: AXES COOLING TEMPERATURE OUT OF RANGE (LOW)/
                BSET    MPRI895
                LOAD    AXSRAF,AXSRAF_220
AXSRAF_220:     ACL     MDWRL2          ;Refrigerator in low  temperature range
        IFEQ    PEND
                JUMP    AXSRAF_300      ;

AXSRAF_250:     ACL     MDWRH2          ;Refrigerator in high temperature range
        IFNE    JUMP    AXSRAF_300      ;OK
                DMSG    896             ;/WR ACD: AXES COOLING TEMPERATURE OUT OF RANGE (HIGH)/
                BSET    MPRI896
                LOAD    AXSRAF,AXSRAF_270
AXSRAF_270:     ACL     MDWRH2          ;Refrigerator in high  temperature range
        IFEQ    PEND
                JUMP    AXSRAF_300      ;

AXSRAF_300:     MOVE    10,TIME23       ;Tim out for flow OK => DIWRE2=1
                BCLR    MPRI896
                BCLR    MPRI895
                LOAD    AXSRAF,AXSRAF_120
                PEND

; ------ Emerg ------
AXSRAF_840:     LOAD    AXSRAF,AXSRAF_850

AXSRAF_850:     ACL     ID24C           ;POWER-OFF for try again
                AND     MCNCRE NG
                AND     IDPSA NG
        IFNE    PEND
                PAUSE   50
                JUMP    AXSRAF_999      ;Exit

; ------ Exit ------
AXSRAF_999:     BCLR    MPRI897
                BCLR    MPRI896
                BCLR    MPRI895
                LOAD    AXSRAF,AXSRAF_INI
                PEND

AXSRAF_OFF:     BCLR    MPRI897
                BCLR    MPRI896
                BCLR    MPRI895
                BCLR    DUSMW2
                STOP    AXSRAF
                PEND

;*****************************************************************************
;               PROCESS TEMP_2 - ELECTRICAL CABINET TEMPERATURE MANAG. BY PT100
;*****************************************************************************

TEMP_2.INI:     CMP     2,DIG_TERM                      ;PT100 TERMOSTAT
        IFNE    PEND
                MOVE    5,TIME84

                CLRR    GRADI_SH                        ;WAITING REAL VALUE
                CLRR    GRADI_LAST                      ;WAITING REAL VALUE
                CLRR    CG42                            ;WAITING REAL VALUE
                BSET    MDCOVW                          ;NO ALARM AT BEGIN

                CMP     1,PLP_TRS                       ;MEMVIS3 WRITTEN BY PALLET AUCOL
        IFEQ    JUMP    TEMP_2.10
                WRITEP  GRADI_SH,"MEMVIS3"

TEMP_2.10:      MOVE    10,TIME83
                LOAD    TEMP_2,TEMP_2.20

TEMP_2.20:      TST     TIME83
        IFEQ    DMSG    2230
        IFEQ    LOAD    TEMP_2,TEMP_2.INI
        IFEQ    PEND
                CMP     CG42,GRADI_LAST
        IFEQ    PEND

TEMP_2.25:      MOVE    CG42,TMP_ATT
                ADD     OFF_SET,TMP_ATT                 ;OFFSET PT100
                DIV     10L,TMP_ATT,GRADI_ATT,DECIMI_ATT
                CMP     5L,DECIMI_ATT
        IFLT    ADD     1L,GRADI_ATT

                CMP     1,TEMP_UN
        IFEQ    MOVE    GRADI_ATT,GRADI_SH
                CMP     2,TEMP_UN
        IFEQ    MOVE    GRADI_AT2,GRADI_SH
                WRITEP  GRADI_SH,"MEMVIS3"

                CMP     40L,GRADI_ATT
        IFGT    BSET    MDCOVW                          ;SE LA TEMPERATURA E' < DI 40 GRADI
        IFLT    BCLR    MDCOVW                          ;SE LA TEMPERATURA E' > DI 40 GRADI

                SUB     GRADI_LAST,GRADI_ATT,GRADI_DEL  ;DELTA GRADI
                TST     GRADI_DEL
        IFLT    NEG     GRADI_DEL

                TST     TIME84
        IFNE    JUMP    TEMP_2.30

                CMP     GRADI_TOLL,GRADI_DEL
        IFLT    DMSG    244

TEMP_2.30:      MOVE    GRADI_ATT,GRADI_LAST
                LOAD    TEMP_2,TEMP_2.25
                PEND

;*****************************************************************************
;               PROCESS TEMP - ELECTRICAL CABINET TEMPERATURE MANAG. BY CAREL
;*****************************************************************************

TEMP_INI:       CMP     1,DIG_TERM              ;CAREL DIGITAL TERMOSTAT
        IFNE    PEND
                MOVE    5,TIME84
                MOVE    0L,GRADI_SH
                CMP     1,PLP_TRS               ;MEMVIS3 WRITTEN FROM OTHER MULTIAUCOL
        IFEQ    JUMP    TEMP003
                WRITEP  GRADI_SH,"MEMVIS3"
TEMP003:        PAUSE   25
                BSET    MDCOVW
                ACL     DICOVW
        IFNE    PEND
                LOAD    TEMP,TEMP005
TEMP005:        ACL     DICOVW
        IFEQ    PEND            ;LA PRIMA COMMUTAZ. NON LA CONSIDERO

TEMP007:        MOVE    0,PERC_ON
                MOVE    0,PERC_OF
                MOVE    TMR_CICLE,TIME29
                LOAD    TEMP,TEMP010
TEMP010:        TST     TIME29
        IFEQ    JUMP    TEMP100
                PAUSE   50
                INC     PERC_OF
                ACL     DICOVW    ;ELECTRICAL CABINET TEMTERATURE DISPLAY
        IFNE    PEND
                MOVE    PERC_OF,TEMP0
                MOVE    TMR_CICLE,TIME29
                LOAD    TEMP,TEMP020
TEMP020:        TST     TIME29
        IFEQ    JUMP    TEMP095
                ACL     DICOVW
        IFNE    JUMP    TEMP090
                PAUSE   50
                INC     PERC_ON ;NUMBER OF OUT2 RELE' IN ON.
                ACL     DICOVW
        IFEQ    PEND

TEMP090:        MOVE    0,DECIMI_ATT
                MOVE    PERC_ON,TEMP1
                MOVE    OUT2_TM,TEMP2
                MUL     PERC_ON,TEMP2
                DIV     TMR_CICLE,TEMP2

                ADD     TEMP2,SOGLIA_L,TMP_ATT
                ADD     OFF_SET,TMP_ATT   ;OFFSET INSTRUMENT
                DIV     10L,TMP_ATT,GRADI_ATT,DECIMI_ATT
                CMP     5L,DECIMI_ATT
        IFLT    ADD     1L,GRADI_ATT
                JUMP    TEMP110

TEMP095:        MOVE    0,DECIMI_ATT
                MOVE    SOGLIA_L,TMP_ATT              ; -150 DECIMI DI GRADO
                DIV     10L,TMP_ATT,GRADI_ATT,DECIMI_ATT
                CMP     5L,DECIMI_ATT
        IFLT    ADD     1L,GRADI_ATT
                JUMP    TEMP110

TEMP100:        MOVE    0,DECIMI_ATT
                MOVE    SOGLIA_H,TMP_ATT              ;+ 849 DECIMI DI GRADO
                DIV     10L,TMP_ATT,GRADI_ATT,DECIMI_ATT
                CMP     5L,DECIMI_ATT
        IFLT    ADD     1L,GRADI_ATT

TEMP110:        CMP     1,TEMP_UN
        IFEQ    MOVE    GRADI_ATT,GRADI_SH
                CMP     2,TEMP_UN
        IFEQ    MOVE    GRADI_AT2,GRADI_SH
                WRITEP  GRADI_SH,"MEMVIS3"

                CMP     40L,GRADI_ATT
        IFGT    BSET    MDCOVW                          ;SE LA TEMPERATURA E' < DI 40 GRADI
        IFLT    BCLR    MDCOVW                          ;SE LA TEMPERATURA E' > DI 40 GRADI
                TST     GRADI_LAST
        IFEQ    JUMP    TEMP150
                SUB     GRADI_LAST,GRADI_ATT,GRADI_DEL  ;DELTA GRADI
                TST     GRADI_DEL
        IFLT    NEG     GRADI_DEL


                TST     TIME84
        IFNE    JUMP    TEMP150
                CMP     GRADI_TOLL,GRADI_DEL
        IFLT    JUMP    TEMP160

TEMP150:        MOVE    GRADI_ATT,GRADI_LAST
                LOAD    TEMP,TEMP007
                PEND

TEMP160:        DMSG    244
                MOVE    GRADI_ATT,GRADI_LAST
                LOAD    TEMP,TEMP007
                PEND

;*****************************************************************************
;               PROCESS PRTM - ELECTRICAL CABINET TEMPERATURE PRINTING
;*****************************************************************************

PRTM_INI:       CMP     -1,DIG_TERM     ;DIGITAL TERMOSTAT NOT PRESENT IN CABINET
        IFEQ    PEND
                TST     GRADI_ATT
        IFEQ    PEND
                MOVE    TMR_PRINT,TIME30
                LOAD    PRTM,PRTM010

PRTM010:        MUL     18L,GRADI_ATT,GRADI_AT1
                DIV     10L,GRADI_AT1,GRADI_AT2,GRADI_AT3
                ADD     32L,GRADI_AT2,GRADI_AT2
                CMP     5L,GRADI_AT3
        IFLT    ADD     1L,GRADI_AT2
                TST     TIME30
        IFNE    PEND
                CMP     1,TEMP_UN
        IFEQ    CNVTOA  GRADI_ATT,PLC199+43
                CMP     2,TEMP_UN
        IFEQ    CNVTOA  GRADI_AT2,PLC199+43
                DMSG    199
                LOAD    PRTM,PRTM_INI
                PEND

;*****************************************************************************
;               PROCESS TM20 - TIMER 20 mSec.
;*****************************************************************************

TM20INI:        PAUSE   1               ;Wait 20 millisecond
                TST     TIME32
        IFGT    DECR    TIME32
                TST     TIME33
        IFGT    DECR    TIME33
                TST     TIME34
        IFGT    DECR    TIME34
                TST     TIME35
        IFGT    DECR    TIME35
                TST     TIME26
        IFGT    DECR    TIME26
                TST     TIME43
        IFGT    DECR    TIME43
                TST     TIME50
        IFGT    DECR    TIME50
                TST     TIME51
        IFGT    DECR    TIME51
                TST     TIME52
        IFGT    DECR    TIME52
                TST     TIME53
        IFGT    DECR    TIME53
                TST     TIME54
        IFGT    DECR    TIME54
                TST     TIME55
        IFGT    DECR    TIME55
                TST     TIME56
        IFGT    DECR    TIME56
                TST     TIME57
        IFGT    DECR    TIME57
                TST     TIME58
        IFGT    DECR    TIME58
                TST     TIME59
        IFGT    DECR    TIME59
                TST     TIME79
        IFGT    DECR    TIME79
                TST     TIME81
        IFGT    DECR    TIME81
                TST     TIME82
        IFGT    DECR    TIME82
                TST     TIME85
        IFGT    DECR    TIME85
                TST     TIME86
        IFGT    DECR    TIME86
                TST     TIME87
        IFGT    DECR    TIME87
                TST     TIME88
        IFGT    DECR    TIME88
                TST     TIME89
        IFGT    DECR    TIME89
                TST     TIME90
        IFGT    DECR    TIME90
                TST     TIME91
        IFGT    DECR    TIME91
                TST     TIME92
        IFGT    DECR    TIME92
                TST     TIME93
        IFGT    DECR    TIME93
                TST     TIME94
        IFGT    DECR    TIME94
                TST     TIME95
        IFGT    DECR    TIME95
                TST     TIME96
        IFGT    DECR    TIME96
                TST     TIME97
        IFGT    DECR    TIME97
                TST     TIME98
        IFGT    DECR    TIME98
                TST     TIME99
        IFGT    DECR    TIME99
                TST     TIME100
        IFGT    DECR    TIME100
                TST     TIME104
        IFGT    DECR    TIME104
                TST     TIME105
        IFGT    DECR    TIME105
                TST     TIME120
        IFGT    DECR    TIME120
                TST     TIME121
        IFGT    DECR    TIME121
                TST     TIME122
        IFGT    DECR    TIME122
                TST     TIME123
        IFGT    DECR    TIME123
                TST     TIME124
        IFGT    DECR    TIME124
                TST     TIME125
        IFGT    DECR    TIME125
                TST     TIME126
        IFGT    DECR    TIME126
                TST     TIME127
        IFGT    DECR    TIME127
                TST     TIME128
        IFGT    DECR    TIME128
                TST     TIME129
        IFGT    DECR    TIME129
                TST     TIME130
        IFGT    DECR    TIME130
                TST     TIME131
        IFGT    DECR    TIME131
                TST     TIME135
        IFGT    DECR    TIME135
                TST     TIME136
        IFGT    DECR    TIME136
                TST     TIME137
        IFGT    DECR    TIME137
                TST     TIME138
        IFGT    DECR    TIME138
                TST     TIME140
        IFGT    DECR    TIME140
                TST     TIME150
        IFGT    DECR    TIME150
                TST     TIME115
        IFGT    DECR    TIME115
                TST     TIME116
        IFGT    DECR    TIME116
                ACL     ID24C           ;ACTIVE WITH ID24C
        IFEQ    PEND
                ACL     ID24A           ;ACTIVE WITH ID24A
        IFEQ    PEND
                TST     TIME02
        IFGT    DECR    TIME02
                TST     TIME112
        IFGT    DECR    TIME112
                TST     TIME14
        IFGT    DECR    TIME14
                TST     TIME15
        IFGT    DECR    TIME15
                TST     TIME16
        IFGT    DECR    TIME16
                TST     TIME28
        IFGT    DECR    TIME28

                PEND

;*****************************************************************************
;               PROCESS TM1S - TIMER 1 Sec.
;*****************************************************************************

TM1SINI:        PAUSE   50              ;Wait 1 second
                TST     TIME08
        IFGT    DECR    TIME08
                TST     TIME10
        IFGT    DECR    TIME10
                TST     TIME11
        IFGT    DECR    TIME11
                TST     TIME13
        IFGT    DECR    TIME13
                TST     TIME19
        IFGT    DECR    TIME19
                TST     TIME20
        IFGT    DECR    TIME20
                TST     TIME21
        IFGT    DECR    TIME21
                TST     TIME23
        IFGT    DECR    TIME23
                TST     TIME27
        IFGT    DECR    TIME27
                TST     TIME29
        IFGT    DECR    TIME29
                TST     TIME38
        IFGT    DECR    TIME38
                TST     TIME39
        IFGT    DECR    TIME39
                TST     TIME44
        IFGT    DECR    TIME44
                TST     TIME76
        IFGT    DECR    TIME76
                TST     TIME49
        IFGT    DECR    TIME49
                TST     TIME60
        IFGT    DECR    TIME60
                TST     TIME61
        IFGT    DECR    TIME61
                TST     TIME62
        IFGT    DECR    TIME62
                TST     TIME63
        IFGT    DECR    TIME63
                TST     TIME64
        IFGT    DECR    TIME64
                TST     TIME65
        IFGT    DECR    TIME65
                TST     TIME68
        IFGT    DECR    TIME68
                TST     TIME69
        IFGT    DECR    TIME69
                TST     TIME70
        IFGT    DECR    TIME70
                TST     TIME40
        IFGT    DECR    TIME40
                TST     TIME41
        IFGT    DECR    TIME41
                TST     TIME45
        IFGT    DECR    TIME45
                TST     TIME75
        IFGT    DECR    TIME75
              	TST	TIME80
	IFGT	DECR	TIME80
              	TST	TIME106
	IFGT	DECR	TIME106
              	TST	TIME107
	IFGT	DECR	TIME107
              	TST	TIME108
	IFGT	DECR	TIME108
              	TST	TIME109
	IFGT	DECR	TIME109
              	TST	TIME110
	IFGT	DECR	TIME110
              	TST	TIME113
	IFGT	DECR	TIME113
              	TST	TIME111
	IFGT	DECR	TIME111
              	TST	TIME114
	IFGT	DECR	TIME114
                TST     TIME141
        IFGT    DECR    TIME141
                ACL     ID24C           ;ACTIVE WITH ID24C
        IFEQ    PEND
                TST     TIME22
        IFGT    DECR    TIME22
                ACL     DIZACL          ;=1 Z axis comp. low pressure level reached
        IFEQ    JUMP    TM1S010
                TST     TIME25
        IFGT    DECR    TIME25

TM1S010:        TST     TIME31
        IFGT    DECR    TIME31
                TST     TIME36
        IFGT    DECR    TIME36
                TST     TIME37
        IFGT    DECR    TIME37
                TST     TIME66
        IFGT    DECR    TIME66
                TST     TIME67
        IFGT    DECR    TIME67
                TST     TIME151
        IFGT    DECR    TIME151
                ACL     ID24A           ;ACTIVE WITH ID24A
        IFEQ    PEND
                TST     TIME101
        IFGT    DECR    TIME101
                TST     TIME102
        IFGT    DECR    TIME102
                TST     TIME103
        IFGT    DECR    TIME103
                TST     TIME05
        IFGT    DECR    TIME05
                TST     TIME46
        IFGT    DECR    TIME46
                TST     TIME47
        IFGT    DECR    TIME47
                TST     TIME07
        IFGT    DECR    TIME07
                TST     TIME09
        IFGT    DECR    TIME09
                TST     TIME12
        IFGT    DECR    TIME12
                TST     TIME77
        IFGT    DECR    TIME77
                PEND

;*****************************************************************************
;               PROCESS TM1M - TIMER 1 Min.
;*****************************************************************************

TM1MINI:        PAUSE   3000            ;Wait 1 min
                TST     TIME30
        IFGT    DECR    TIME30
                TST     TIME42
        IFGT    DECR    TIME42
                TST     TIME74
        IFGT    DECR    TIME74
                TST     TIME83
        IFGT    DECR    TIME83
                TST     TIME84
        IFGT    DECR    TIME84
                ACL     ID24C           ;ACTIVE WITH ID24C
        IFEQ    PEND
                TST     TIME01
        IFGT    DECR    TIME01
                TST     TIME24
        IFGT    DECR    TIME24
                ACL     ID24A           ;ACTIVE WITH ID24A
        IFEQ    PEND
                ACL     UDLPLP          ;FOR AXIS LUBRICATION SYSTEM
                IOR     UDCNON          ;LINEAR AXIS IN MOVIMENT
                AND     MDHLD   NG
                AND     MDPBL   NG
                AND     IDHLD
        IFEQ    JUMP    TM1M010
                TST     TIME04
        IFGT    DECR    TIME04
                TST     TIME48
        IFGT    DECR    TIME48

TM1M010:        TST     TIME17
        IFGT    DECR    TIME17
                PEND

;*****************************************************************************
;               PROCESS RCNTGP - READ CNTGP FOR BOXER MACHINE
;*****************************************************************************


;*****************************************************************************
;               PROCESS ACMCC - AIR COOLANT TOOL MANAGEMENT
;*****************************************************************************

ACMCCINI:         
                CMP     1,P000165	;=1 Opzione SCC/A installata	=2 non installata
        IFNE    PEND
                CMP     1,P000116               ;1=DUEVWH   2=DUEVCC
        IFEQ    PEND                
                ACL     DUEVCC
        IFNE    JUMP    ACMCC030
                ACL     DIPSAT
        IFNE    JUMP    ACMCC010
                PEND

ACMCC010:       LOAD    ACMCC,ACMCC020

ACMCC020:       ACL     DIPSAT
        IFNE    PEND

                ACL     MDUDCIR         ;LOW PRESS. WATER FROM CHIP. CONVEYOR IN EXECUTION
                IOR     MDHPEN          ;HIGH PRESS. WATER from chip.conveyor IN EXECUTION
                IOR     MDACCLUBON      ;ACCU-LUBE LUBRICATION IN EXECUTION
                IOR     MDEVS           ;AIR TOOL LUBRICATION FROM EXTERNAL IN EXECUTION
;******* Wait air cycle to water removal ended
                IOR     MSTOAIRH   ;AIR REM.-HIGH PRESS WATER IN EXEC.
                IOR     MSTOAIRL   ;AIR REM.-LOW PRESS WATER IN EXEC.
;********
        IFNE    JUMP    ACMCC_990

                BSET    DUEVCC
                BSET    MDEVCC  ;TO chip conveyor o accu-lube
                BSET    DULSAT

ACMCC030:       LOAD    ACMCC,ACMCC040

ACMCC040:       ACL     DUEVCC
        IFEQ    JUMP    ACMCC070
                ACL     DIPSAT
        IFNE    JUMP    ACMCC050
                PEND

ACMCC050:       LOAD    ACMCC,ACMCC060

ACMCC060:       ACL     DIPSAT
        IFNE    PEND

;******* Wait air cycle to water removal ended
                LOAD    ACMCC,ACMCC065
ACMCC065:       ACL     MSTOAIRH   ;AIR REM.-HIGH PRESS WATER IN EXEC.
                IOR     MSTOAIRL   ;AIR REM.-LOW PRESS WATER IN EXEC.
        IFNE    PEND
;********
                BCLR    DUEVCC
                BCLR    MDEVCC  ;TO chip conveyor o accu-lube
                BCLR    DULSAT

ACMCC070:       LOAD    ACMCC,ACMCCINI
                PEND

ACMCC_990:      DMSG    1862            ;WR CCO: CONTEMPORARY TOOL LUBRICATION FUNCTION INHIBITED
                LOAD    ACMCC,ACMCCINI
                PEND                

ACMCCOFF:       BCLR    DUEVCC
                BCLR    MDEVCC  ;TO chip conveyor o accu-lube
                BCLR    DULSAT
                STOP    ACMCC
                PEND

;*****************************************************************************
;               PROCESS PM01 - M01 PUSHBUTTON MANAGEMENT
;*****************************************************************************

PM01INI:
                READP   "SWCNC1 M1",STATM01     ;M01 STATUS
                CMP     1B,STATM01
        IFEQ    JUMP    PM01030                 ;SWCNC1 M1  ON
                ACL     DIPM01
        IFNE    JUMP    PM01010
                PEND

PM01010:        LOAD    PM01,PM01020
PM01020:        ACL     DIPM01
        IFNE    PEND

                WRITEP  1B,"SWCNC1 M1"          ;SWCNC1 M1 ON
PM01030:        BSET    DULM01
                LOAD    PM01,PM01040

PM01040:
                READP   "SWCNC1 M1",STATM01     ;M01 STATUS
                CMP     0B,STATM01
        IFEQ    JUMP    PM01070                 ;SWCNC1 M1  OF
                ACL     DIPM01
        IFNE    JUMP    PM01050
                PEND

PM01050:        LOAD    PM01,PM01060
PM01060:        ACL     DIPM01
        IFNE    PEND
                WRITEP  0B,"SWCNC1 M1"          ;SWCNC1 M1 OF
PM01070:        BCLR    DULM01
                LOAD    PM01,PM01INI
                PEND

PM01OFF:
                BCLR    DULM01
                STOP    PM01
                PEND

;*****************************************************************************
;               PROCESS PSKIP - / PUSHBUTTON MANAGEMENT
;*****************************************************************************

PSKIPINI:
                READP   "SWCNC1 /",STATSKIP     ;SKIP STATUS
                CMP     1B,STATSKIP
        IFEQ    JUMP    PSKIP030                 ;SWCNC1 M1  ON
                ACL     DIPBSK
        IFNE    JUMP    PSKIP010
                PEND

PSKIP010:       LOAD    PSKIP,PSKIP020
PSKIP020:       ACL     DIPBSK
        IFNE    PEND

                WRITEP  1B,"SWCNC1 /"          ;SWCNC1 M1 ON
PSKIP030:       BSET    DULBSK
                LOAD    PSKIP,PSKIP040

PSKIP040:
                READP   "SWCNC1 /",STATSKIP     ;SKIP STATUS
                CMP     0B,STATSKIP
        IFEQ    JUMP    PSKIP070                ;SWCNC1 M1  OF
                ACL     DIPBSK
        IFNE    JUMP    PSKIP050
                PEND

PSKIP050:       LOAD    PSKIP,PSKIP060
PSKIP060:       ACL     DIPBSK
        IFNE    PEND
                WRITEP  0B,"SWCNC1 /"          ;SWCNC1 M1 OF
PSKIP070:       BCLR    DULBSK
                LOAD    PSKIP,PSKIPINI
                PEND

PSKIPOFF:
                BCLR    DULBSK
                STOP    PSKIP
                PEND

;*****************************************************************************
;               PROCESS PSING - CNCMODE SA PUSHBUTTON MANAGEMENT
;*****************************************************************************

PSINGINI:
                CMP     1,CMDCNC     ;= 1 MDCNC SA STATUS SELECTED
        IFEQ    JUMP    PSING030                 ;SWCNC1 M1  ON
                ACL     DIPMSA
        IFNE    JUMP    PSING010
                PEND

PSING010:       LOAD    PSING,PSING020
PSING020:       ACL     DIPMSA
        IFNE    PEND

                COMAND  SINGON          ;MDCNC SA ENABLED
PSING030:       BSET    DULMSA
                LOAD    PSING,PSING040

PSING040:
                CMP     1,CMDCNC
        IFNE    JUMP    PSING070         ;<> 1 MDCNC SA STATUS NOT SELECTED
                ACL     DIPMSA
        IFNE    JUMP    PSING050
                PEND

PSING050:       LOAD    PSING,PSING060
PSING060:       ACL     DIPMSA
        IFNE    PEND
                COMAND  SINGOF          ;MDCNC AV ENABLED
PSING070:       BCLR    DULMSA
                LOAD    PSING,PSINGINI
                PEND

PSINGOFF:
                BCLR    DULMSA
                STOP    PSING
                PEND

;*****************************************************************************
;               PROCESS WAC_MG - Door push buttom management
;*****************************************************************************

WAC_MG_INI:     CMP     2L,COVER_ON     ;=2 COVER NOT INSTALLED
        IFEQ    JUMP    WAC_MG_CLR
                CMP     3L,COVER_ON     ;=3 COVER ON GT 
        IFEQ    JUMP    WAC_MG_CLR
                CMP     5L,COVER_ON     ;=5 AUTOMATIC COVER FROM AUXILIARY AXIS 
        IFEQ    JUMP    WAC_MG_CLR

                CMP     1L,COVER_ON     ;=1 COVER CENTRALE SU K* 
        IFEQ    BSET    MRBLX_WAC

                ACL     MDEVWO          ;=1 roof open
                AND     MDEVWC          ;=1 roof closed
        IFNE    JUMP    WAC_MG_500      ;proximity not adequate
                ACL     MDEVWO          ;=1 roof open
                IOR     MDEVWC          ;=1 roof closed
        IFEQ    JUMP    WAC_MG_600      ;proximity not adequate
                ACL     MDEVWO          ;=1 roof open
                AND     MDEVWC  NG      ;=1 roof closed
        IFNE    JUMP    WAC_MG_200
                BSET    MRBLX_WAC       ;X AXIS RELEASE
                BSET    MRBLY_WAC       ;Y axis released
                BCLR    DULWAS          ;Lamp
                ACL     DIPWAS
                IOR     MD_OPROOF       ;FROM M307 AUCOL
        IFEQ    PEND
                LOAD    WAC_MG,WAC_MG_020
                PEND

WAC_MG_020:     ACL     DIPWAS
        IFNE    PEND
                ACL     M_XPROOFON      ;X+ OR X- ROOF IN OPEN/CLOSE ROOF CICLE
                IOR     M_XNROOFON      ;X+ OR X- ROOF IN OPEN/CLOSE ROOF CICLE
                IOR     MFIRST_SK       ;FIRST SKIP LEVEL IN EXECUTION
        IFNE    JUMP    WAC_MG_860      ;Exit
                ACL     M_ZE_YDONE      ;=1 Y axis zero executed
        IFEQ    JUMP    WAC_MG_860      ;Exit & msg
                ACL     MD307ON         ;FROM M307 - NO CHECK DOOR OPEN
        IFNE    JUMP    WAC_MG_025
                ACL     MDPOA2          ;=1 Safety doors closed
        IFNE    JUMP    WAC_MG_800      ;Exit & msg
WAC_MG_025:     READP   "M.XA YM",MXA_YM
                READP   "AXVPER YM",YTCMIN
                SUB     YTCMIN,MXA_YM,MXA_YM_DIF

                TSTR    MXA_YM_DIF
        IFLT    NEGR    MXA_YM_DIF
                CMP     10000L,MXA_YM_DIF       ;Y axis too far from EOF Y+
        IFLT    JUMP    WAC_MG_810      ;Exit & msg
                BSET    MBL_WAC_MG      ;HOLD

                CMP     4L,COVER_ON     ;=4 AUTOM. COVER CENTRAL AND LATERAL ZONE INSTALLED
        IFNE    JUMP    WAC_MG_030
                BCLR    MRBLX_WAC       ;X axis locked

WAC_MG_030:     BCLR    MRBLY_WAC       ;Y axis locked
                BFLASH  DULWAS,25       ;Lamp
                BCLR    DUEVWC          ;Enable closing working area cover electrovalve
                BSET    DUEVWO          ;Enable opening working area cover electrovalve
                MOVE    TIME_WAC,TIME36
                LOAD    WAC_MG,WAC_MG_040
                PEND

WAC_MG_040:     ACL     MDEVWO          ;=1 roof open
                AND     MDEVWC  NG      ;=1 roof closed
        IFNE    JUMP    WAC_MG_300      ;proximity not adequate
                TST     TIME36
        IFNE    PEND
                JUMP    WAC_MG_820      ;Emerg

;       -------- roof already open --------

WAC_MG_200:     MOVE    2,TIME36
                LOAD    WAC_MG,WAC_MG_220
                PEND

WAC_MG_220:     ACL     MDEVWO          ;=1 roof open
                AND     MDEVWC  NG      ;=1 roof closed
        IFEQ    JUMP    WAC_MG_900      ;proximity ok
                TST     TIME36
        IFNE    PEND
                JUMP    WAC_MG_300

;       -------- roof open --------

WAC_MG_300:     BCLR    DUEVWO
                BSET    MBL_WAC_MG      ;HOLD
                PAUSE   50              ;Waiting time for HOLD

                CMP     4L,COVER_ON     ;=4 AUTOM. COVER CENTRAL AND LATERAL ZONE INSTALLED
        IFNE    JUMP    WAC_MG_310
                BCLR    MRBLX_WAC       ;X axis locked

WAC_MG_310:     BCLR    MRBLY_WAC       ;Y axis locked
                DMSG    0464            ;/MTE: WR MTE: ROOF OPEN - Y AXIS LOCKED/
                BSET    DULWAS          ;Lamp
                BCLR    MBL_WAC_MG      ;Release
                LOAD    WAC_MG,WAC_MG_320
                PEND

WAC_MG_320:     ACL     MDEVWO          ;=1 roof open
                AND     MDEVWC          ;=1 roof closed
        IFNE    JUMP    WAC_MG_500      ;proximity not adequate
                ACL     MDEVWO          ;=1 roof open
                IOR     MDEVWC          ;=1 roof closed
        IFEQ    JUMP    WAC_MG_600      ;proximity not adequate
                ACL     DIPWAS
                IOR     MD_CLROOF       ;FROM M308 AUCOL
        IFEQ    PEND
                LOAD    WAC_MG,WAC_MG_330
                PEND

WAC_MG_330:     ACL     DIPWAS
        IFNE    PEND
                ACL     M_XPROOFON      ;X+ OR X- ROOF IN OPEN/CLOSE ROOF CICLE
                IOR     M_XNROOFON      ;X+ OR X- ROOF IN OPEN/CLOSE ROOF CICLE
                IOR     MFIRST_SK       ;FIRST SKIP LEVEL IN EXECUTION
        IFNE    LOAD    WAC_MG,WAC_MG_320
        IFNE    PEND

                BSET    MBL_WAC_MG      ;HOLD
                CMP     4L,COVER_ON     ;=4 AUTOM. COVER CENTRAL AND LATERAL ZONE INSTALLED
        IFNE    JUMP    WAC_MG_335
                BCLR    MRBLX_WAC       ;X axis locked

WAC_MG_335:     BCLR    MRBLY_WAC       ;Y axis locked
                BFLASH  DULWAS,25       ;Lamp
                BCLR    DUEVWO          ;Enable opening working area cover electrovalve
                BSET    DUEVWC          ;Enable closing working area cover electrovalve
                MOVE    TIME_WAC,TIME36
                LOAD    WAC_MG,WAC_MG_340
                PEND

WAC_MG_340:     ACL     MDEVWC          ;=1 roof closed
                AND     MDEVWO  NG      ;=1 roof open
        IFNE    JUMP    WAC_MG_400
                TST     TIME36
        IFNE    PEND
                JUMP    WAC_MG_840      ;Emerg

;       -------- roof close --------

WAC_MG_400:     BCLR    DUEVWC
                DMSG    0465            ;/MTE: WORKING AREA COVER CLOSED - Y AXIS RELEASED/
                BCLR    DULWAS          ;Lamp
                BSET    MRBLY_WAC       ;Y axis released
                BSET    MRBLX_WAC       ;X AXIS RELEASE
                BCLR    MBL_WAC_MG      ;Release
                JUMP    WAC_MG_900

;       -------- Emerg --------

;       -------- proximity not adequate ( both =1 ) -------

WAC_MG_500:     MOVE    2,TIME36
                LOAD    WAC_MG,WAC_MG_520
                PEND

WAC_MG_520:     ACL     MDEVWO          ;=1 roof open
                AND     MDEVWC          ;=1 roof closed
        IFEQ    JUMP    WAC_MG_900      ;proximity ok
                TST     TIME36
        IFNE    PEND
                DMSG    0469            ;/EM MTE: WORKING AREA COVER PROXIMITY FAULTY/
                BFLASH  DULWAS,25       ;Lamp
                BSET    MBL_WAC_MG      ;HOLD
                LOAD    WAC_MG,WAC_MG_540
                PEND

WAC_MG_540:     ACL     ID24C
        IFNE    PEND
                BCLR    MBL_WAC_MG      ;Release
                JUMP    WAC_MG_900

;       -------- proximity not adequate ( both =0 ) -------

WAC_MG_600:     MOVE    10,TIME36
                LOAD    WAC_MG,WAC_MG_620
                PEND

WAC_MG_620:     ACL     MDEVWO          ;=1 roof open
                IOR     MDEVWC          ;=1 roof closed
        IFNE    JUMP    WAC_MG_900      ;proximity ok
                TST     TIME36
        IFNE    PEND
                DMSG    0478            ;/EM MTE: WORKING AREA COVER IN UNKNOWN POSITION/
                BFLASH  DULWAS,25       ;Lamp
                BSET    MBL_WAC_MG      ;HOLD
                LOAD    WAC_MG,WAC_MG_640
                PEND

WAC_MG_640:     ACL     ID24A
        IFNE    PEND
                BCLR    MBL_WAC_MG      ;Release
                JUMP    WAC_MG_900

WAC_MG_820:     DMSG    0479            ;/EM MTE: WORKING AREA COVER OPENING TIME OUT/
                BSET    MBL_WAC_MG      ;HOLD
                BCLR    DUEVWO          ;disable open working area cover electrovalve
                LOAD    WAC_MG,WAC_MG_830
                PEND

WAC_MG_830:     ACL     ID24C
        IFNE    PEND
                BCLR    MBL_WAC_MG      ;Release
                JUMP    WAC_MG_900

WAC_MG_840:     DMSG    0484            ;/EM MTE: WORKING AREA COVER CLOSING TIME OUT/
                BSET    MBL_WAC_MG      ;HOLD
                BCLR    DUEVWC          ;disable close working area cover electrovalve
                LOAD    WAC_MG,WAC_MG_850
                PEND

WAC_MG_850:     ACL     ID24C
        IFNE    PEND
                BCLR    MBL_WAC_MG      ;Release
                JUMP    WAC_MG_900

;       -------- Exit --------

WAC_MG_800:     DMSG    0494            ;/WR MTE: WORKING AREA COVER OPENING INHBIT - TABLE SAFETY DOORS NOT OPEN/
                JUMP    WAC_MG_900

WAC_MG_810:     DMSG    0498            ;/WR MTE: WORKING AREA COVER OPENING INHBIT - Y AXIS NOT IN PLUS EOR/
                JUMP    WAC_MG_900

WAC_MG_860:     DMSG    0499            ;/WR MTE: WORKING AREA COVER OPENING INHBIT ZERO PRC NOT EXEC/
                JUMP    WAC_MG_900

WAC_MG_870:     JUMP    WAC_MG_900

WAC_MG_900:     LOAD    WAC_MG,WAC_MG_INI
                PEND

WAC_MG_OFF:     BCLR    MBL_WAC_MG      ;Release
                BCLR    DULWAS          ;Lamp
                BCLR    DUEVWC
                BCLR    DUEVWO
                STOP    WAC_MG
                PEND

;--- Not installed
WAC_MG_CLR:     BSET    MRBLX_WAC
                BSET    MRBLY_WAC
                PEND

;*****************************************************************************
;               PROCESS WXP_MG - piston X+ side push buttom management
;*****************************************************************************

WXP_MG_INI:
                CMP     4L,COVER_ON     ;=4 AUTOM. COVER CENTRAL AND LATERAL ZONE INSTALLED
        IFNE    PEND
                ACL     MBDIOWXP        ;=1 PISTONE DISINSERITO lato carteratura X+
                AND     MBDICWXP        ;=1 PISTONE INSERITO    lato carteratura X+
        IFNE    JUMP    WXP_MG_500      ;proximity not adequate
                ACL     MBDIOWXR        ;=1 PISTONE DISINSERITO  lato carro X+
                AND     MBDICWXR        ;=1 PISTONE INSERITO    lato carro X+
        IFNE    JUMP    WXP_MG_550      ;proximity not adequate   both =1

                ACL     MBDIOWXP                ;
                IOR     MBDICWXP                ;
        IFEQ    JUMP    WXP_MG_600      ;proximity not adequate  both =0
                ACL     MBDIOWXR                ;
                IOR     MBDICWXR                ;
        IFEQ    JUMP    WXP_MG_650      ;proximity not adequate  both =0

                ACL     MBDIOWXR    NG          ;
                AND     MBDICWXR                ;
                AND     MBDIOWXP    NG          ;
                AND     MBDICWXP                ;
        IFNE    JUMP    WXP_MG_700      ;proximity in dangerous condition
                                        ;TETTO APERTO MA NON AGGANCIATO
                ACL     MBDIOWXR                ;
                AND     MBDICWXR    NG          ;
                AND     MBDIOWXP                ;
                AND     MBDICWXP    NG          ;
        IFNE    JUMP    WXP_MG_700      ;proximity in dangerous condition
                                        ;TETTO CHIUSO E AGGANCIATO
;------
                ACL     MBDIOWXR    NG          ;
                AND     MBDICWXR                ;
                AND     MBDIOWXP                ;
                AND     MBDICWXP    NG          ;
        IFNE    JUMP    WXP_MG_300      ;LOOP ROOF OPEN

;---ROOF X+ CLOSED - WAITING OPEN REQUEST

                BCLR    DULWXP          ;Lamp
                DMSG    1366            ;WR MTE: X+ ROOF CLOSED
                BSET    MD_CKXPLCK      ;ENABLE FLAG FOR LOCKING PROCESS CHECK SWITCH ON X+ SIDE  (DILWXR=1)
                BCLR    M_XPROOFON      ;OPEN CICLE ENDED

                LOAD    WXP_MG,WXP_MG_010
WXP_MG_010:
                ACL     MBDIOWXP        ;=1 PISTONE DISINSERITO lato carteratura X+
                AND     MBDICWXP        ;=1 PISTONE INSERITO    lato carteratura X+
        IFNE    JUMP    WXP_MG_500      ;proximity not adequate
                ACL     MBDIOWXR        ;=1 PISTONE DISINSERITO  lato carro X+
                AND     MBDICWXR        ;=1 PISTONE INSERITO    lato carro X+
        IFNE    JUMP    WXP_MG_550      ;proximity not adequate   both =1

                ACL     MBDIOWXP                ;
                IOR     MBDICWXP                ;
        IFEQ    JUMP    WXP_MG_600      ;proximity not adequate  both =0
                ACL     MBDIOWXR                ;
                IOR     MBDICWXR                ;
        IFEQ    JUMP    WXP_MG_650      ;proximity not adequate  both =0

                ACL     MBDIOWXR    NG          ;
                AND     MBDICWXR                ;
                AND     MBDIOWXP    NG          ;
                AND     MBDICWXP                ;
        IFNE    JUMP    WXP_MG_700      ;proximity in dangerous condition
                                        ;TETTO APERTO MA NON AGGANCIATO
                ACL     MBDIOWXR                ;
                AND     MBDICWXR    NG          ;
                AND     MBDIOWXP                ;
                AND     MBDICWXP    NG          ;
        IFNE    JUMP    WXP_MG_700      ;proximity in dangerous condition
                                        ;TETTO CHIUSO E AGGANCIATO
                ACL     MBDIOWXR    NG          ;
                AND     MBDICWXR                ;
                AND     MBDIOWXP                ;
                AND     MBDICWXP    NG          ;
        IFNE    JUMP    WXP_MG_300      ;LOOP ROOF OPEN
; ------
                ACL     MFIRST_SK
                IOR     MSECOND_SK
        IFNE    PEND
                ACL     DIPWXP
                IOR     MD334_OPRF       ;FROM M334 AUCOL
        IFEQ    PEND
                LOAD    WXP_MG,WXP_MG_020
                PEND

WXP_MG_020:
                ACL     MFIRST_SK
                IOR     MSECOND_SK
        IFNE    JUMP    WXP_MG_880      ;Exit & msg
                ACL     DIPWXP
        IFNE    PEND
                ACL     M_ZER_DONE      ;=1 X Y Z axis zero executed
        IFEQ    JUMP    WXP_MG_880      ;Exit & msg

                ACL     MPROGX   NG    ;=1 Part-programm in execution
                AND     MDPOA2          ;=1 Safety doors closed
        IFEQ    JUMP    WXP_MG_880      ;Exit & msg door open or axis in prg. execution

                ACL     MDAXMV1 NG      ;=1 AXIS COMMAND OR IN MOVIMENT
		IOR	MD334_OPRF
        IFEQ    JUMP    WXP_MG_880      ;Exit & msg door open or axis in prg. execution

;************Check X idle mode*
		CMP	C_XST,1L
	IFEQ	JUMP    WXP_MG_880

;****   Check Y idle mode
		CMP	C_YST,1L
	IFEQ	JUMP    WXP_MG_880

;****   Check Z idle mode
		CMP	C_ZST,1L
	IFEQ	JUMP    WXP_MG_880

;****   Check 4 idle mode
		CMP	C_A4ST,1L
	IFEQ	JUMP    WXP_MG_880

;****   Check 5 idle mode
		CMP	C_A5ST,1L
	IFEQ	JUMP    WXP_MG_880

;****   Check 6 idle mode
		CMP	C_A6ST,1L
	IFEQ	JUMP    WXP_MG_880

;*************************************

                ACL     MDEVWO   NG     ;=1 roof open
                AND     MDEVWC          ;=1 roof closed
        IFEQ    JUMP    WXP_MG_880      ;CENTRAL ROOF NOT CLOSED
                ACL     M_XNROOFON      ;X- ROOF CICLE IN EXECUTION
        IFNE    JUMP    WXP_MG_880      ;
                BSET    M_XPROOFON      ;CICLE X+ ROOF OPEN IN EXEC
                BFLASH  DULWXP,25       ;Lamp

                STORE   RTCP,POSTCP
                STORE   VIRCAN,POSVIR   ;VIRCAN memory
                NCBLK   POSG97          ;Disabilitazione RTCP
                NCBLK   POSG95          ;Disabilitazione VIRCAN

                NCBLK   ZPOSROOF        ;Z POSITION FOR ROOF OPERATION

                NCBLK   XPPOSCART        ;X+ ROOF - AXIS POSITIONED TO CARTER
                EXEC    INSWXP          ;HOCKING ENABLED X+ SIDE CARTER
        IFOV    JUMP    WXP_MG_900
                BCLR    MD_CKXPLCK      ;RELEASE FLAG FOR LOCKING PROCESS CHECK SWITCH ON X+ SIDE  (DILWXR=1)
                EXEC    REMWXR          ;HOCKING DISABLE X+ SIDE CARRO
        IFOV    JUMP    WXP_MG_900
                NCBLK   XPPOSNEAR       ;X+ ROOF - AXIS POSITIONED NEAR TO CARTER
                NCBLK   POSTCP                  ;restore RTCP
                NCBLK   POSVIR                  ;restore vircan

;       -------- roof already open --------

WXP_MG_300:

;       -------- roof open --------

                BCLR    M_XPROOFON      ;OPEN CICLE ENDED
                DMSG    1364            ;WR MTE: X+ ROOF OPEN
                DMSG    2280            ;LINEAR AXIS MOVEMENT - FEED REDUCED WITH ROOF OPEN
                BCLR    MD_CKXPLCK      ;ENABLE FLAG FOR LOCKING PROCESS CHECK SWITCH ON X+ SIDE  (DILWXR=1)
                BSET    DULWXP          ;Lamp
                BCLR    MD334_OPRF      ;FUNCTION EXECUTED
                LOAD    WXP_MG,WXP_MG_320
                PEND
WXP_MG_320:
                ACL     MBDIOWXP        ;=1 PISTONE DISINSERITO lato carteratura X+
                AND     MBDICWXP        ;=1 PISTONE INSERITO    lato carteratura X+
        IFNE    JUMP    WXP_MG_500      ;proximity not adequate
                ACL     MBDIOWXR        ;=1 PISTONE DISINSERITO  lato carro X+
                AND     MBDICWXR        ;=1 PISTONE INSERITO    lato carro X+
        IFNE    JUMP    WXP_MG_550      ;proximity not adequate   both =1

                ACL     MBDIOWXP                ;
                IOR     MBDICWXP                ;
        IFEQ    JUMP    WXP_MG_600      ;proximity not adequate  both =0
                ACL     MBDIOWXR                ;
                IOR     MBDICWXR                ;
        IFEQ    JUMP    WXP_MG_650      ;proximity not adequate  both =0

                ACL     MBDIOWXR    NG          ;
                AND     MBDICWXR                ;
                AND     MBDIOWXP    NG          ;
                AND     MBDICWXP                ;
        IFNE    JUMP    WXP_MG_700      ;proximity in dangerous condition
                                        ;TETTO APERTO MA NON AGGANCIATO
                ACL     MBDIOWXR                ;
                AND     MBDICWXR    NG          ;
                AND     MBDIOWXP                ;
                AND     MBDICWXP    NG          ;
        IFNE    JUMP    WXP_MG_700      ;proximity in dangerous condition
                                        ;TETTO CHIUSO E AGGANCIATO
                ACL     MBDIOWXR                ;
                AND     MBDICWXR    NG          ;
                AND     MBDIOWXP    NG          ;
                AND     MBDICWXP                ;
        IFNE    JUMP    WXP_MG_INI      ;LOOP ROOF CLOSED

;***** feed axis limitation with roof open *************

                MOVE    P000508,F_LIN_VAL   ;SLOW LINEAR AXIS FEED
                EXEC    FLIM_SET

;*******************************************************************
                ACL     MFIRST_SK
                IOR     MSECOND_SK
        IFNE    PEND
                ACL     DIPWXP
                IOR     MD335_CLRF       ;FROM M335 AUCOL
        IFEQ    PEND

                LOAD    WXP_MG,WXP_MG_330
                PEND
 WXP_MG_330:

                ACL     MFIRST_SK
                IOR     MSECOND_SK
        IFNE    JUMP    WXP_MG_880      ;Exit & msg
                ACL     DIPWXP
        IFNE    PEND
                ACL     M_ZER_DONE      ;=1 X Y Z axis zero executed
        IFEQ    JUMP    WXP_MG_880      ;Exit & msg

                ACL     MPROGX  NG    ;=1 Part-programm in execution
                AND     MDPOA2          ;=1 Safety doors closed
        IFEQ    JUMP    WXP_MG_880      ;Exit & msg door open or axis in prg. execution

                ACL     MDAXMV1 NG      ;=1 AXIS COMMAND OR IN MOVIMENT
		IOR	MD335_CLRF
        IFEQ    JUMP    WXP_MG_880      ;Exit & msg door open or axis in prg. execution

;************Check X idle mode*
		CMP	C_XST,1L
	IFEQ	JUMP    WXP_MG_880

;****   Check Y idle mode
		CMP	C_YST,1L
	IFEQ	JUMP    WXP_MG_880

;****   Check Z idle mode
		CMP	C_ZST,1L
	IFEQ	JUMP    WXP_MG_880

;****   Check 4 idle mode
		CMP	C_A4ST,1L
	IFEQ	JUMP    WXP_MG_880

;****   Check 5 idle mode
		CMP	C_A5ST,1L
	IFEQ	JUMP    WXP_MG_880

;****   Check 6 idle mode
		CMP	C_A6ST,1L
	IFEQ	JUMP    WXP_MG_880

;***********************************
                ACL     MDEVWO   NG     ;=1 roof open
                AND     MDEVWC          ;=1 roof closed
        IFEQ    JUMP    WXP_MG_880      ;CENTRAL ROOF NOT CLOSED
                ACL     M_XNROOFON      ;X- ROOF CICLE IN EXECUTION
        IFNE    JUMP    WXP_MG_880      ;
                BSET    M_XPROOFON      ;CICLE X+ ROOF OPEN IN EXEC
                BFLASH  DULWXP,25       ;Lamp

                STORE   RTCP,POSTCP
                STORE   VIRCAN,POSVIR   ;VIRCAN memory
                NCBLK   POSG97          ;Disabilitazione RTCP
                NCBLK   POSG95          ;Disabilitazione VIRCAN

                NCBLK   ZPOSROOF        ;Z POSITION FOR ROOF OPERATION

                NCBLK   XPPOSCART        ;X+ ROOF - AXIS POSITIONED TO CARTER
                PAUSE   50
                ACL     MBDILWXR        ;(DILWXR=1 O.K.)
        IFNE    DMSG    1386            ;MTE: ROOF X+ IN HOCKING POSITION
                BSET    MD_CKXPLCK      ;ENABLE FLAG FOR LOCKING PROCESS CHECK SWITCH ON X+ SIDE  (DILWXR=1)
                ACL     MBDILWXR        ;(DILWXR=1 O.K.)
        IFEQ    JUMP    WXP_MG_900
                EXEC    INSWXR          ;HOCKING ENABLED X+ SIDE RAM
        IFOV    JUMP    WXP_MG_900
                EXEC    REMWXP          ;HOCKING DISABLE X+ SIDE CARTER
        IFOV    JUMP    WXP_MG_900
                NCBLK   XPPOSNEAR       ;X+ ROOF - AXIS POSITIONED NEAR TO CARTER

                BCLR    M_XPROOFON      ;CLOSE CICLE ENDED
                BCLR    DULWXP          ;Lamp
                JUMP    WXP_MG_900

;       -------- Emerg --------

;       -------- proximity not adequate su carteratura X+ side( both =1 ) -------

WXP_MG_500:
                ACL     MSECOND_SK      ;SKIP HOLD CONDITION FROM PUSH BUTTON SEQUENCE
        IFNE    PEND
                ACL     MFIRST_SK      ; SKIP FIRST LEVEL CONTROL
        IFNE    PEND
                MOVE    2,TIME66
                LOAD    WXP_MG,WXP_MG_520
                PEND

WXP_MG_520:     ACL     MBDIOWXP        ;=1
                AND     MBDICWXP        ;=1
        IFEQ    JUMP    WXP_MG_900      ;proximity ok
                TST     TIME66
        IFNE    PEND
                DMSG    1368            ;/EM MTE: ROOF X+ SENSOR FAULTY /
                BFLASH  DULWXP,25       ;Lamp
                LOAD    WXP_MG,WXP_MG_540
                PEND

WXP_MG_540:     BSET    MBL_WXP_MG      ;HOLD
                ACL     MSECOND_SK      ;SKIP HOLD CONDITION FROM PUSH BUTTON SEQUENCE
        IFEQ    PEND
                BCLR    MBL_WXP_MG      ;Release
                BCLR    DULWXP
                JUMP    WXP_MG_900

; -------- proximity not adequate su carro X+ side( both =1 ) -------

WXP_MG_550:
                ACL     MSECOND_SK      ;SKIP HOLD CONDITION FROM PUSH BUTTON SEQUENCE
        IFNE    PEND
                ACL     MFIRST_SK      ; SKIP FIRST LEVEL CONTROL
        IFNE    PEND
                MOVE    2,TIME67
                LOAD    WXP_MG,WXP_MG_560
                PEND

WXP_MG_560:     ACL     MBDIOWXR        ;=1
                AND     MBDICWXR        ;=1
        IFEQ    JUMP    WXP_MG_900      ;proximity ok
                TST     TIME67
        IFNE    PEND
                DMSG    1378           ;EM MTE: ROOF X+ HOCKING SENSORS FAULTY ON X AXIS           ]

                BFLASH  DULWXP,25       ;Lamp
                LOAD    WXP_MG,WXP_MG_570
                PEND

WXP_MG_570:
                BSET    MBL_WXP_MG      ;HOLD
                ACL     MSECOND_SK      ;SKIP HOLD CONDITION FROM PUSH BUTTON SEQUENCE
        IFEQ    PEND
                BCLR    MBL_WXP_MG      ;Release
                BCLR    DULWXP
                JUMP    WXP_MG_900


;       -------- proximity not adequate su carteratura X+ side( both =0 ) -------

WXP_MG_600:
                ACL     MSECOND_SK      ;SKIP HOLD CONDITION FROM PUSH BUTTON SEQUENCE
        IFNE    PEND
                ACL     MFIRST_SK      ; SKIP FIRST LEVEL CONTROL
        IFNE    PEND
                MOVE    2,TIME66
                LOAD    WXP_MG,WXP_MG_620
                PEND

WXP_MG_620:     ACL     MBDIOWXP                ;
                IOR     MBDICWXP                ;
        IFNE    JUMP    WXP_MG_900      ;proximity ok
                TST     TIME66
        IFNE    PEND
                DMSG    1370            ;=EM MTE: ROOF X+ IN UNKNOWN POSITION                        ]
                BFLASH  DULWXP,25       ;Lamp
                LOAD    WXP_MG,WXP_MG_640
                PEND

WXP_MG_640:
                BSET    MBL_WXP_MG      ;HOLD
                ACL     MSECOND_SK      ;SKIP HOLD CONDITION FROM PUSH BUTTON SEQUENCE
        IFEQ    PEND
                BCLR    MBL_WXP_MG      ;Release
                BCLR    DULWXP
                JUMP    WXP_MG_900

; -------- proximity not adequate su carro X+ side( both =0 ) -------

WXP_MG_650:
                ACL     MSECOND_SK      ;SKIP HOLD CONDITION FROM PUSH BUTTON SEQUENCE
        IFNE    PEND
                ACL     MFIRST_SK      ; SKIP FIRST LEVEL CONTROL
        IFNE    PEND
                MOVE    2,TIME67
                LOAD    WXP_MG,WXP_MG_660
                PEND

WXP_MG_660:     ACL     MBDIOWXR        ;=1
                IOR     MBDICWXR        ;=1
        IFNE    JUMP    WXP_MG_900      ;proximity ok
                TST     TIME67
        IFNE    PEND
                DMSG    1380           ;EM MTE: ROOF X+ HOCKING SENSORS ON X AXIS IN UNKNOWN POSIT
                BFLASH  DULWXP,25       ;Lamp
                LOAD    WXP_MG,WXP_MG_670
                PEND
WXP_MG_670:
                BSET    MBL_WXP_MG      ;HOLD
                ACL     MSECOND_SK      ;SKIP HOLD CONDITION FROM PUSH BUTTON SEQUENCE
        IFEQ    PEND
                BCLR    MBL_WXP_MG      ;Release
                BCLR    DULWXP
                JUMP    WXP_MG_900

; -------- proximity In dangerous condition -------

WXP_MG_700:
                ACL     MSECOND_SK      ;SKIP HOLD CONDITION FROM PUSH BUTTON SEQUENCE
        IFNE    PEND
                ACL     MFIRST_SK      ; SKIP FIRST LEVEL CONTROL
        IFNE    PEND
                DMSG    1372           ;EM MTE: ROOF X+ IN DANGEROUS POSITION                      ]
                BFLASH  DULWXP,25       ;Lamp
                LOAD    WXP_MG,WXP_MG_710
                PEND
WXP_MG_710:
                BSET    MBL_WXP_MG      ;HOLD
                ACL     MSECOND_SK      ;SKIP HOLD CONDITION FROM PUSH BUTTON SEQUENCE
        IFEQ    PEND
                BCLR    MBL_WXP_MG      ;Release
                BCLR    DULWXP
                JUMP    WXP_MG_900

;       -------- Exit --------

WXP_MG_880:     DMSG    1390            ;WR MTE: ROOF OPEN/CLOSE REQUEST-FUNCTION INHIBITED
                JUMP    WXP_MG_910

WXP_MG_900:
                NCBLK   POSTCP                  ;restore RTCP
                NCBLK   POSVIR                  ;restore vircan

WXP_MG_910:     BCLR    MD334_OPRF              ;FUNCTION EXECUTED
                BCLR    MD335_CLRF              ;FUNCTION EXECUTED
                LOAD    WXP_MG,WXP_MG_INI
                PEND

WXP_MG_OFF:     BCLR    MBL_WXP_MG      ;Release
                BCLR    MBL_INSXP
                BCLR    MBL_INSXR
                BCLR    MBL_REMXP
                BCLR    MBL_REMXR
                BCLR    MD334_OPRF
                BCLR    MD335_CLRF
                BCLR    DULWXP          ;Lamp
                BCLR    M_XPROOFON
                BCLR    DUOWXP
                BCLR    DUCWXP
                BCLR    DUOWXR
                BCLR    DUCWXR
                STOP    WXP_MG
                PEND

;*****************************************************************************
;               PROCESS WXN_MG - piston X- side push buttom management
;*****************************************************************************

WXN_MG_INI:
                CMP     4L,COVER_ON     ;=4 AUTOM. COVER CENTRAL AND LATERAL ZONE INSTALLED
        IFNE    PEND
        
WXN_MG_005:     ACL     MBDIOWXN        ;=1 PISTONE DISINSERITO lato carteratura X+
                AND     MBDICWXN        ;=1 PISTONE INSERITO    lato carteratura X+
        IFNE    JUMP    WXN_MG_500      ;proximity not adequate
                ACL     MBDIOWXL        ;=1 PISTONE DISINSERITO  lato carro X+
                AND     MBDICWXL        ;=1 PISTONE INSERITO    lato carro X+
        IFNE    JUMP    WXN_MG_550      ;proximity not adequate   both =1

                ACL     MBDIOWXN                ;
                IOR     MBDICWXN                ;
        IFEQ    JUMP    WXN_MG_600      ;proximity not adequate  both =0
                ACL     MBDIOWXL                ;
                IOR     MBDICWXL                ;
        IFEQ    JUMP    WXN_MG_650      ;proximity not adequate  both =0

                ACL     MBDIOWXL    NG          ;
                AND     MBDICWXL                ;
                AND     MBDIOWXN    NG          ;
                AND     MBDICWXN                ;
        IFNE    JUMP    WXN_MG_700      ;proximity in dangerous condition
                                        ;TETTO APERTO MA NON AGGANCIATO
                ACL     MBDIOWXL                ;
                AND     MBDICWXL    NG          ;
                AND     MBDIOWXN                ;
                AND     MBDICWXN    NG          ;
        IFNE    JUMP    WXN_MG_700      ;proximity in dangerous condition
                                        ;TETTO CHIUSO E AGGANCIATO
;------
                ACL     MBDIOWXL    NG          ;
                AND     MBDICWXL                ;
                AND     MBDIOWXN                ;
                AND     MBDICWXN    NG          ;
        IFNE    JUMP    WXN_MG_300      ;LOOP ROOF OPEN

;---ROOF X+ CLOSED - WAITING OPEN REQUEST

                BCLR    DULWXN          ;Lamp WORKING AREA COVER X- STATUS LAMP
                DMSG    1367            ;WR MTE: X- ROOF CLOSED                                     ]
                BSET    MD_CKXNLCK      ;ENABLE FLAG FOR LOCKING PROCESS CHECK SWITCH ON X- SIDE  (DILWXL=1)
                BCLR    M_XNROOFON      ;OPEN CICLE ENDED

                LOAD    WXN_MG,WXN_MG_010
WXN_MG_010:
                ACL     MBDIOWXN        ;=1 PISTONE DISINSERITO lato carteratura X+
                AND     MBDICWXN        ;=1 PISTONE INSERITO    lato carteratura X+
        IFNE    JUMP    WXN_MG_500      ;proximity not adequate
                ACL     MBDIOWXL        ;=1 PISTONE DISINSERITO  lato carro X+
                AND     MBDICWXL        ;=1 PISTONE INSERITO    lato carro X+
        IFNE    JUMP    WXN_MG_550      ;proximity not adequate   both =1

                ACL     MBDIOWXN                ;
                IOR     MBDICWXN                ;
        IFEQ    JUMP    WXN_MG_600      ;proximity not adequate  both =0
                ACL     MBDIOWXL                ;
                IOR     MBDICWXL                ;
        IFEQ    JUMP    WXN_MG_650      ;proximity not adequate  both =0

                ACL     MBDIOWXL    NG          ;
                AND     MBDICWXL                ;
                AND     MBDIOWXN    NG          ;
                AND     MBDICWXN                ;
        IFNE    JUMP    WXN_MG_700      ;proximity in dangerous condition
                                        ;TETTO APERTO MA NON AGGANCIATO
                ACL     MBDIOWXL                ;
                AND     MBDICWXL    NG          ;
                AND     MBDIOWXN                ;
                AND     MBDICWXN    NG          ;
        IFNE    JUMP    WXN_MG_700      ;proximity in dangerous condition
                                        ;TETTO CHIUSO E AGGANCIATO
                ACL     MBDIOWXL    NG          ;
                AND     MBDICWXL                ;
                AND     MBDIOWXN                ;
                AND     MBDICWXN    NG          ;
        IFNE    JUMP    WXN_MG_300      ;LOOP ROOF OPEN
;------

                ACL     MFIRST_SK
                IOR     MSECOND_SK
        IFNE    PEND
                ACL     MD336_OPRF       ;FROM M336 AUCOL
        IFNE    JUMP    WXN_MG_015
                ACL     DIPWXN
        IFEQ    PEND
                ACL     MDAXMV          ;=1 Part-programm in execution
        IFNE    JUMP    WXN_MG_880
                LOAD    WXN_MG,WXN_MG_020
                PEND

WXN_MG_015:     LOAD    WXN_MG,WXN_MG_020
                PEND

WXN_MG_020:
                ACL     MFIRST_SK
                IOR     MSECOND_SK
        IFNE    JUMP    WXN_MG_880      ;Exit & msg
                ACL     DIPWXN
        IFNE    PEND
                ACL     M_ZER_DONE      ;=1 X Y Z axis zero executed
        IFEQ    JUMP    WXN_MG_880      ;Exit & msg

                ACL     MPROGX   NG    ;=1 Part-programm in execution
                AND     MDPOA2          ;=1 Safety doors closed
        IFEQ    JUMP    WXN_MG_880      ;Exit & msg door open or axis in prg. execution

                ACL     MDAXMV1 NG      ;=1 AXIS COMMAND OR IN MOVIMENT
		IOR	MD336_OPRF
        IFEQ    JUMP    WXN_MG_880      ;Exit & msg door open or axis in prg. execution

;************Check X idle mode*
		CMP	C_XST,1L
	IFEQ	JUMP    WXN_MG_880

;****   Check Y idle mode
		CMP	C_YST,1L
	IFEQ	JUMP    WXN_MG_880

;****   Check Z idle mode
		CMP	C_ZST,1L
	IFEQ	JUMP    WXN_MG_880

;****   Check 4 idle mode
		CMP	C_A4ST,1L
	IFEQ	JUMP    WXN_MG_880

;****   Check 5 idle mode
		CMP	C_A5ST,1L
	IFEQ	JUMP    WXN_MG_880

;****   Check 6 idle mode
		CMP	C_A6ST,1L
	IFEQ	JUMP    WXN_MG_880

;***********************************

                CMP     3L,COVER_ON
        IFEQ    JUMP    WXN_MG_030
                ACL     MDEVWO          ;WAS - MDEVWO   NG     ;=1 roof open
                AND     MDEVWC          ;=1 roof closed
        IFEQ    JUMP    WXN_MG_880      ;CENTRAL ROOF NOT CLOSED

WXN_MG_030:     
                ACL     M_XNROOFON      ;X- ROOF CICLE IN EXECUTION
        IFNE    JUMP    WXN_MG_880      ;
                BSET    M_XNROOFON      ;CICLE X+ ROOF OPEN IN EXEC
                BFLASH  DULWXN,25       ;Lamp
                STORE   RTCP,POSTCP
                STORE   VIRCAN,POSVIR   ;VIRCAN memory
                NCBLK   POSG97          ;Disabilitazione RTCP
                NCBLK   POSG95          ;Disabilitazione VIRCAN
                PAUSE   5
                NCBLK   ZPOSROOF        ;Z POSITION FOR ROOF OPERATION

                NCBLK   XNPOSCART        ;X- ROOF - AXIS POSITIONED TO CARTER
                EXEC    INSWXN
        IFOV    JUMP    WXN_MG_900
                BCLR    MD_CKXNLCK      ;RELEASE FLAG FOR LOCKING PROCESS CHECK SWITCH ON X+ SIDE  (DILWXL=1)
                EXEC    REMWXL
        IFOV    JUMP    WXN_MG_900
                NCBLK   XNPOSNEAR       ;X- ROOF - AXIS POSITIONED NEAR TO CARTER
                NCBLK   POSTCP                  ;restore RTCP
                NCBLK   POSVIR                  ;restore vircan

;       -------- roof already open --------

WXN_MG_300:

;       -------- roof open --------

                BCLR    M_XNROOFON      ;OPEN CICLE ENDED
                DMSG    1365            ;WR MTE: X- TETTO APERTO        
                DMSG    2280            ;FEED LINEAR AXES REDUCED
                BCLR    MD_CKXNLCK      ;ENABLE FLAG FOR LOCKING PROCESS CHECK SWITCH ON X+ SIDE  (DILWXL=1)
                BSET    DULWXN          ;Lamp
                BCLR    MD336_OPRF     ;FUNCTION EXECUTED
                LOAD    WXN_MG,WXN_MG_320
                PEND
WXN_MG_320:
                ACL     MBDIOWXN        ;=1 PISTONE DISINSERITO lato carteratura X+
                AND     MBDICWXN        ;=1 PISTONE INSERITO    lato carteratura X+
        IFNE    JUMP    WXN_MG_500      ;proximity not adequate
                ACL     MBDIOWXL        ;=1 PISTONE DISINSERITO  lato carro X+
                AND     MBDICWXL        ;=1 PISTONE INSERITO    lato carro X+
        IFNE    JUMP    WXN_MG_550      ;proximity not adequate   both =1

                ACL     MBDIOWXN                ;
                IOR     MBDICWXN                ;
        IFEQ    JUMP    WXN_MG_600      ;proximity not adequate  both =0
                ACL     MBDIOWXL                ;
                IOR     MBDICWXL                ;
        IFEQ    JUMP    WXN_MG_650      ;proximity not adequate  both =0

                ACL     MBDIOWXL    NG          ;
                AND     MBDICWXL                ;
                AND     MBDIOWXN    NG          ;
                AND     MBDICWXN                ;
        IFNE    JUMP    WXN_MG_700      ;proximity in dangerous condition
                                        ;TETTO APERTO MA NON AGGANCIATO
                ACL     MBDIOWXL                ;
                AND     MBDICWXL    NG          ;
                AND     MBDIOWXN                ;
                AND     MBDICWXN    NG          ;
        IFNE    JUMP    WXN_MG_700      ;proximity in dangerous condition
                                        ;TETTO CHIUSO E AGGANCIATO
                ACL     MBDIOWXL                ;
                AND     MBDICWXL    NG          ;
                AND     MBDIOWXN    NG          ;
                AND     MBDICWXN                ;
        IFNE    JUMP    WXN_MG_INI   ;LOOP ROOF CLOSE

;***** feed axis limitation with roof open *************

                MOVE    P000508,F_LIN_VAL   ;SLOW LINEAR AXIS FEED
                EXEC    FLIM_SET

;*******************************************************************

                ACL     MFIRST_SK
                IOR     MSECOND_SK
        IFNE    PEND
                ACL     DIPWXN
                IOR     MD337_CLRF       ;FROM M337 AUCOL
        IFEQ    PEND
                LOAD    WXN_MG,WXN_MG_330
                PEND
 WXN_MG_330:
                ACL     MFIRST_SK
                IOR     MSECOND_SK
        IFNE    JUMP    WXN_MG_880      ;Exit & msg
                ACL     DIPWXN
        IFNE    PEND

                ACL     M_ZER_DONE      ;=1 X Y Z axis zero executed
        IFEQ    JUMP    WXN_MG_880      ;Exit & msg
                ACL     MPROGX   NG    ;=1 Part-programm in execution
                AND     MDPOA2          ;=1 Safety doors closed
        IFEQ    JUMP    WXN_MG_880      ;Exit & msg door open or axis in prg. execution

                ACL     MDAXMV1 NG      ;=1 AXIS COMMAND OR IN MOVIMENT
		IOR	MD337_CLRF
        IFEQ    JUMP    WXN_MG_880      ;Exit & msg door open or axis in prg. execution


;************Check X idle mode*
		CMP	C_XST,1L
	IFEQ	JUMP    WXN_MG_880

;****   Check Y idle mode
		CMP	C_YST,1L
	IFEQ	JUMP    WXN_MG_880

;****   Check Z idle mode
		CMP	C_ZST,1L
	IFEQ	JUMP    WXN_MG_880

;****   Check 4 idle mode
		CMP	C_A4ST,1L
	IFEQ	JUMP    WXN_MG_880

;****   Check 5 idle mode
		CMP	C_A5ST,1L
	IFEQ	JUMP    WXN_MG_880

;****   Check 6 idle mode
		CMP	C_A6ST,1L
	IFEQ	JUMP    WXN_MG_880

;***********************************
                CMP     3L,COVER_ON
        IFEQ    JUMP    WXN_MG_340
                ACL     MDEVWO   NG     ;=1 roof open
                AND     MDEVWC          ;=1 roof closed
        IFEQ    JUMP    WXN_MG_880      ;CENTRAL ROOF NOT CLOSED

WXN_MG_340:                
                ACL     M_XNROOFON      ;X- ROOF CICLE IN EXECUTION
        IFNE    JUMP    WXN_MG_880      ;
                BSET    M_XNROOFON      ;CICLE X+ ROOF OPEN IN EXEC
                BFLASH  DULWXN,25       ;Lamp
                STORE   RTCP,POSTCP
                STORE   VIRCAN,POSVIR   ;VIRCAN memory
                NCBLK   POSG97          ;Disabilitazione RTCP
                NCBLK   POSG95          ;Disabilitazione VIRCAN
                PAUSE   5
                NCBLK   ZPOSROOF        ;Z POSITION FOR ROOF OPERATION

                NCBLK   XNPOSCART        ;X+ ROOF - AXIS POSITIONED TO CARTER
                PAUSE   50
                ACL     MBDILWXL        ;(DILWXL=1 O.K.)
        IFNE    DMSG    1387    ;MTE: ROOF X- IN HOCKING POSITION
                BSET    MD_CKXNLCK      ;ENABLE FLAG FOR LOCKING PROCESS CHECK SWITCH ON X+ SIDE  (DILWXL=1)
                ACL     MBDILWXL        ;(DILWXL=1 O.K.)
        IFEQ    JUMP    WXN_MG_900
                EXEC    INSWXL
        IFOV    JUMP    WXN_MG_900
                EXEC    REMWXN
        IFOV    JUMP    WXN_MG_900
                NCBLK   XNPOSNEAR

                BCLR    M_XNROOFON      ;CLOSE CICLE ENDED
                BCLR    DULWXN          ;Lamp
                JUMP    WXN_MG_900

;       -------- Emerg --------

;       -------- proximity not adequate su carteratura X+ side( both =1 ) -------

WXN_MG_500:
                ACL     MSECOND_SK      ;SKIP HOLD CONDITION FROM PUSH BUTTON SEQUENCE
        IFNE    PEND
                ACL     MFIRST_SK      ; SKIP FIRST LEVEL CONTROL
        IFNE    PEND
                MOVE    2,TIME66
                LOAD    WXN_MG,WXN_MG_520
                PEND

WXN_MG_520:     ACL     MBDIOWXN        ;=1
                AND     MBDICWXN        ;=1
        IFEQ    JUMP    WXN_MG_900      ;proximity ok
                TST     TIME66
        IFNE    PEND
                DMSG    1369            ;=EM MTE: ROOF X- SENSOR FAULTY                              ]
                BFLASH  DULWXN,25       ;Lamp
                LOAD    WXN_MG,WXN_MG_540
                PEND

WXN_MG_540:     
                BSET    MBL_WXN_MG      ;HOLD
                ACL     MSECOND_SK      ;SKIP HOLD CONDITION FROM PUSH BUTTON SEQUENCE
        IFEQ    PEND
                BCLR    MBL_WXN_MG      ;Release
                BCLR    DULWXN
                JUMP    WXN_MG_900

; -------- proximity not adequate su carro X+ side( both =1 ) -------

WXN_MG_550:
                ACL     MSECOND_SK      ;SKIP HOLD CONDITION FROM PUSH BUTTON SEQUENCE
        IFNE    PEND
                ACL     MFIRST_SK      ; SKIP FIRST LEVEL CONTROL
        IFNE    PEND
                MOVE    2,TIME67
                LOAD    WXN_MG,WXN_MG_560
                PEND

WXN_MG_560:     ACL     MBDIOWXL        ;=1
                AND     MBDICWXL        ;=1
        IFEQ    JUMP    WXN_MG_900      ;proximity ok
                TST     TIME67
        IFNE    PEND
                DMSG    1379            ;EM MTE: ROOF X- HOCKING SENSORS FAULTY ON X AXIS           ]
                BFLASH  DULWXN,25       ;Lamp
                LOAD    WXN_MG,WXN_MG_570
                PEND

WXN_MG_570:
                BSET    MBL_WXN_MG      ;HOLD
                ACL     MSECOND_SK      ;SKIP HOLD CONDITION FROM PUSH BUTTON SEQUENCE
        IFEQ    PEND
                BCLR    MBL_WXN_MG      ;Release
                BCLR    DULWXN
                JUMP    WXN_MG_900


;       -------- proximity not adequate su carteratura X+ side( both =0 ) -------

WXN_MG_600:
                ACL     MSECOND_SK      ;SKIP HOLD CONDITION FROM PUSH BUTTON SEQUENCE
        IFNE    PEND
                ACL     MFIRST_SK      ; SKIP FIRST LEVEL CONTROL
        IFNE    PEND
                MOVE    2,TIME66
                LOAD    WXN_MG,WXN_MG_620
                PEND

WXN_MG_620:     ACL     MBDIOWXN                ;
                IOR     MBDICWXN                ;
        IFNE    JUMP    WXN_MG_900      ;proximity ok
                TST     TIME66
        IFNE    PEND
                DMSG    1371            ;EM MTE: ROOF X- IN UNKNOWN POSITION                        ]
                BFLASH  DULWXN,25       ;Lamp
                LOAD    WXN_MG,WXN_MG_640
                PEND

WXN_MG_640:
                BSET    MBL_WXN_MG      ;HOLD
                ACL     MSECOND_SK      ;SKIP HOLD CONDITION FROM PUSH BUTTON SEQUENCE
        IFEQ    PEND
                BCLR    MBL_WXN_MG      ;Release
                BCLR    DULWXN
                JUMP    WXN_MG_900

; -------- proximity not adequate su carro X+ side( both =0 ) -------

WXN_MG_650:
                ACL     MSECOND_SK      ;SKIP HOLD CONDITION FROM PUSH BUTTON SEQUENCE
        IFNE    PEND
                ACL     MFIRST_SK      ; SKIP FIRST LEVEL CONTROL
        IFNE    PEND
                MOVE    2,TIME67
                LOAD    WXN_MG,WXN_MG_660
                PEND

WXN_MG_660:     ACL     MBDIOWXL        ;=1
                IOR     MBDICWXL        ;=1
        IFNE    JUMP    WXN_MG_900      ;proximity ok
                TST     TIME67
        IFNE    PEND
                DMSG    1381            ;EM MTE: ROOF X- HOCKING SENSORS ON X AXIS IN UNKNOWN POSIT.]
                BFLASH  DULWXN,25       ;Lamp
                LOAD    WXN_MG,WXN_MG_670
                PEND
WXN_MG_670:
                BSET    MBL_WXN_MG      ;HOLD
                ACL     MSECOND_SK      ;SKIP HOLD CONDITION FROM PUSH BUTTON SEQUENCE
        IFEQ    PEND
                BCLR    MBL_WXN_MG      ;Release
                BCLR    DULWXN
                JUMP    WXN_MG_900

; -------- proximity In dangerous condition -------

WXN_MG_700:
                ACL     MSECOND_SK      ;SKIP HOLD CONDITION FROM PUSH BUTTON SEQUENCE
        IFNE    PEND
                ACL     MFIRST_SK      ; SKIP FIRST LEVEL CONTROL
        IFNE    PEND
                DMSG    1373            ;EM MTE: ROOF X- IN DANGEROUS POSITION                      ]
                BFLASH  DULWXN,25       ;Lamp
                
                LOAD    WXN_MG,WXN_MG_710
                PEND
WXN_MG_710:     BSET    MBL_WXN_MG      ;HOLD
                ACL     MSECOND_SK      ;SKIP HOLD CONDITION FROM PUSH BUTTON SEQUENCE
        IFEQ    PEND
                BCLR    MBL_WXN_MG      ;Release
                BCLR    DULWXN
                JUMP    WXN_MG_900

;       -------- Exit --------

WXN_MG_880:     PAUSE   50
                DMSG    1390            ;WR MTE: ROOF OPEN/CLOSE REQUEST-FUNCTION INHIBITED
                JUMP    WXN_MG_910

WXN_MG_900:
                NCBLK   POSTCP                  ;restore RTCP
                NCBLK   POSVIR                  ;restore vircan

WXN_MG_910:     BCLR    MD336_OPRF              ;function executed
                BCLR    MD337_CLRF              ;function executed
                LOAD    WXN_MG,WXN_MG_INI
                PEND

WXN_MG_OFF:     BCLR    MBL_WXN_MG      ;Release
                BCLR    MBL_INSXN
                BCLR    MBL_INSXL
                BCLR    MBL_REMXN
                BCLR    MBL_REMXL
                BCLR    DULWXN          ;Lamp
                BCLR    M_XNROOFON
                BCLR    MD336_OPRF              ;function executed
                BCLR    MD337_CLRF              ;function executed
                BCLR    DUOWXN
                BCLR    DUCWXN
                BCLR    DUOWXL
                BCLR    DUCWXL
                STOP    WXN_MG
                PEND

;*****************************************************************************
;               PROCESS WXN3MG - piston X- side push buttom management
;*****************************************************************************

WXN3MG_INI:
                CMP     3L,COVER_ON
        IFNE    PEND
               

WXN3MG_005:     ACL     MBDIOWXN        ;=1 PISTONE DISINSERITO lato carteratura X+
                AND     MBDICWXN        ;=1 PISTONE INSERITO    lato carteratura X+
        IFNE    JUMP    WXN3MG_500      ;proximity not adequate
                ACL     MBDIOWXL        ;=1 PISTONE DISINSERITO  lato carro X+
                AND     MBDICWXL        ;=1 PISTONE INSERITO    lato carro X+
        IFNE    JUMP    WXN3MG_550      ;proximity not adequate   both =1

                ACL     MBDIOWXN                ;
                IOR     MBDICWXN                ;
        IFEQ    JUMP    WXN3MG_600      ;proximity not adequate  both =0
                ACL     MBDIOWXL                ;
                IOR     MBDICWXL                ;
        IFEQ    JUMP    WXN3MG_650      ;proximity not adequate  both =0

                ACL     MBDIOWXL    NG          ;
                AND     MBDICWXL                ;
                AND     MBDIOWXN    NG          ;
                AND     MBDICWXN                ;
        IFNE    JUMP    WXN3MG_700      ;proximity in dangerous condition
                                        ;TETTO APERTO MA NON AGGANCIATO
                ACL     MBDIOWXL                ;
                AND     MBDICWXL    NG          ;
                AND     MBDIOWXN                ;
                AND     MBDICWXN    NG          ;
        IFNE    JUMP    WXN3MG_700      ;proximity in dangerous condition
                                        ;TETTO CHIUSO E AGGANCIATO
;------
                ACL     MBDIOWXL              ;
                AND     MBDICWXL    NG            ;
                AND     MBDIOWXN    NG            ;
                AND     MBDICWXN              ;
        IFNE    JUMP    WXN3MG_300      ;LOOP ROOF OPEN

;---ROOF X+ CLOSED - WAITING OPEN REQUEST

                BCLR    DULWXN          ;Lamp WORKING AREA COVER X- STATUS LAMP
                DMSG    1367            ;WR MTE: X- ROOF CLOSED                                     ]
                BSET    MD_CKXNLCK      ;ENABLE FLAG FOR LOCKING PROCESS CHECK SWITCH ON X- SIDE  (DILWXL=1)
                BCLR    MDROOFOPXN      ;=1 GLOBAL MEMORY ROOF OPENED - TO AUCOL1
                BCLR    M_XNROOFON      ;OPEN CICLE ENDED

                LOAD    WXN3MG,WXN3MG_010
WXN3MG_010:
                ACL     MBDIOWXN        ;=1 PISTONE DISINSERITO lato carteratura X+
                AND     MBDICWXN        ;=1 PISTONE INSERITO    lato carteratura X+
        IFNE    JUMP    WXN3MG_500      ;proximity not adequate
                ACL     MBDIOWXL        ;=1 PISTONE DISINSERITO  lato carro X+
                AND     MBDICWXL        ;=1 PISTONE INSERITO    lato carro X+
        IFNE    JUMP    WXN3MG_550      ;proximity not adequate   both =1

                ACL     MBDIOWXN                ;
                IOR     MBDICWXN                ;
        IFEQ    JUMP    WXN3MG_600      ;proximity not adequate  both =0
                ACL     MBDIOWXL                ;
                IOR     MBDICWXL                ;
        IFEQ    JUMP    WXN3MG_650      ;proximity not adequate  both =0

                ACL     MBDIOWXL    NG          ;
                AND     MBDICWXL                ;
                AND     MBDIOWXN    NG          ;
                AND     MBDICWXN                ;
        IFNE    JUMP    WXN3MG_700      ;proximity in dangerous condition
                                        ;TETTO APERTO MA NON AGGANCIATO
                ACL     MBDIOWXL                ;
                AND     MBDICWXL    NG          ;
                AND     MBDIOWXN                ;
                AND     MBDICWXN    NG          ;
        IFNE    JUMP    WXN3MG_700      ;proximity in dangerous condition
                                        ;TETTO CHIUSO E AGGANCIATO
                ACL     MBDIOWXL              ;
                AND     MBDICWXL    NG            ;
                AND     MBDIOWXN    NG            ;
                AND     MBDICWXN              ;
        IFNE    JUMP    WXN3MG_300      ;LOOP ROOF OPEN
;------

                ACL     MFIRST_SK
                IOR     MSECOND_SK
        IFNE    PEND
                ACL     MD336_OPRF       ;FROM M336 AUCOL
        IFNE    JUMP    WXN3MG_015
                ACL     DIPWXN
        IFEQ    PEND
                LOAD    WXN3MG,WXN3MG_020
                PEND

WXN3MG_015:     LOAD    WXN3MG,WXN3MG_020
                PEND

WXN3MG_020:
                ACL     MFIRST_SK
                IOR     MSECOND_SK
        IFNE    JUMP    WXN3MG_880      ;Exit & msg
                ACL     DIPWXN
        IFNE    PEND
                ACL     MPROGX          ;=1 Part-programm in execution
                IOR     UDSMO
                IOR     UDSMA
        IFNE    JUMP    WXN3MG_880
                ACL     M_ZER_DONE      ;=1 X Y Z axis zero executed
        IFEQ    JUMP    WXN3MG_880      ;Exit & msg

                ACL     MPROGX   NG    ;=1 Part-programm in execution
                AND     MDPOA2          ;=1 Safety doors closed
        IFEQ    JUMP    WXN3MG_880      ;Exit & msg door open or axis in prg. execution

                ACL     MDAXMV1 NG      ;=1 AXIS COMMAND OR IN MOVIMENT
		IOR	MD336_OPRF
        IFEQ    JUMP    WXN3MG_880      ;Exit & msg door open or axis in prg. execution

;************Check X idle mode*
		CMP	C_XST,1L
	IFEQ	JUMP    WXN3MG_880

;****   Check Y idle mode
		CMP	C_YST,1L
	IFEQ	JUMP    WXN3MG_880

;****   Check Z idle mode
		CMP	C_ZST,1L
	IFEQ	JUMP    WXN3MG_880

;****   Check 4 idle mode
		CMP	C_A4ST,1L
	IFEQ	JUMP    WXN3MG_880

;****   Check 5 idle mode
		CMP	C_A5ST,1L
	IFEQ	JUMP    WXN3MG_880

;****   Check 6 idle mode
		CMP	C_A6ST,1L
	IFEQ	JUMP    WXN3MG_880

;***********************************
WXN3MG_030:     
                ACL     M_XNROOFON      ;X- ROOF CICLE IN EXECUTION
        IFNE    JUMP    WXN3MG_880      ;
                BSET    M_XNROOFON      ;CICLE X+ ROOF OPEN IN EXEC
                BFLASH  DULWXN,25       ;Lamp
                STORE   RTCP,POSTCP
                STORE   VIRCAN,POSVIR   ;VIRCAN memory
                NCBLK   POSG97          ;Disabilitazione RTCP
                NCBLK   POSG95          ;Disabilitazione VIRCAN
                PAUSE   5
                NCBLK   ZPOSROOF        ;Z POSITION FOR ROOF OPERATION

                NCBLK   XNPOSCART        ;X- ROOF - AXIS POSITIONED TO CARTER
                EXEC    INSWXL
        IFOV    JUMP    WXN3MG_EME
                BCLR    MD_CKXNLCK      ;RELEASE FLAG FOR LOCKING PROCESS CHECK SWITCH ON X+ SIDE  (DILWXL=1)
                EXEC    REMWXN
        IFOV    JUMP    WXN3MG_EME
                NCBLK   XNPOSNEAR       ;X- ROOF - AXIS POSITIONED NEAR TO CARTER
                NCBLK   POSTCP                  ;restore RTCP
                NCBLK   POSVIR                  ;restore vircan

;       -------- roof already open --------

WXN3MG_300:

;       -------- roof open --------

                BCLR    M_XNROOFON      ;OPEN CICLE ENDED
                DMSG    1365            ;WR MTE: X- TETTO APERTO   
                DMSG    2280            ;LINEAR AXIS MOVEMENT - FEED REDUCED WITH ROOF OPEN
                BCLR    MD_CKXNLCK      ;ENABLE FLAG FOR LOCKING PROCESS CHECK SWITCH ON X+ SIDE  (DILWXL=1)
                BSET    MDROOFOPXN      ;GLOBAL MEMORY ROOF OPENED - TO AUCOL1 
                WRITEP  P000230,"AUCREG3 71"   ;FINECORSA XM NEGATIVO LIMITATO DA AUCOL1 
                BSET    DULWXN          ;Lamp
                BCLR    MD336_OPRF      ;FUNCTION EXECUTED
                LOAD    WXN3MG,WXN3MG_320
                PEND
WXN3MG_320:
                ACL     MBDIOWXN        ;=1 PISTONE DISINSERITO lato carteratura X+
                AND     MBDICWXN        ;=1 PISTONE INSERITO    lato carteratura X+
        IFNE    JUMP    WXN3MG_500      ;proximity not adequate
                ACL     MBDIOWXL        ;=1 PISTONE DISINSERITO  lato carro X+
                AND     MBDICWXL        ;=1 PISTONE INSERITO    lato carro X+
        IFNE    JUMP    WXN3MG_550      ;proximity not adequate   both =1

                ACL     MBDIOWXN                ;
                IOR     MBDICWXN                ;
        IFEQ    JUMP    WXN3MG_600      ;proximity not adequate  both =0
                ACL     MBDIOWXL                ;
                IOR     MBDICWXL                ;
        IFEQ    JUMP    WXN3MG_650      ;proximity not adequate  both =0

                ACL     MBDIOWXL    NG          ;
                AND     MBDICWXL                ;
                AND     MBDIOWXN    NG          ;
                AND     MBDICWXN                ;
        IFNE    JUMP    WXN3MG_700      ;proximity in dangerous condition
                                        ;TETTO APERTO MA NON AGGANCIATO
                ACL     MBDIOWXL                ;
                AND     MBDICWXL    NG          ;
                AND     MBDIOWXN                ;
                AND     MBDICWXN    NG          ;
        IFNE    JUMP    WXN3MG_700      ;proximity in dangerous condition
                                        ;TETTO CHIUSO E AGGANCIATO
                ACL     MBDIOWXL    NG            ;
                AND     MBDICWXL              ;
                AND     MBDIOWXN              ;
                AND     MBDICWXN    NG            ;
        IFNE    JUMP    WXN3MG_005   ;LOOP ROOF CLOSE

;***** feed axis limitation with roof open *************

                MOVE    P000508,F_LIN_VAL   ;SLOW LINEAR AXIS FEED
                EXEC    FLIM_SET

;*******************************************************************
                ACL     MFIRST_SK
                IOR     MSECOND_SK
        IFNE    PEND
                ACL     DIPWXN
                IOR     MD337_CLRF       ;FROM M337 AUCOL
        IFEQ    PEND
                LOAD    WXN3MG,WXN3MG_330
                PEND
 WXN3MG_330:
                ACL     MFIRST_SK
                IOR     MSECOND_SK
        IFNE    JUMP    WXN3MG_880      ;Exit & msg
                ACL     DIPWXN
        IFNE    PEND
                ACL     MPROGX          ;=1 Part-programm in execution
                IOR     UDSMO
                IOR     UDSMA
        IFNE    JUMP    WXN3MG_880
                ACL     M_ZER_DONE      ;=1 X Y Z axis zero executed
        IFEQ    JUMP    WXN3MG_880      ;Exit & msg

                ACL     MPROGX   NG    ;=1 Part-programm in execution
                AND     MDPOA2          ;=1 Safety doors closed
        IFEQ    JUMP    WXN3MG_880      ;Exit & msg door open or axis in prg. execution

                ACL     MDAXMV1 NG      ;=1 AXIS COMMAND OR IN MOVIMENT
		IOR	MD337_CLRF
        IFEQ    JUMP    WXN3MG_880      ;Exit & msg door open or axis in prg. execution
;************Check X idle mode*
		CMP	C_XST,1L
	IFEQ	JUMP    WXN3MG_880

;****   Check Y idle mode
		CMP	C_YST,1L
	IFEQ	JUMP    WXN3MG_880

;****   Check Z idle mode
		CMP	C_ZST,1L
	IFEQ	JUMP    WXN3MG_880

;****   Check 4 idle mode
		CMP	C_A4ST,1L
	IFEQ	JUMP    WXN3MG_880

;****   Check 5 idle mode
		CMP	C_A5ST,1L
	IFEQ	JUMP    WXN3MG_880

;****   Check 6 idle mode
		CMP	C_A6ST,1L
	IFEQ	JUMP    WXN3MG_880

;***********************************

WXN3MG_340:                
                ACL     M_XNROOFON      ;X- ROOF CICLE IN EXECUTION
        IFNE    JUMP    WXN3MG_880      ;
                BSET    M_XNROOFON      ;CICLE X+ ROOF OPEN IN EXEC
                BFLASH  DULWXN,25       ;Lamp
                STORE   RTCP,POSTCP
                STORE   VIRCAN,POSVIR   ;VIRCAN memory
                NCBLK   POSG97          ;Disabilitazione RTCP
                NCBLK   POSG95          ;Disabilitazione VIRCAN
                PAUSE   5
                NCBLK   ZPOSROOF        ;Z POSITION FOR ROOF OPERATION

                NCBLK   XNPOSCART        ;X+ ROOF - AXIS POSITIONED TO CARTER
                PAUSE   50
                ACL     MBDILWXL        ;(DILWXL=1 O.K.)
        IFNE    DMSG    1387    ;MTE: ROOF X- IN HOCKING POSITION
                BSET    MD_CKXNLCK      ;ENABLE FLAG FOR LOCKING PROCESS CHECK SWITCH ON X+ SIDE  (DILWXL=1)
                ACL     MBDILWXL        ;(DILWXL=1 O.K.)
        IFEQ    JUMP    WXN3MG_EME
                EXEC    INSWXN
        IFOV    JUMP    WXN3MG_EME
                EXEC    REMWXL
        IFOV    JUMP    WXN3MG_EME
                NCBLK   XNPOSNEAR

                BCLR    M_XNROOFON      ;CLOSE CICLE ENDED
                BCLR    DULWXN          ;Lamp
                JUMP    WXN3MG_900

;       -------- Emerg --------

;       -------- proximity not adequate su carteratura X+ side( both =1 ) -------

WXN3MG_500:
                ACL     MSECOND_SK      ;SKIP HOLD CONDITION FROM PUSH BUTTON SEQUENCE
        IFNE    PEND
                ACL     MFIRST_SK      ; SKIP FIRST LEVEL CONTROL
        IFNE    PEND
                MOVE    2,TIME66
                LOAD    WXN3MG,WXN3MG_520
                PEND

WXN3MG_520:     ACL     MBDIOWXN        ;=1
                AND     MBDICWXN        ;=1
        IFEQ    JUMP    WXN3MG_900      ;proximity ok
                TST     TIME66
        IFNE    PEND
                DMSG    1369            ;=EM MTE: ROOF X- SENSOR FAULTY                              ]
                BFLASH  DULWXN,25       ;Lamp
                
                LOAD    WXN3MG,WXN3MG_540
                PEND

WXN3MG_540:     BSET    MBL_WXN3MG      ;HOLD
                ACL     MSECOND_SK      ;SKIP HOLD CONDITION FROM PUSH BUTTON SEQUENCE
        IFEQ    PEND
                BCLR    MBL_WXN3MG      ;Release
                BCLR    DULWXN
                JUMP    WXN3MG_900

; -------- proximity not adequate su carro X+ side( both =1 ) -------

WXN3MG_550:
                ACL     MSECOND_SK      ;SKIP HOLD CONDITION FROM PUSH BUTTON SEQUENCE
        IFNE    PEND
                ACL     MFIRST_SK      ; SKIP FIRST LEVEL CONTROL
        IFNE    PEND
                MOVE    2,TIME67
                LOAD    WXN3MG,WXN3MG_560
                PEND

WXN3MG_560:     ACL     MBDIOWXL        ;=1
                AND     MBDICWXL        ;=1
        IFEQ    JUMP    WXN3MG_900      ;proximity ok
                TST     TIME67
        IFNE    PEND
                DMSG    1379            ;EM MTE: ROOF X- HOCKING SENSORS FAULTY ON X AXIS           ]
                BFLASH  DULWXN,25       ;Lamp
                
                LOAD    WXN3MG,WXN3MG_570
                PEND

WXN3MG_570:
                BSET    MBL_WXN3MG      ;HOLD
                ACL     MSECOND_SK      ;SKIP HOLD CONDITION FROM PUSH BUTTON SEQUENCE
        IFEQ    PEND
                BCLR    MBL_WXN3MG      ;Release
                BCLR    DULWXN
                JUMP    WXN3MG_900


;       -------- proximity not adequate su carteratura X+ side( both =0 ) -------

WXN3MG_600:
                ACL     MSECOND_SK      ;SKIP HOLD CONDITION FROM PUSH BUTTON SEQUENCE
        IFNE    PEND
                ACL     MFIRST_SK      ; SKIP FIRST LEVEL CONTROL
        IFNE    PEND
                MOVE    2,TIME66
                LOAD    WXN3MG,WXN3MG_620
                PEND

WXN3MG_620:     ACL     MBDIOWXN                ;
                IOR     MBDICWXN                ;
        IFNE    JUMP    WXN3MG_900      ;proximity ok
                TST     TIME66
        IFNE    PEND
                DMSG    1371            ;EM MTE: ROOF X- IN UNKNOWN POSITION                        ]
                BFLASH  DULWXN,25       ;Lamp
                
                LOAD    WXN3MG,WXN3MG_640
                PEND

WXN3MG_640:     BSET    MBL_WXN3MG      ;HOLD
                ACL     MSECOND_SK      ;SKIP HOLD CONDITION FROM PUSH BUTTON SEQUENCE
        IFEQ    PEND
                BCLR    MBL_WXN3MG      ;Release
                BCLR    DULWXN
                JUMP    WXN3MG_900

; -------- proximity not adequate su carro X+ side( both =0 ) -------

WXN3MG_650:
                ACL     MSECOND_SK      ;SKIP HOLD CONDITION FROM PUSH BUTTON SEQUENCE
        IFNE    PEND
                ACL     MFIRST_SK      ; SKIP FIRST LEVEL CONTROL
        IFNE    PEND
                MOVE    2,TIME67
                LOAD    WXN3MG,WXN3MG_660
                PEND

WXN3MG_660:     ACL     MBDIOWXL        ;=1
                IOR     MBDICWXL        ;=1
        IFNE    JUMP    WXN3MG_900      ;proximity ok
                TST     TIME67
        IFNE    PEND
                DMSG    1381            ;EM MTE: ROOF X- HOCKING SENSORS ON X AXIS IN UNKNOWN POSIT.]
                BFLASH  DULWXN,25       ;Lamp
                
                LOAD    WXN3MG,WXN3MG_670
                PEND
WXN3MG_670:     BSET    MBL_WXN3MG      ;HOLD
                ACL     MSECOND_SK      ;SKIP HOLD CONDITION FROM PUSH BUTTON SEQUENCE
        IFEQ    PEND
                BCLR    MBL_WXN3MG      ;Release
                BCLR    DULWXN
                JUMP    WXN3MG_900

; -------- proximity In dangerous condition -------

WXN3MG_700:
                ACL     MSECOND_SK      ;SKIP HOLD CONDITION FROM PUSH BUTTON SEQUENCE
        IFNE    PEND
                ACL     MFIRST_SK      ; SKIP FIRST LEVEL CONTROL
        IFNE    PEND
                DMSG    1373            ;EM MTE: ROOF X- IN DANGEROUS POSITION                      ]
                BFLASH  DULWXN,25       ;Lamp
                
                LOAD    WXN3MG,WXN3MG_710
                PEND
WXN3MG_710:     BSET    MBL_WXN3MG      ;HOLD
                ACL     MSECOND_SK      ;SKIP HOLD CONDITION FROM PUSH BUTTON SEQUENCE
        IFEQ    PEND
                BCLR    MBL_WXN3MG      ;Release
                BCLR    DULWXN
                JUMP    WXN3MG_900

;       -------- Exit --------

WXN3MG_880:     PAUSE   50
                DMSG    1390            ;WR MTE: ROOF OPEN/CLOSE REQUEST-FUNCTION INHIBITED
                JUMP    WXN3MG_910

WXN3MG_900:
                NCBLK   POSTCP                  ;restore RTCP
                NCBLK   POSVIR                  ;restore vircan

WXN3MG_910:    BCLR    MD336_OPRF              ;function executed
                BCLR    MD337_CLRF              ;function executed
                LOAD    WXN3MG,WXN3MG_005
                PEND

WXN3MG_EME:     JUMP    EMERG

WXN3MG_OFF:     
                BCLR    MDROOFOPXN      ;=1 GLOBAL MEMORY ROOF OPENED - TO AUCOL1
                BCLR    MBL_WXN3MG      ;Release
                BCLR    MBL_INSXN
                BCLR    MBL_INSXL
                BCLR    MBL_REMXN
                BCLR    MBL_REMXL
                BCLR    MD336_OPRF              ;function executed
                BCLR    MD337_CLRF              ;function executed
                BCLR    DULWXN          ;Lamp
                BCLR    M_XNROOFON
                BCLR    DUOWXN
                BCLR    DUCWXN
                BCLR    DUOWXL
                BCLR    DUCWXL
                STOP    WXN3MG
                PEND

;*****************************************************************************
;               PROCESS  - NIGHT - M02 MANAGEMENT - PROTOCOLE DE KIOTO
;*****************************************************************************

NIGHT_INI:      ACL     MDM02ON
        IFEQ    PEND

                DMSG    1817            ;/MTE: PROTOCOLE DE KIOTO - CONOMIE D'NERGIE ACTIVE
                BSET    MBLNIGHT        ;Hold

                TST     CG40
        IFEQ    MOVE    TMR_HLDEME,TIME42 ;MACHINE IN EMERGENCY AFTER P000314 IN HOLD IN MIN
                TST     CG40
        IFNE    MOVE    CG40,TIME42
                LOAD    NIGHT,NIGHT_10
                PEND

NIGHT_10:       ACL     MBLNIGHT
        IFEQ    JUMP    NIGHT_20
                TST     TIME42
        IFNE    PEND
                LOAD    NIGHT,NIGHT_INI
                BCLR    MDM02ON
                BSET    MGOMAN
                PEND

NIGHT_20:       BCLR    MBLNIGHT
                BCLR    MDM02ON
                LOAD    NIGHT,NIGHT_INI
                PEND

NIGHT_OFF:      BCLR    MDM02ON
                BCLR    MBLNIGHT
                STOP    NIGHT
                PEND

;**********************************************************************
;       PROCESS BACKUP - DIBKOK SIGNAL MANAGMENT ON BACK-UP SYSTEM
;**********************************************************************

BACKUPINI:      CMP     2L,DIBK_EN         ;=2 DIBKOK SIGNAL NOT CONTROLLED
        IFEQ    PEND
                ACL     DIBKOK
        IFNE    PEND
                BSET    MPRI1095
                DMSG    1095

                LOAD    BACKUP,BACKUP060
BACKUP060:      ACL     DIBKOK
        IFEQ    PEND
                BCLR    MPRI1095
                LOAD    BACKUP,BACKUPINI
                PEND

BACKUPOFF:      BCLR    MPRI1095
                STOP    BACKUP
                PEND

;*****************************************************************************
;               PROCESS AIRCOND - ELECTRICAL CABINET AIR CONDITIONER MANAGEMENT
;*****************************************************************************

AIRCOND_INI:    CMP     1,AC_MANAG      ;=1 Air conditior PLC management
        IFEQ    JUMP    AIRCOND_005
                CMP     3,AC_MANAG      ;=3 Air conditior PLC management
        IFEQ    JUMP    AIRCOND_005
                PEND

AIRCOND_005:    ACL     MDPOA1TEMP      ;=1 Cabinet Doors Opened and temp in range
        IFNE    PEND
                BSET    DUACEN          ;Air Conditioner Enable
                MOVE    300,TIME38      ;Wait TMP_ATT update
                LOAD    AIRCOND,AIRCOND_010
                PEND

AIRCOND_010:    TST     TMP_ATT         ;It is update?
        IFEQ    JUMP    AIRCOND_020     ;=0 not update wait
                MOVE    TIME_COND,TIME38;Delay time
                JUMP    AIRCOND_100     ;TMP_ATT is OK

AIRCOND_020:    ACL     MDPOA1TEMP      ;=1 Cabinet Doors Opened and temp in range
        IFNE    JUMP    AIRCOND_570     ;Air conditioner disable
                TST     TIME38          ;Wait TMP_ATT update
        IFNE    PEND

AIRCOND_100:    LOAD    AIRCOND,AIRCOND_130
                PEND

AIRCOND_130:    ACL     MDPOA1TEMP      ;=1 Cabinet Doors Opened and temp in range
        IFNE    JUMP    AIRCOND_570     ;Air conditioner disable
                TST     TIME38          ;Delay time
        IFNE    PEND
                CMP     TMP_ATT,CAB_MINT
        IFLE    JUMP    AIRCOND_500     ;To air conditioner disable
                BSET    DUACEN          ;Air Conditioner Enable
                MOVE    TIME_COND,TIME38
                LOAD    AIRCOND,AIRCOND_150
                PEND

AIRCOND_150:    CMP     TMP_ATT,CAB_MINT
        IFLE    JUMP    AIRCOND_500     ;To air conditioner disable
                ACL     MDPOA1TEMP      ;=1 Cabinet Doors Opened
        IFNE    JUMP    AIRCOND_570     ;Air conditioner disable
                PEND

AIRCOND_500:    LOAD    AIRCOND,AIRCOND_550
                PEND

AIRCOND_550:    TST     TIME38          ;Delay time
        IFNE    PEND
                CMP     TMP_ATT,CAB_MAXT
        IFGE    JUMP    AIRCOND_100     ;To air conditioner enable
AIRCOND_570:    BCLR    DUACEN          ;Air conditioner disable
                MOVE    TIME_COND,TIME38
                LOAD    AIRCOND,AIRCOND_600
                PEND

AIRCOND_600:    CMP     TMP_ATT,CAB_MAXT
        IFGE    JUMP    AIRCOND_100     ;To air conditioner enable
                PEND

;*****************************************************************************
;               PROCESS CAB_TEMP - ELECTRICAL CABINET TEMPERATURA CHECK
;*****************************************************************************

CAB_TEMP_INI:   CMP     1,AC_MANAG                      ;=1 Air conditior PLC management
        IFNE    PEND
                MUL     10L,GRADI_ATT,DECGRA_ATT
                SUB     DECGRA_ATT,CG15,DELTA_CA        ;CG15 = PROBE 1 ( hot probe on Y axis)
                TST     DELTA_CA
        IFLT    NEG     DELTA_CA
                CMP     DELTA_CA,DELTAT_MAX             ;Compare with delta tolerance
        IFLE    PEND
                MOVE    300,TIME39                      ; 300 sec.= 5 min.
CAB_TEMP_080:   LOAD    CAB_TEMP,CAB_TEMP_100
                PEND

CAB_TEMP_100:   MUL     10L,GRADI_ATT,DECGRA_ATT
                SUB     DECGRA_ATT,CG15,DELTA_CA        ;CG15 = PROBE 1 ( hot probe on Y axis)
                TST     DELTA_CA
        IFLT    NEG     DELTA_CA
                CMP     DELTA_CA,DELTAT_MAX             ;Compare with delta tolerance
        IFLE    JUMP    CAB_TEMP_999                    ;Exit
                TST     TIME39                          ; Wait
        IFNE    PEND
                DMSG    1069            ;/WR MTE: ELECTRICAL CABINET TEMPERATURE OUT OF RANGE/
                BSET    MPRI1069
                MOVE    900,TIME39                      ; 900 sec.= 15 min.
                JUMP    CAB_TEMP_080

; ------ Exit ------

CAB_TEMP_999:   BCLR    MPRI1069
                LOAD    CAB_TEMP,CAB_TEMP_INI
                PEND




;**********************************************************************
;       PROCESS FDDMSG - FIDIA DIGITAL DRIVE XP PRINT MSG
;**********************************************************************

FDDMSGINI:      ACL     DIPMSG
        IFEQ    PEND
                MOVE    5,TIME49        ;Push for 5 sec.
                LOAD    FDDMSG,FDDMSG100
                PEND

FDDMSG100:      ACL     DIPMSG
        IFEQ    JUMP    FDDMSG500               ;Exit
                TST     TIME49
        IFNE    PEND
                WRITEP  1B,"FDBMS6INFO"
                WRITEP  1B,"FSUALMSHOW SP1"
                WRITEP  1B,"FDUALMSHOW XM"
                WRITEP  1B,"FDUALMSHOW YM"
                WRITEP  1B,"FDUALMSHOW ZM"
                LOAD    FDDMSG,FDDMSG200
                PEND

FDDMSG200:      ACL     DIPMSG
        IFNE    PEND
                WRITEP  0B,"FDBMS6INFO"
                JUMP    FDDMSG500               ;Exit

;       -------- Emerg --------

;       -------- Exit --------

FDDMSG500:      LOAD    FDDMSG,FDDMSGINI
                PEND


;*****************************************************************************
;       .PROCESS        CHK_LXL         ;AXIS IN LOCKING POSITION (DILWXL=1)
;*****************************************************************************

CHK_LXLINI:
                CMP     3L,COVER_ON     ;=3 AUTOM. COVER ON GT MACHINE
        IFEQ    JUMP    CHK_LXL005
                CMP     4L,COVER_ON     ;=4 AUTOM. COVER CENTRAL AND LATERAL ZONE INSTALLED
        IFNE    PEND
CHK_LXL005:
                ACL     MD_CKXNLCK      ;ENABLE FLAG FOR LOCKING PROCESS CHECK SWITCH ON X- SIDE  (DILWXL=1)
        IFEQ    PEND
                ACL     MBDILWXL        ;(DILWXL=1 O.K.)
        IFNE    PEND
                ACL     MSECOND_SK      ;SKIP HOLD CONDITION FROM PUSH BUTTON SEQUENCE
        IFNE    PEND
                ACL     MFIRST_SK      ;SKIP HOLD CONDITION FROM PUSH BUTTON SEQUENCE
        IFNE    PEND
                DMSG    1389            ;EM MTE: ROOF X- HOCKING POSITION NOT REACHED            ]
                BSET    MBL_XNLOCK      ;HOLD X- AXIS NOT IN POSITION FOR LOCKING
                LOAD    CHK_LXL,CHK_LXL010
                PEND

CHK_LXL010:     ACL     MBL_XNLOCK  NG
                IOR     MSECOND_SK      ;SKIP HOLD CONDITION FROM PUSH BUTTON SEQUENCE
        IFEQ    PEND
                BCLR    MBL_XNLOCK      ;Release
                LOAD    CHK_LXL,CHK_LXLINI
                PEND

CHK_LXLOFF:     BCLR    MBL_XNLOCK      ;Release
                STOP    CHK_LXL
                PEND

;*****************************************************************************
;       .PROCESS        CHK_LXR         ;AXIS IN LOCKING POSITION (DILWXR=1)
;*****************************************************************************

CHK_LXRINI:
                CMP     4L,COVER_ON     ;=4 AUTOM. COVER CENTRAL AND LATERAL ZONE INSTALLED
        IFNE    PEND
                ACL     MD_CKXPLCK      ;ENABLE FLAG FOR LOCKING PROCESS CHECK SWITCH ON X- SIDE  (DILWXL=1)
        IFEQ    PEND
                ACL     MBDILWXR        ;(DILWXL=1 O.K.)
        IFNE    PEND
                ACL     MSECOND_SK      ;SKIP HOLD CONDITION FROM PUSH BUTTON SEQUENCE
        IFNE    PEND
                ACL     MFIRST_SK      ;SKIP HOLD CONDITION FROM PUSH BUTTON SEQUENCE
        IFNE    PEND
                DMSG    1388            ;EM MTE: ROOF X+ HOCKING POSITION NOT REACHED            ]
                BSET    MBL_XPLOCK      ;HOLD X+ AXIS NOT IN POSITION FOR LOCKING
                LOAD    CHK_LXR,CHK_LXR010
                PEND

CHK_LXR010:     ACL     MBL_XPLOCK  NG
                IOR     MSECOND_SK      ;SKIP HOLD CONDITION FROM PUSH BUTTON SEQUENCE
        IFEQ    PEND
                BCLR    MBL_XPLOCK      ;Release
                LOAD    CHK_LXR,CHK_LXRINI
                PEND

CHK_LXROFF:     BCLR    MBL_XPLOCK      ;Release
                STOP    CHK_LXR
                PEND

;*****************************************************************************
;    SKIP_HD   - SKIP ALL HOLD CONDITION FROM ROOF
;*****************************************************************************

SKIP_HDINI:
                ACL     MSECOND_SK        ;SECOND LEVEL CONTROL ENABLED
        IFNE    PEND
                CMP     3L,COVER_ON     ;=3 AUTOM. COVER ON GT MACHINE INSTALLED
        IFEQ    JUMP    SKIP_HD002

                ACL     DIPWXP
                AND     DIPWXN
                AND     DIPMSG
        IFEQ    PEND
                JUMP    SKIP_HD008

SKIP_HD002:     ACL     DIPASP  NG     ;|+|
                AND     DIPASN  NG     ;|-|
                AND     DIPWXN         ;|TETTO X-|
                AND     DIPMSG         ;|MESSAGGI|
        IFEQ    PEND
                     
SKIP_HD008:     BSET    MSECOND_SK
                MOVE    TM_SERVICE,TIME70
                LOAD    SKIP_HD,SKIP_HD010
SKIP_HD010:
                TST     TIME70
        IFEQ    JUMP    SKIP_HD020
                CMP     3L,COVER_ON     ;=3 AUTOM. COVER ON GT MACHINE INSTALLED
        IFEQ    JUMP    SKIP_HD012

                ACL     DIPWXP
                AND     DIPWXN
                AND     DIPMSG
        IFNE    PEND
                JUMP    SKIP_HD030

SKIP_HD012:     ACL     DIPASP  NG     ;|+|
                AND     DIPASN  NG     ;|-|
                AND     DIPWXN         ;|TETTO X-|
                AND     DIPMSG         ;|MESSAGGI|
        IFNE    PEND
                JUMP    SKIP_HD030

SKIP_HD020:
                DMSG    1392            ;WR MTE: SECOND LEVEL CONTROL - SAFETY SKIPPING ENABLED

                BSET    MPRI1392
                LOAD    SKIP_HD,SKIP_HDINI
                PEND

SKIP_HD030:     BCLR    MSECOND_SK
                LOAD    SKIP_HD,SKIP_HDINI
                PEND

SKIP_HDOFF:     BCLR    MPRI1392
                BCLR    MSECOND_SK
                STOP    SKIP_HD
                PEND

;********************************************************
;    ---------- HOCKING INSERTED X- SIDE - on CARTER ----
;********************************************************

INS_WXNINI:
                ACL     DIPASP     ;|+|
                AND     DIPWXN     ;|TETTO X-|
                AND     DIPMSG     ;|MESSAGGI|
        IFEQ    PEND
                BSET    MFIRST_SK       ;FIRST SKIP LEVEL IN EXECUTION
                MOVE    TM_SERVICE,TIME70
                LOAD    INS_WXN,INS_WXN010
INS_WXN010:
                TST     TIME70
        IFEQ    JUMP    INS_WXN020
                ACL     DIPASP
                AND     DIPWXN
                AND     DIPMSG
        IFNE    PEND
                JUMP    INS_WXN030

INS_WXN020:     DMSG    1391            ;WR MTE: FIRST LEVEL CONTROL - SAFETY SKIPPING ENABLED ]
                PAUSE   5
                BSET    MPRI1391

                EXEC    INSWXN
                LOAD    INS_WXN,INS_WXN025
INS_WXN025:
                ACL     DIPASP
                AND     DIPWXN
                AND     DIPMSG
        IFNE    PEND
INS_WXN030:     PAUSE   25
                BCLR    MFIRST_SK       ;FIRST SKIP LEVEL IN EXECUTION
                LOAD    INS_WXN,INS_WXNINI
                PEND

INS_WXNOFF:     BCLR    MPRI1391
                BCLR    MFIRST_SK       ;FIRST SKIP LEVEL IN EXECUTION
                STOP    INS_WXN
                PEND

;********************************************************
;    ---------- HOCKING INSERTED X+ SIDE - on RAM SIDE ----
;********************************************************

INS_WXRINI:
                ACL     DIPASP     ;|+|
                AND     DIPWXP     ;|TETTO X+|
                AND     DIPWAS     ;|TETTO Y|
        IFEQ    PEND
                BSET    MFIRST_SK       ;FIRST SKIP LEVEL IN EXECUTION
                MOVE    TM_SERVICE,TIME70
                LOAD    INS_WXR,INS_WXR010
INS_WXR010:
                TST     TIME70
        IFEQ    JUMP    INS_WXR020
                ACL     DIPASP
                AND     DIPWXP
                AND     DIPWAS
        IFNE    PEND
                JUMP    INS_WXR030

INS_WXR020:     DMSG    1391            ;WR MTE: FIRST LEVEL CONTROL - SAFETY SKIPPING ENABLED ]
                PAUSE   5
                BSET    MPRI1391
                EXEC    INSWXR          ;
                LOAD    INS_WXR,INS_WXR025
INS_WXR025:
                ACL     DIPASP
                AND     DIPWXP
                AND     DIPWAS
        IFNE    PEND

INS_WXR030:     PAUSE   25
                BCLR    MFIRST_SK       ;FIRST SKIP LEVEL IN EXECUTION
                LOAD    INS_WXR,INS_WXRINI
                PEND

INS_WXROFF:     BCLR    MPRI1391
                BCLR    MFIRST_SK       ;FIRST SKIP LEVEL IN EXECUTION
                STOP    INS_WXR
                PEND

;********************************************************
;    ---------- HOCKING INSERTED X- SIDE - on RAM SIDE ----
;********************************************************

INS_WXLINI:     CMP     3L,COVER_ON     ;=3 AUTOM. COVER ON GT MACHINE INSTALLED
        IFEQ    JUMP    INS_WXL002

                ACL     DIPASP     ;|+|
                AND     DIPWXN     ;|TETTO X-|
                AND     DIPWAS     ;|TETTO Y|
        IFEQ    PEND
                JUMP    INS_WXL008

INS_WXL002:     ACL     DIPASP       ;|+|
                AND     DIPWXN       ;|TETTO X-|
                AND     DIPMSG   NG  ;NO! |MESSAGGI| 
        IFEQ    PEND

INS_WXL008:     BSET    MFIRST_SK       ;FIRST SKIP LEVEL IN EXECUTION
                MOVE    TM_SERVICE,TIME70
                LOAD    INS_WXL,INS_WXL010
INS_WXL010:
                TST     TIME70
        IFEQ    JUMP    INS_WXL020
                CMP     3L,COVER_ON     ;=3 AUTOM. COVER ON GT MACHINE INSTALLED
        IFEQ    JUMP    INS_WXL012

                ACL     DIPASP
                AND     DIPWXN
                AND     DIPWAS
        IFNE    PEND
                JUMP    INS_WXL030

INS_WXL012:     ACL     DIPASP     ;|+|
                AND     DIPWXN     ;|TETTO X-|
                AND     DIPMSG   NG  ;NO! |MESSAGGI| 
        IFNE    PEND
                JUMP    INS_WXL030

INS_WXL020:     DMSG    1391            ;WR MTE: FIRST LEVEL CONTROL - SAFETY SKIPPING ENABLED ]
                PAUSE   5
                BSET    MPRI1391
                EXEC    INSWXL          ;
                LOAD    INS_WXL,INS_WXL025

INS_WXL025:
                CMP     3L,COVER_ON     ;=3 AUTOM. COVER ON GT MACHINE INSTALLED
        IFEQ    JUMP    INS_WXL027

                ACL     DIPASP
                AND     DIPWXN
                AND     DIPWAS
        IFNE    PEND
                JUMP    INS_WXL030

INS_WXL027:     ACL     DIPASP     ;|+|
                AND     DIPWXN     ;|TETTO X-|
                AND     DIPMSG   NG  ;NO! |MESSAGGI| 
        IFNE    PEND
                JUMP    INS_WXL030

INS_WXL030:     PAUSE   25
                BCLR    MFIRST_SK       ;FIRST SKIP LEVEL IN EXECUTION
                LOAD    INS_WXL,INS_WXLINI
                PEND

INS_WXLOFF:     BCLR    MPRI1391
                BCLR    MFIRST_SK       ;FIRST SKIP LEVEL IN EXECUTION
                STOP    INS_WXL
                PEND

;********************************************************
;    ---------- HOCKING INSERTED X+ SIDE - on CARTER SIDE ----
;********************************************************

INS_WXPINI:
                ACL     DIPASP     ;|+|
                AND     DIPWXP     ;|TETTO X+|
                AND     DIPMSG     ;|MESSAGGI|
        IFEQ    PEND
                BSET    MFIRST_SK       ;FIRST SKIP LEVEL IN EXECUTION
                MOVE    TM_SERVICE,TIME70
                LOAD    INS_WXP,INS_WXP010
INS_WXP010:
                TST     TIME70
        IFEQ    JUMP    INS_WXP020
                ACL     DIPASP
                AND     DIPWXP
                AND     DIPMSG
        IFNE    PEND
                JUMP    INS_WXP030

INS_WXP020:     DMSG    1391            ;WR MTE: FIRST LEVEL CONTROL - SAFETY SKIPPING ENABLED ]
                PAUSE   5
                BSET    MPRI1391
                EXEC    INSWXP          ;
                LOAD    INS_WXP,INS_WXP025
INS_WXP025:
                ACL     DIPASP
                AND     DIPWXP
                AND     DIPMSG
        IFNE    PEND

INS_WXP030:     PAUSE   25
                BCLR    MFIRST_SK       ;FIRST SKIP LEVEL IN EXECUTION
                LOAD    INS_WXP,INS_WXPINI
                PEND

INS_WXPOFF:     BCLR    MPRI1391
                BCLR    MFIRST_SK       ;FIRST SKIP LEVEL IN EXECUTION
                STOP    INS_WXP
                PEND

;********************************************************
;    ---------- HOCKING REMOVED X- SIDE - on CARTER ----
;********************************************************

REM_WXNINI:
                ACL     DIPASN     ;|-|
                AND     DIPWXN     ;|TETTO X-|
                AND     DIPMSG     ;|MESSAGGI|
        IFEQ    PEND
                BSET    MFIRST_SK       ;FIRST SKIP LEVEL IN EXECUTION
                MOVE    TM_SERVICE,TIME70
                LOAD    REM_WXN,REM_WXN010
REM_WXN010:
                TST     TIME70
        IFEQ    JUMP    REM_WXN020
                ACL     DIPASN
                AND     DIPWXN
                AND     DIPMSG
        IFNE    PEND
                JUMP    REM_WXN030

REM_WXN020:     DMSG    1391            ;WR MTE: FIRST LEVEL CONTROL - SAFETY SKIPPING ENABLED ]
                PAUSE   5
                BSET    MPRI1391
                EXEC    REMWXN          ;
                LOAD    REM_WXN,REM_WXN025
REM_WXN025:
                ACL     DIPASN
                AND     DIPWXN
                AND     DIPMSG
        IFNE    PEND

REM_WXN030:     PAUSE   25
                BCLR    MFIRST_SK       ;FIRST SKIP LEVEL IN EXECUTION
                LOAD    REM_WXN,REM_WXNINI
                PEND

REM_WXNOFF:     BCLR    MPRI1391
                BCLR    MFIRST_SK       ;FIRST SKIP LEVEL IN EXECUTION
                STOP    REM_WXN
                PEND

;********************************************************
;    ---------- HOCKING REMOVED X+ SIDE - on RAM SIDE ----
;********************************************************

REM_WXRINI:
                ACL     DIPASN     ;|-|
                AND     DIPWXP     ;|TETTO X+|
                AND     DIPWAS     ;|TETTO Y|
        IFEQ    PEND
                BSET    MFIRST_SK       ;FIRST SKIP LEVEL IN EXECUTION
                MOVE    TM_SERVICE,TIME70
                LOAD    REM_WXR,REM_WXR010
REM_WXR010:
                TST     TIME70
        IFEQ    JUMP    REM_WXR020
                ACL     DIPASN
                AND     DIPWXP
                AND     DIPWAS
        IFNE    PEND
                JUMP    REM_WXR030

REM_WXR020:     DMSG    1391            ;WR MTE: FIRST LEVEL CONTROL - SAFETY SKIPPING ENABLED ]
                PAUSE   5
                BSET    MPRI1391
                EXEC    REMWXR          ;
                LOAD    REM_WXR,REM_WXR025
REM_WXR025:
                ACL     DIPASN
                AND     DIPWXP
                AND     DIPWAS
        IFNE    PEND
REM_WXR030:     PAUSE   25
                BCLR    MFIRST_SK       ;FIRST SKIP LEVEL IN EXECUTION
                LOAD    REM_WXR,REM_WXRINI
                PEND

REM_WXROFF:     BCLR    MPRI1391
                BCLR    MFIRST_SK       ;FIRST SKIP LEVEL IN EXECUTION
                STOP    REM_WXR
                PEND

;********************************************************
;    ---------- HOCKING REMOVED X- SIDE - on RAM SIDE ----
;********************************************************

REM_WXLINI:     CMP     3L,COVER_ON     ;=3 AUTOM. COVER ON GT MACHINE INSTALLED
        IFEQ    JUMP    REM_WXL002

                ACL     DIPASN     ;|-|
                AND     DIPWXN     ;|TETTO X-|
                AND     DIPWAS     ;TETTO Y|
        IFEQ    PEND
                JUMP    REM_WXL008

REM_WXL002:     ACL     DIPASN     ;|-|
                AND     DIPWXN     ;|TETTO X-|
                AND     DIPMSG   NG  ;NO! |MESSAGGI| 
        IFEQ    PEND

REM_WXL008:     BSET    MFIRST_SK       ;FIRST SKIP LEVEL IN EXECUTION
                MOVE    TM_SERVICE,TIME70
                LOAD    REM_WXL,REM_WXL010
REM_WXL010:
                TST     TIME70
        IFEQ    JUMP    REM_WXL020
                CMP     3L,COVER_ON     ;=3 AUTOM. COVER ON GT MACHINE INSTALLED
        IFEQ    JUMP    REM_WXL012

                ACL     DIPASN
                AND     DIPWXN
                AND     DIPWAS
        IFNE    PEND
                JUMP    REM_WXL030

REM_WXL012:     ACL     DIPASN     ;|-|
                AND     DIPWXN     ;|TETTO X-|
                AND     DIPMSG   NG  ;NO! |MESSAGGI| 
        IFNE    PEND
                JUMP    REM_WXL030

REM_WXL020:     DMSG    1391            ;WR MTE: FIRST LEVEL CONTROL - SAFETY SKIPPING ENABLED ]
                PAUSE   5
                BSET    MPRI1391
                EXEC    REMWXL          ;
                LOAD    REM_WXL,REM_WXL025

REM_WXL025:
                CMP     3L,COVER_ON     ;=3 AUTOM. COVER ON GT MACHINE INSTALLED
        IFEQ    JUMP    REM_WXL027

                ACL     DIPASN
                AND     DIPWXN
                AND     DIPWAS
        IFNE    PEND
                JUMP    REM_WXL030

REM_WXL027:     ACL     DIPASN     ;|-|
                AND     DIPWXN     ;|TETTO X-|
                AND     DIPMSG   NG  ;NO! |MESSAGGI| 
        IFNE    PEND
                JUMP    REM_WXL030

REM_WXL030:     PAUSE   25
                BCLR    MFIRST_SK       ;FIRST SKIP LEVEL IN EXECUTION
                LOAD    REM_WXL,REM_WXLINI
                PEND

REM_WXLOFF:     BCLR    MPRI1391
                BCLR    MFIRST_SK       ;FIRST SKIP LEVEL IN EXECUTION
                STOP    REM_WXL
                PEND

;********************************************************
;    ---------- HOCKING REMOVED X+ SIDE - on CARTER SIDE ----
;********************************************************

REM_WXPINI:
                ACL     DIPASN     ;|-|
                AND     DIPWXP     ;|TETTO X+|
                AND     DIPMSG     ;|MESSAGGI|
        IFEQ    PEND
                BSET    MFIRST_SK       ;FIRST SKIP LEVEL IN EXECUTION
                MOVE    TM_SERVICE,TIME70
                LOAD    REM_WXP,REM_WXP010
REM_WXP010:
                TST     TIME70
        IFEQ    JUMP    REM_WXP020
                ACL     DIPASN
                AND     DIPWXP
                AND     DIPMSG
        IFNE    PEND
                JUMP    REM_WXP030

REM_WXP020:     DMSG    1391            ;WR MTE: FIRST LEVEL CONTROL - SAFETY SKIPPING ENABLED ]
                PAUSE   5
                BSET    MPRI1391
                EXEC    REMWXP          ;
                LOAD    REM_WXP,REM_WXP025
REM_WXP025:
                ACL     DIPASN
                AND     DIPWXP
                AND     DIPMSG
        IFNE    PEND


REM_WXP030:     PAUSE   25
                BCLR    MFIRST_SK       ;FIRST SKIP LEVEL IN EXECUTION
                LOAD    REM_WXP,REM_WXPINI
                PEND

REM_WXPOFF:     BCLR    MPRI1391
                BCLR    MFIRST_SK       ;FIRST SKIP LEVEL IN EXECUTION
                STOP    REM_WXP
                PEND

;*****************************************************************************
;       PROCESS CK_SPD - CHECK SPINDLE IN ROTATION WITH ROOF X+ OR X- OPEN
;*****************************************************************************

CK_SPDINI:      CMP     4L,COVER_ON     ;=4 AUTOM. COVER CENTRAL AND LATERAL ZONE INSTALLED
        IFNE    PEND
                CMP     2L,CK_ROOF      ;CHECK DISABLE
        IFEQ    PEND
                ACL     UDSMO
                IOR     UDSMA
        IFEQ    PEND
                ACL     MBDILWXR
        IFNE    JUMP    CK_SPD050
                DMSG    1364            ;WR MTE: X+ ROOF OPEN
                DMSG    1269            ;EM MTE: ROOF OPEN - FUNCTION INHIBITED
                JUMP    EMERG

CK_SPD050:
                ACL     MBDILWXL
        IFNE    PEND
                DMSG    1365            ;WR MTE: X- ROOF OPEN
                DMSG    1269            ;EM MTE: ROOF OPEN - FUNCTION INHIBITED
                JUMP    EMERG

CK_SPDOFF:      STOP    CK_SPD
                PEND

;*****************************************************************************
;               PROCESS TMMINC - TIMER 1 Min. INCREMENTO DEGLI AUCREG3 RUNNING
;*****************************************************************************
TMMINCINI:      TST     TIME101
        IFNE    JUMP    TMMINC.10

                TST     TIME71                          ;TIMER TOTALE IN MINUTI
        IFGE    INCR    TIME71
                CMP     60L,TIME71
        IFEQ    INCR    TOTREGRORA                      ;REGISTRO ORA TO AUCREG
                CMP     60L,TIME71
        IFEQ    MOVE    0L,TIME71                       ;RESET MINUTI
                MOVE    TIME71,TOTREGRMIN
                SUB     TMPREGRORA,TOTREGRORA,PARREGRORA
                SUB     TMPREGRMIN,TOTREGRMIN,PARREGRMIN
                MOVE    60,TIME101

;*****************************************************************************
;               INCREMENTO DEGLI AUCREG3 MACHINING
;*****************************************************************************
TMMINC.10:      ACL     MDAXMV
        IFEQ    MOVE    60,TIME102
                ACL     MDAXMV
        IFEQ    JUMP    TMMINC.20
                TST     TIME102
        IFNE    JUMP    TMMINC.20

                TST     TIME72                          ;TIMER TOTALE IN MINUTI
        IFGE    INCR    TIME72
                CMP     60L,TIME72
        IFEQ    INCR    TOTREGMORA                      ;REGISTRO ORA TO AUCREG
                CMP     60L,TIME72
        IFEQ    MOVE    0L,TIME72                       ;RESET MINUTI
                MOVE    TIME72,TOTREGMMIN
                SUB     TMPREGMORA,TOTREGMORA,PARREGMORA
                SUB     TMPREGMMIN,TOTREGMMIN,PARREGMMIN
                MOVE    60,TIME102

;*****************************************************************************
;               INCREMENTO DEGLI AUCREG3 SPINDLE
;*****************************************************************************
TMMINC.20:      ACL     UDSMO
                IOR     UDSMA
        IFEQ    MOVE    60,TIME103
                ACL     UDSMO
                IOR     UDSMA
        IFEQ    JUMP    TMMINC.30

		TST	TIME103
	IFNE	JUMP	TMMINC.30

                TST     TIME73                          ;TIMER TOTALE IN MINUTI
        IFGE    INCR    TIME73
                CMP     60L,TIME73
        IFEQ    INCR    TOTREGSORA                      ;REGISTRO ORA TO AUCREG
                CMP     60L,TIME73
        IFEQ    MOVE    0L,TIME73                       ;RESET MINUTI
                MOVE    TIME73,TOTREGSMIN
                SUB     TMPREGSORA,TOTREGSORA,PARREGSORA
                SUB     TMPREGSMIN,TOTREGSMIN,PARREGSMIN
                MOVE    60,TIME103

;*****************************************************************************
;               EVERY 1 OURS IS PRINTED THE MACHINE TIMERS STATUS
;*****************************************************************************
TMMINC.30:      TST     TIME74
        IFNE    JUMP    TMMINC.40

                CNVTOA  TOTREGRORA,PLC1509+24           ;TOTAL OURS DI RUNNING
                DMSG    1509
                CNVTOA  TOTREGMORA,PLC1510+24           ;TOTAL OURS DI MACHINING
                DMSG    1510
                CNVTOA  TOTREGSORA,PLC1511+24           ;TOTAL OURS DI SPINDLE TIME
                DMSG    1511
                BSET    MSVREG
                MOVE    1L,REG_SAVE
                MOVE    60L,TIME74

TMMINC.40:      LOAD    TMMINC,TMMINCINI
                PEND

;*****************************************************************************
;               PROCESS SOFCUS - CUSTOMER COLD AIRLINE PUSHBUTTON MANAGEMENT
;*****************************************************************************

;************* loop of
SOFCUSINI:      ACL     DUEVG2
        IFNE    JUMP    SOFCUS030
                ACL     DIPSAC
        IFNE    JUMP    SOFCUS010
                PEND

SOFCUS010:      LOAD    SOFCUS,SOFCUS020

;************* on by PB or MPLC
SOFCUS020:      ACL     DIPSAC
        IFNE    PEND

SOFCUS025:      BSET    DUEVG2

SOFCUS030:      DMSG    2326
                LOAD    SOFCUS,SOFCUS040
                MOVE    P000585,TIME141
                BSET    DULSAC

;************* check TIMEOUT
SOFCUS040:      TST     TIME141
        IFEQ    JUMP    SOFCUS080
                ACL     MDEVG2
        IFEQ    PEND
                LOAD    SOFCUS,SOFCUS045

;************* loop on
SOFCUS045:      ACL     MDEVG2
        IFEQ    JUMP    SOFCUS080
                ACL     DUEVG2
        IFEQ    JUMP    SOFCUS070
                ACL     DIPSAC
        IFNE    JUMP    SOFCUS050
                ACL     MDHOLD
        IFNE    JUMP    SOFCUS100
                PEND

;************* of by PB or MPLC
SOFCUS050:      LOAD    SOFCUS,SOFCUS060

SOFCUS060:      ACL     DIPSAC
        IFNE    PEND

                BCLR    DUEVG2

SOFCUS070:      DMSG    2327
                BCLR    DULSAC
                BCLR    MPRI2328
                BCLR    MHLCOLDAIR
                LOAD    SOFCUS,SOFCUSINI
                PEND

;************* of by ALARM
SOFCUS080:      LOAD    SOFCUS,SOFCUS080

                ACL     UDSMO
                IOR     UDSMA
                IOR     MPROGX
                IOR     MDPRC
        IFEQ    JUMP    SOFCUS090

                ACL     MHLCOLDAIR
        IFEQ    DMSG    2328
                BSET    MHLCOLDAIR

SOFCUS090:      ACL     MPRI2328
                IOR     MHLCOLDAIR
        IFEQ    DMSG    2328
                BSET    MPRI2328

                BCLR    DUEVG2
                BFLASH  DULSAC,25

                ACL     DIPSAC
        IFEQ    PEND
                LOAD    SOFCUS,SOFCUS060
                PEND

;************* of by HOLD to safe part inspection
SOFCUS100:      PAUSE   50
                ACL     MDHOLD
        IFEQ    PEND
                DMSG    2327
                BCLR    DUEVG2
                LOAD    SOFCUS,SOFCUS110

SOFCUS110:      ACL     MDPOA2 NG
                IOR     MDHOLD
        IFNE    PEND
                JUMP    SOFCUS025

;************* of process
SOFCUSOFF:      BCLR    DUEVG2
                BCLR    DULSAC
                BCLR    MPRI2328
                BCLR    MHLCOLDAIR
                STOP    SOFCUS
                PEND

;**********************************************************************
;       PROCESS XSTAIR - Y2G X AXIS STAIR MANAGEMENT
;**********************************************************************
XSTAIRINI:      
                ACL     DILLDR                  ;=1 stair inserted
        IFEQ    PEND
                MOVE    5,TIME75
                LOAD    XSTAIR,XSTAIR010
                PEND

XSTAIR010:      ACL     DILLDR                  ;=1 stair inserted
        IFEQ    JUMP    XSTAIR999
                TST     TIME75
        IFNE    PEND
                DMSG    1747            ;/EM MTE: STAIR MOUNTED - X AXIS DISABLED
                BSET    MPRI1747
                ACL     ID24A
        IFEQ    JUMP    XSTAIR500               ;X disabled
                BSET    MGOMAN
                JUMP    XSTAIR500               ;X disabled

; ------ X disabled ------

XSTAIR500:      LOAD    XSTAIR,XSTAIR510
                PEND

XSTAIR510:      BCLR    M1Y2GRBLX               ;req disable X
                ACL     DILLDR                  ;=1 stair inserted
        IFNE    PEND
                MOVE    5,TIME75
                LOAD    XSTAIR,XSTAIR520
                PEND

XSTAIR520:      ACL     DILLDR                  ;=1 stair inserted
        IFNE    JUMP    XSTAIR500
                TST     TIME75
        IFNE    PEND
                BSET    M1Y2GRBLX               ;req enable X
                DMSG    1748            ;/EM MTE: STAIR NOT MOUNTED - X AXIS ENABLED
                BCLR    MPRI1747
                JUMP    XSTAIR999

; ------ Exit ------

XSTAIR999:      LOAD    XSTAIR,XSTAIRINI
                PEND

XSTAIROFF:      BCLR    MPRI1747
                STOP    XSTAIR
                PEND

;**********************************************************************
;       PROCESS LUBMAN - AXES LUBRICATION PUMP MANAGEMENT
;**********************************************************************

LUBMANINI:      CMP     2,P000107       ;1= only one axes circuit lubrication ; 2= dual axes circuit lubrication ( with EV ) p.e. GTS
        IFNE    PEND
                ACL     MDULUBR
                IOR     MDULUBRR
                ACS     DULUBR
                JUMP    LUBMAN999

; ------ Exit ------

LUBMAN999:      LOAD    LUBMAN,LUBMANINI
                PEND

LUBMANOFF:      BCLR    DULUBR
                STOP    LUBMAN
                PEND


;*****************************************************************************
;               PROCESS ACMWH - AIR COOLANT TOOL MANAGEMENT WITH DUEVWH
;*****************************************************************************

ACMWHINI:       
                CMP     1,P000165	;=1 Opzione SCC/A installata	=2 non installata
        IFNE    PEND
                CMP     2,P000116               ;1=DUEVWH   2=DUEVCC
        IFEQ    PEND      
                ACL     DUEVWH
        IFNE    JUMP    ACMWH030
                ACL     MDM06
                IOR     MDM16
                IOR     MDM57
                IOR     MD_MP9ON
                IOR     MD1_MP9ON
		IOR	TYP_T0_101
        IFNE    PEND
                ACL     DIPSAT
        IFNE    JUMP    ACMWH010
                PEND

ACMWH010:       LOAD    ACMWH,ACMWH020

ACMWH020:       ACL     DIPSAT
        IFNE    PEND

ACMWH025:       BSET    DUEVWH
                BSET    DULSAT

ACMWH030:       LOAD    ACMWH,ACMWH040

ACMWH040:       ACL     DUEVWH
        IFEQ    JUMP    ACMWH070
                ACL     DIPSAT
        IFNE    JUMP    ACMWH050
                ACL     MDM06
                IOR     MDM16
                IOR     MDM57
        IFNE    JUMP    ACMWH100
                PEND

ACMWH050:       LOAD    ACMWH,ACMWH060

ACMWH060:       ACL     DIPSAT
        IFNE    PEND
                BCLR    DUEVWH
                BCLR    DULSAT

ACMWH070:       LOAD    ACMWH,ACMWHINI
                PEND

ACMWH100:        
                BCLR    DUEVWH
                BCLR    DULSAT
                LOAD    ACMWH,ACMWH110

ACMWH110:       ACL     MDM06
                IOR     MDM16
                IOR     MDM57
        IFNE    PEND
                READP   "TOOL",T_ATT
                TST     T_ATT
        IFEQ    JUMP    ACMWH070
                ACL     MD_MP9ON
                IOR     MD1_MP9ON
		IOR	TYP_T0_101
        IFNE    JUMP    ACMWH070
                JUMP    ACMWH025

ACMWHOFF:       BCLR    DUEVWH
                BCLR    DULSAT
                STOP    ACMWH
                PEND

;*****************************************************************************
;       BLKOUT - BLACK OUT MANAGEMENT
;*****************************************************************************

BLKOUTINI:
                CMP     1,P000166               ;=1 Logica congelamento bus Fidia abilitata   =2 non installata
        IFNE    PEND
                ACL     MDBKNB                  ;=1 NO BLACK OUT CONDITION    
        IFEQ    PEND
                MOVE    P000167,TIME80          ;10 SECONDI
                LOAD    BLKOUT,BLKOUT010

BLKOUT010:      ACL     MDBKNB
        IFEQ    JUMP    BLKOUTEND
                TST     TIME80
        IFNE    PEND
                DMSG    2030                    ;"EM: MACHINE POWER SUPPLY FAILURE DETECTED 
                DMSG    2031                    ;"EM: BLACKOUT PREVENTION PROCEDURE IN EXECUTION 
                BSET    IDBLKO                  ;TO CNC FOR BUS FREEZER
                BCLR    DUAUOK                  ;Power off
                PAUSE   50
  

BLKOUTEND:      LOAD    BLKOUT,BLKOUTINI
                PEND

;*****************************************************************************
;               XM_MAN - XM ENABLE/DISABLE MANAGEMENT (UDSAX-IDENX-UDXOK-IDAXP)
;*****************************************************************************

XM_MAN_INI:     
                READP   "AXAUTOUDSAX XM",CAUTOUDSAX
                READP   "AXAUTOIDAXP XM",CAUTOIDAXP
                CMP     1B,CAUTOUDSAX           ;AUTOUDSAX 1= ON
        IFEQ    JUMP    XM_MAN_002              ;AUTOUDSAX=ON        
                BCLR    IDENX  
XM_MAN_002:     CMP     1B,CAUTOIDAXP           ;AUTOUDSAX 1= ON
        IFEQ    JUMP    XM_MAN_003              ;AUTOIDAXP=ON          
                BCLR    IDAXP
XM_MAN_003:     
                PAUSE   25
                LOAD    XM_MAN,XM_MAN_005
XM_MAN_005:     ACL     UDSAX
        IFEQ    PEND

XM_MAN_007:     ACL     UDSAX           ;=0 X AXIS DISABLE
        IFEQ    JUMP    XM_MAN_100

;******************************************
;-------- XM ENABLE UDSAX=> 1 ----------------
;******************************************
;---------  CHECK AXAUTOUDSAX=ON/OF   ----------
                CMP     1B,CAUTOUDSAX           ;AUTOUDSAX 1= ON
        IFEQ    JUMP    XM_MAN_050              ;AUTOUDSAX=ON          

;------- DELAY TIME UDSAX-IDENX -----------
                MOVE    P000421,TIME85          ;DELAY TIME UDSAX-IDENX IN XM ENABLE 
                LOAD    XM_MAN,XM_MAN_010     
XM_MAN_010:     TST     TIME85
        IFNE    PEND                                        
                BSET    IDENX                   

;---------  CHECK AXAUTOIDAXP=ON/OF   ----------
XM_MAN_050:     
                CMP     1B,CAUTOIDAXP           ;AUTOUDSAX 1= ON
        IFEQ    JUMP    XM_MAN_090              ;AUTOIDAXP=ON          
        
;------- DELAY TIME UDXOK-IDAXP -----------
                LOAD    XM_MAN,XM_MAN_060
                PEND                            
XM_MAN_060:     ACL     UDSAX                   ;UDSAX => 0 AGAIN
        IFEQ    JUMP    XM_MAN_500              ;EXIT
                ACL     UDXOK                   ;WAITING UDXOK =1 FROM CNC
        IFEQ    PEND
                MOVE    P000422,TIME86          ;DELAY TIME UDXOK-IDAXP IN XM ENABLE 
                LOAD    XM_MAN,XM_MAN_070     
XM_MAN_070:     TST     TIME86
        IFNE    PEND                                        
                BSET    IDAXP                   
;------------ LOOP UDSAX=1 --------------
XM_MAN_090:     LOAD    XM_MAN,XM_MAN_095
XM_MAN_095:     ACL     UDSAX
        IFNE    PEND
                JUMP    XM_MAN_500 

;*****************************************
;-------- XM DISABLE UDSAX=> 0 ----------------
;*****************************************
XM_MAN_100:     
;---------  CHECK AXAUTOUDSAX=ON/OF   ----------    
                CMP     1B,CAUTOUDSAX           ;AUTOUDSAX 1= ON
        IFEQ    JUMP    XM_MAN_150              ;AUTOUDSAX=ON          
                ACL     MDMOD3HP1L              ;from sl-82 (MODE3 selected and IDHP1L released)
                IOR     MDAXSFSM
        IFNE    BCLR	IDENX                   
	IFNE	BCLR	IDAXP
	IFNE	JUMP	XM_MAN_190		;LOOP UDSAX=0
 
;------- DELAY TIME UDSAX-IDENX -----------
                MOVE    P000423,TIME87          ;DELAY TIME UDSAX-IDENX IN XM DISABLE 
                LOAD    XM_MAN,XM_MAN_110     
XM_MAN_110:     TST     TIME87
        IFNE    PEND                                        
                BCLR    IDENX                   

;---------  CHECK AXAUTOIDAXP=ON/OF  ----------
XM_MAN_150:     
                CMP     1B,CAUTOIDAXP           ;AUTOUDSAX 1= ON
        IFEQ    JUMP    XM_MAN_190              ;AUTOIDAXP=ON          
        
;------- DELAY TIME UDXOK-IDAXP -----------
                LOAD    XM_MAN,XM_MAN_160
                PEND                            ;WAITING UDXOK =0 FROM CNC
XM_MAN_160:     ACL     UDSAX
        IFNE    JUMP    XM_MAN_500              ;UDSAX =1 AGAIN
                ACL     UDXOK
        IFNE    PEND
                MOVE    P000424,TIME88          ;DELAY TIME UDXOK-IDAXP IN XM DISABLE 
                LOAD    XM_MAN,XM_MAN_170     
XM_MAN_170:     TST     TIME88
        IFNE    PEND                                        
                BCLR    IDAXP                   
;------------ LOOP UDSAX=0 --------------
XM_MAN_190:     LOAD    XM_MAN,XM_MAN_200
XM_MAN_200:     ACL     UDSAX
        IFEQ    PEND
                JUMP    XM_MAN_500
;------------- END ----------------------

XM_MAN_500:     LOAD    XM_MAN,XM_MAN_007
                PEND

;*****************************************************************************
;               YM_MAN - YM ENABLE/DISABLE MANAGEMENT (UDSAY-IDENY-UDYOK-IDAYP)
;*****************************************************************************

YM_MAN_INI:     
                READP   "AXAUTOUDSAX YM",CAUTOUDSAY
                READP   "AXAUTOIDAXP YM",CAUTOIDAYP
                CMP     1B,CAUTOUDSAY           ;AUTOUDSAX 1= ON
        IFEQ    JUMP    YM_MAN_002              ;AUTOUDSAY=ON        
                BCLR    IDENY  
YM_MAN_002:     CMP     1B,CAUTOIDAYP           ;AUTOUDSAX 1= ON
        IFEQ    JUMP    YM_MAN_003              ;AUTOIDAYP=ON          
                BCLR    IDAYP
YM_MAN_003:     PAUSE   25
                LOAD    YM_MAN,YM_MAN_005
YM_MAN_005:     ACL     UDSAY
        IFEQ    PEND

YM_MAN_007:     ACL     UDSAY           ;=0 Y AXIS DISABLE
        IFEQ    JUMP    YM_MAN_100

;******************************************
;-------- YM ENABLE UDSAY=> 1 ----------------
;******************************************
;---------  CHECK AXAUTOUDSAY=ON/OF   ----------
                CMP     1B,CAUTOUDSAY           ;AUTOUDSAY 1= ON
        IFEQ    JUMP    YM_MAN_050              ;AUTOUDSAX=ON          

;------- DELAY TIME UDSAY-IDENY -----------
                MOVE    P000425,TIME89          ;DELAY TIME UDSAY-IDENY IN YM ENABLE 
                LOAD    YM_MAN,YM_MAN_010     
YM_MAN_010:     TST     TIME89
        IFNE    PEND                                        
                BSET    IDENY                   

;---------  CHECK AXAUTOIDAYP=ON/OF   ----------
YM_MAN_050:     
                CMP     1B,CAUTOIDAYP           ;AUTOUDSAY 1= ON
        IFEQ    JUMP    YM_MAN_090              ;AUTOIDAYP=ON          
        
;------- DELAY TIME UDYOK-IDAYP -----------
                LOAD    YM_MAN,YM_MAN_060
                PEND                            ;WAITING UDYOK =1 FROM CNC
YM_MAN_060:     ACL     UDSAY                   ;UDSAY =0 AGAIN
        IFEQ    JUMP    YM_MAN_500              ;EXIT
                ACL     UDYOK
        IFEQ    PEND
                MOVE    P000426,TIME90          ;DELAY TIME UDYOK-IDAYP IN YM ENABLE 
                LOAD    YM_MAN,YM_MAN_070     
YM_MAN_070:     TST     TIME90
        IFNE    PEND                                        
                BSET    IDAYP                   
;------------ LOOP UDSAY=1 --------------
YM_MAN_090:     LOAD    YM_MAN,YM_MAN_095
YM_MAN_095:     ACL     UDSAY
        IFNE    PEND
                JUMP    YM_MAN_500 

;*****************************************
;-------- YM DISABLE UDSAY=> 0 ----------------
;*****************************************
YM_MAN_100:     
;---------  CHECK AXAUTOUDSAX=ON/OF   ----------    
                CMP     1B,CAUTOUDSAY           ;AUTOUDSAY 1= ON
        IFEQ    JUMP    YM_MAN_150              ;AUTOUDSAY=ON          
                ACL     MDMOD3HP1L              ;from sl-82 (MODE3 selected and IDHP1L released)
                IOR     MDAXSFSM
        IFNE    BCLR	IDENY                   
	IFNE	BCLR	IDAYP
	IFNE	JUMP	YM_MAN_190		;LOOP UDSAY=0
 
;------- DELAY TIME UDSAY-IDENY -----------
                MOVE    P000427,TIME91          ;DELAY TIME UDSAY-IDENY IN YM DISABLE 
                LOAD    YM_MAN,YM_MAN_110     
YM_MAN_110:     TST     TIME91
        IFNE    PEND                                        
                BCLR    IDENY                   

;---------  CHECK AXAUTOIDAXP=ON/OF  ----------
YM_MAN_150:     
                CMP     1B,CAUTOIDAYP           ;AUTOUDSAY 1= ON
        IFEQ    JUMP    YM_MAN_190              ;AUTOIDAYP=ON          
        
;------- DELAY TIME UDYOK-IDAYP -----------
                LOAD    YM_MAN,YM_MAN_160
                PEND                            ;WAITING UDYOK =0 FROM CNC
YM_MAN_160:     ACL     UDSAY
        IFNE    JUMP    YM_MAN_500              ;UDSAY =1 AGAIN    
                ACL     UDYOK
        IFNE    PEND
                MOVE    P000428,TIME92          ;DELAY TIME UDYOK-IDAYP IN YM DISABLE 
                LOAD    YM_MAN,YM_MAN_170     
YM_MAN_170:     TST     TIME92
        IFNE    PEND                                        
                BCLR    IDAYP                   
;------------ LOOP UDSAY=0 --------------
YM_MAN_190:     LOAD    YM_MAN,YM_MAN_200
YM_MAN_200:     ACL     UDSAY
        IFEQ    PEND
                JUMP    YM_MAN_500
;------------- END ----------------------

YM_MAN_500:     LOAD    YM_MAN,YM_MAN_007
                PEND

;*****************************************************************************
;               ZM_MAN - ZM ENABLE/DISABLE MANAGEMENT (UDSAZ-IDENZ-UDZOK-IDAZP)
;*****************************************************************************

ZM_MAN_INI:     
                READP   "AXAUTOUDSAX ZM",CAUTOUDSAZ
                READP   "AXAUTOIDAXP ZM",CAUTOIDAZP
                CMP     1B,CAUTOUDSAZ           ;AUTOUDSAX 1= ON
        IFEQ    JUMP    ZM_MAN_002              ;AUTOUDSAY=ON        
                BCLR    IDENZ  
ZM_MAN_002:     CMP     1B,CAUTOIDAZP           ;AUTOUDSAX 1= ON
        IFEQ    JUMP    ZM_MAN_003              ;AUTOIDAYP=ON          
                BCLR    IDAZP
ZM_MAN_003:     PAUSE   25
                LOAD    ZM_MAN,ZM_MAN_005
ZM_MAN_005:     ACL     UDSAZ
        IFEQ    PEND

ZM_MAN_007:     ACL     UDSAZ           ;=0 Y AXIS DISABLE
        IFEQ    JUMP    ZM_MAN_100

;******************************************
;-------- ZM ENABLE UDSAZ=> 1 ----------------
;******************************************
;---------  CHECK AXAUTOUDSAY=ON/OF   ----------
                CMP     1B,CAUTOUDSAZ           ;AUTOUDSAZ 1= ON
        IFEQ    JUMP    ZM_MAN_050              ;AUTOUDSAX=ON          

;------- DELAY TIME UDSAZ-IDENZ -----------
                MOVE    P000429,TIME93          ;DELAY TIME UDSAZ-IDENZ IN ZM ENABLE 
                LOAD    ZM_MAN,ZM_MAN_010     
ZM_MAN_010:     TST     TIME93
        IFNE    PEND                                        
                BSET    IDENZ                   

;---------  CHECK AXAUTOIDAYP=ON/OF   ----------
ZM_MAN_050:     
                CMP     1B,CAUTOIDAZP           ;AUTOUDSAZ 1= ON
        IFEQ    JUMP    ZM_MAN_090              ;AUTOIDAZP=ON          
        
;------- DELAZ TIME UDZOK-IDAZP -----------
                LOAD    ZM_MAN,ZM_MAN_060
                PEND                            ;WAITING UDZOK =1 FROM CNC
ZM_MAN_060:     
                ACL     UDSAZ                   ;UDSAZ = 0 AGAIN
        IFEQ    JUMP    ZM_MAN_500              ;EXIT   
                ACL     UDZOK
        IFEQ    PEND
                MOVE    P000430,TIME94          ;DELAZ TIME UDZOK-IDAZP IN ZM ENABLE 
                LOAD    ZM_MAN,ZM_MAN_070     
ZM_MAN_070:     TST     TIME94
        IFNE    PEND                                        
                BSET    IDAZP                   
;------------ LOOP UDSAZ=1 --------------
ZM_MAN_090:     LOAD    ZM_MAN,ZM_MAN_095
ZM_MAN_095:     ACL     UDSAZ
        IFNE    PEND
                JUMP    ZM_MAN_500 

;*****************************************
;-------- ZM DISABLE UDSAZ=> 0 ----------------
;*****************************************
ZM_MAN_100:     
;---------  CHECK AXAUTOUDSAX=ON/OF   ----------    
                CMP     1B,CAUTOUDSAZ           ;AUTOUDSAZ 1= ON
        IFEQ    JUMP    ZM_MAN_150              ;AUTOUDSAZ=ON          
                ACL     MDMOD3HP1L              ;from sl-82 (MODE3 selected and IDHP1L released)
                IOR     MDAXSFSM
        IFNE    BCLR	IDENZ                   
	IFNE	BCLR	IDAZP
	IFNE	JUMP	ZM_MAN_190		;LOOP UDSAX=0

;------- DELAZ TIME UDSAZ-IDENZ -----------
                MOVE    P000431,TIME95          ;DELAZ TIME UDSAZ-IDENZ IN ZM DISABLE 
                LOAD    ZM_MAN,ZM_MAN_110     
ZM_MAN_110:     TST     TIME95
        IFNE    PEND                                        
                BCLR    IDENZ                   

;---------  CHECK AXAUTOIDAXP=ON/OF  ----------
ZM_MAN_150:     
                CMP     1B,CAUTOIDAZP           ;AUTOUDSAZ 1= ON
        IFEQ    JUMP    ZM_MAN_190              ;AUTOIDAZP=ON          
        
;------- DELAZ TIME UDZOK-IDAZP -----------
                LOAD    ZM_MAN,ZM_MAN_160
                PEND                            ;WAITING UDZOK =0 FROM CNC
ZM_MAN_160:     
                ACL     UDSAZ
        IFNE    JUMP    ZM_MAN_500              ;UDSAZ =1 AGAIN  
                ACL     UDZOK
        IFNE    PEND
                MOVE    P000432,TIME96          ;DELAY TIME UDZOK-IDAZP IN ZM DISABLE 
                LOAD    ZM_MAN,ZM_MAN_170     
ZM_MAN_170:     TST     TIME96
        IFNE    PEND                                        
                BCLR    IDAZP                   
;------------ LOOP UDSAZ=0 --------------
ZM_MAN_190:     LOAD    ZM_MAN,ZM_MAN_200
ZM_MAN_200:     ACL     UDSAZ
        IFEQ    PEND
                JUMP    ZM_MAN_500

;------------- END ----------------------

ZM_MAN_500:     LOAD    ZM_MAN,ZM_MAN_007
                PEND

;*****************************************************************************
;               X1_MAN - X1 ENABLE/DISABLE MANAGEMENT (UDSAX1-IDENX1-UDX1OK-IDAX1P)
;*****************************************************************************
X1_MAN_INI:     
                READP   "AXAUTOUDSAX XG",CAUTOUDSX1
                READP   "AXAUTOIDAXP XG",CAUTOIDX1P

                CMP     1B,CAUTOUDSX1           ;AUTOUDSAX 1= ON
        IFEQ    JUMP    X1_MAN_002              ;AUTOUDSAY=ON        
                BCLR    IDENX1  
X1_MAN_002:     CMP     1B,CAUTOIDX1P           ;AUTOUDSAX 1= ON
        IFEQ    JUMP    X1_MAN_003              ;AUTOIDAYP=ON          
                BCLR    IDAX1P
X1_MAN_003:     PAUSE   25
                LOAD    X1_MAN,X1_MAN_005
X1_MAN_005:     ACL     UDSAX1
        IFEQ    PEND

X1_MAN_007:     ACL     UDSAX1           ;=0 Y AXIS DISABLE
        IFEQ    JUMP    X1_MAN_100

;******************************************
;-------- X1 ENABLE UDSAX1=> 1 ----------------
;******************************************
;---------  CHECK AXAUTOUDSAY=ON/OF   ----------
                CMP     1B,CAUTOUDSX1           ;AUTOUDSAX1 1= ON
        IFEQ    JUMP    X1_MAN_050              ;AUTOUDSAX=ON          

;------- DELAY TIME UDSAX1-IDENX1 -----------
                MOVE    P000433,TIME97          ;DELAY TIME UDSAX1-IDENX1 IN X1 ENABLE 
                LOAD    X1_MAN,X1_MAN_010     
X1_MAN_010:     TST     TIME97
        IFNE    PEND                                        
                BSET    IDENX1                   

;---------  CHECK AXAUTOIDAXP=ON/OF   ----------
X1_MAN_050:     
                CMP     1B,CAUTOIDX1P           ;
        IFEQ    JUMP    X1_MAN_090              ;AUTOIDX1P=ON          
        
;------- DELAZ TIME UDX1OK-IDAX1P -----------
                LOAD    X1_MAN,X1_MAN_060
                PEND                            ;WAITING UDX1OK =1 FROM CNC
X1_MAN_060:     ACL     UDSAX1                  ;UDSAX1 = 0 AGAIN
        IFEQ    JUMP    X1_MAN_500              ;EXIT   
                ACL     UDX1OK
        IFEQ    PEND
                MOVE    P000434,TIME98          ;DELAZ TIME UDX1OK-IDAX1P IN X1 ENABLE 
                LOAD    X1_MAN,X1_MAN_070     
X1_MAN_070:     TST     TIME98
        IFNE    PEND                                        
                BSET    IDAX1P                   
;------------ LOOP UDSAX1=1 --------------
X1_MAN_090:     LOAD    X1_MAN,X1_MAN_095
X1_MAN_095:     ACL     UDSAX1
        IFNE    PEND
                JUMP    X1_MAN_500 

;*****************************************
;-------- X1 DISABLE UDSAX1=> 0 ----------------
;*****************************************
X1_MAN_100:     
;---------  CHECK AXAUTOUDSAX=ON/OF   ----------    
                CMP     1B,CAUTOUDSX1           ;AUTOUDSAZ 1= ON
        IFEQ    JUMP    X1_MAN_150              ;AUTOUDSAZ=ON          
                ACL     MDMOD3HP1L              ;from sl-82 (MODE3 selected and IDHP1L released)
                IOR     MDAXSFSM
        IFNE    BCLR	IDENX1                   
	IFNE	BCLR	IDAX1P
	IFNE	JUMP	X1_MAN_190		;LOOP UDSAX1=0

;------- DELAZ TIME UDSAX1-IDENX1 -----------
                MOVE    P000435,TIME99          ;DELAZ TIME UDSAX1-IDENX1 IN X1 DISABLE 
                LOAD    X1_MAN,X1_MAN_110     
X1_MAN_110:     TST     TIME99
        IFNE    PEND                                        
                BCLR    IDENX1                   

;---------  CHECK AXAUTOIDAXP=ON/OF  ----------
X1_MAN_150:     
                CMP     1B,CAUTOIDX1P           ;
        IFEQ    JUMP    X1_MAN_190              ;AUTOIDAXP=ON          
        
;------- DELAZ TIME UDX1OK-IDAX1P -----------
                LOAD    X1_MAN,X1_MAN_160
                PEND                            ;WAITING UDX1OK =0 FROM CNC
X1_MAN_160:     
                ACL     UDSAX1
        IFNE    JUMP    X1_MAN_500              ;UDSAX1 =1 AGAIN  
                ACL     UDX1OK
        IFNE    PEND
                MOVE    P000436,TIME100          ;DELAY TIME UDX1OK-IDAX1P IN X1 DISABLE 
                LOAD    X1_MAN,X1_MAN_170     
X1_MAN_170:     TST     TIME100
        IFNE    PEND                                        
                BCLR    IDAX1P                   
;------------ LOOP UDSAX1=0 --------------
X1_MAN_190:     LOAD    X1_MAN,X1_MAN_200
X1_MAN_200:     ACL     UDSAX1
        IFEQ    PEND
                JUMP    X1_MAN_500

;------------- END ----------------------

X1_MAN_500:     LOAD    X1_MAN,X1_MAN_007
                PEND


;*****************************************************************************
;               Y1_MAN - Y1 ENABLE/DISABLE MANAGEMENT (UDSAY1-IDENY1-UDY1OK-IDAY1P)
;*****************************************************************************

;*****************************************************************************
;               ASPIKE - ANTISPIKE BITS MANAGEMENT
;*****************************************************************************
ASPIKE.INI:     EXEC    SPK_EVWO
                EXEC    SPK_EVWC
                EXEC    SPK_WRPU
                EXEC    SPK_WRPD
                EXEC    SPK_ZACL
                EXEC    SPK_OWXP
                EXEC    SPK_OWXR
                EXEC    SPK_OWXL
                EXEC    SPK_OWXN
                EXEC    SPK_CWXP
                EXEC    SPK_CWXR
                EXEC    SPK_CWXL
                EXEC    SPK_LWXL
                EXEC    SPK_LWXR
                EXEC    SPK_CWXN
                EXEC    SPK_WRL2
                EXEC    SPK_WRH2
                EXEC    SPK_BKNB
                EXEC    SPK_ACRL
                EXEC    SPK_ACRR
                EXEC    SPK_EVG2
                EXEC    SPK_APPU
                EXEC    SPK_ACRC
                EXEC    SPK_ACR4

                PEND

;*****************************************************************************
;       FINECORSA TABELLARI SU XM - IL VALORE NEGATIVO CAMBIA 
;       IN FUNZIONE DELLA POSIZIONE DEL TETTO
;*****************************************************************************

OFEORX_INI:     READP   "AXVNER XM",XMNER_ORIG
                READP   "AXVNER YM",YMNER_ORIG
                READP   "AXVPER XM",XMPER_ORIG
                READP   "AXVPER YM",YMPER_ORIG

OFEORX_001:     EXEC    OFEOR_1
                EXEC    OFEOR_2
                EXEC    OFEOR_3
                LOAD    OFEORX,OFEORX_001
                PEND

OFEORX_OFF:     MOVE    0L,AOFF1_NER
                MOVE    0L,AOFF2_NER
                MOVE    0L,AOFF3_NER
                MOVE    0L,AOFF3_PER
                STOP    OFEORX
                PEND

;*****************************************************************************
;               PROCESS ROOFMOT - ROOF OPEN/CLOSE JOG MANAGEMENT
;*****************************************************************************

ROOFMOTINI:   
                PEND

;       -------- Exit --------

ROOFMOTOFF:     BCLR    DULWXN
                BCLR    ID2A
                BCLR    ID2I
                STOP    ROOFMOT
                PEND

;*****************************************************************************
;               PROCESS ROOFMAN - ROOF MANAGEMENT IN ERROR CONDITION
;*****************************************************************************

ROOFMANINI:
                PEND

ROOFMANOFF:     
                BCLR    MPRI2261       
                WRITEP  0B,"AXSNOJOG XM"        ;JOG XM AXIS ENABLED
                STOP    ROOFMAN
                PEND

;*****************************************************************************
;       XYZ_INST - GANTRY/TANDEM INSTALLATION
;*****************************************************************************
XYZ_INST.INI:   EXEC    XMSCALECNT
                EXEC    XGSCALECNT
                EXEC    XMMOTCNT
                EXEC    XGMOTCNT
                EXEC    TXMOTCNT
                EXEC    TX1MOTCNT

                EXEC    YMSCALECNT
                EXEC    YMMOTCNT
                EXEC    TYMOTCNT

                EXEC    ZMSCALECNT
                EXEC    ZMMOTCNT
                EXEC    TZMOTCNT

                TST     TANDXINST
        IFNE    JUMP    XYZ_INST.010
                TST     TANDYINST
        IFNE    JUMP    XYZ_INST.010
                TST     TANDZINST
        IFNE    JUMP    XYZ_INST.010
                ACL     MDPRC           ; Procedure
                IOR     MPROGX          ; Part program
                IOR     MDZERO          ; Zero execution
        IFNE    PEND

XYZ_INST.010:   CLR     SEL_AXES
                CLR     SEL_XMOTOR
                CLR     SEL_YMOTOR
                CLR     SEL_ZMOTOR
;*** X Axis installation enable
                EXEC    SK24ENA
        IFOV    JUMP    XYZ_INST.100
                MOVE    SK24STATUS,SK_ENA
;*** X gantry/tandem motors enable
                CMP     1L,TANDXINST
        IFNE    MOVE    SK_OF,SK_ENA
                EXEC    SK27ENA
                EXEC    SK28ENA
                EXEC    SK29ENA
                EXEC    SK30ENA

                CMP     SK27STATUS,SK_ON
        IFEQ    IORX    XM_MOTOR,SEL_XMOTOR,SEL_XMOTOR
                CMP     SK28STATUS,SK_ON
        IFEQ    IORX    XG_MOTOR,SEL_XMOTOR,SEL_XMOTOR
                CMP     SK29STATUS,SK_ON
        IFEQ    IORX    TX_MOTOR,SEL_XMOTOR,SEL_XMOTOR
                CMP     SK30STATUS,SK_ON
        IFEQ    IORX    TX1_MOTOR,SEL_XMOTOR,SEL_XMOTOR
                TST     SEL_XMOTOR
        IFNE    IORX    X_AXIS,SEL_AXES,SEL_AXES

;*** Y Axis installation enable
                EXEC    SK25ENA
        IFOV    JUMP    XYZ_INST.200
                MOVE    SK25STATUS,SK_ENA
;*** Y tandem motors enable
                CMP     1L,TANDYINST
        IFNE    MOVE    SK_OF,SK_ENA
                EXEC    SK31ENA
                EXEC    SK32ENA
                CMP     SK31STATUS,SK_ON
        IFEQ    IORX    YM_MOTOR,SEL_YMOTOR,SEL_YMOTOR
                CMP     SK32STATUS,SK_ON
        IFEQ    IORX    TY_MOTOR,SEL_YMOTOR,SEL_YMOTOR
                TST     SEL_YMOTOR
        IFNE    IORX    Y_AXIS,SEL_AXES,SEL_AXES

;*** Z Axis installation enable
                EXEC    SK26ENA
        IFOV    JUMP    XYZ_INST.300
                MOVE    SK26STATUS,SK_ENA
;*** Z tandem motors enable
                CMP     1L,TANDZINST
        IFNE    MOVE    SK_OF,SK_ENA
                EXEC    SK33ENA
                EXEC    SK34ENA
                CMP     SK33STATUS,SK_ON
        IFEQ    IORX    ZM_MOTOR,SEL_ZMOTOR,SEL_ZMOTOR
                CMP     SK34STATUS,SK_ON
        IFEQ    IORX    TZ_MOTOR,SEL_ZMOTOR,SEL_ZMOTOR
                TST     SEL_ZMOTOR
        IFNE    IORX    Z_AXIS,SEL_AXES,SEL_AXES

;*** Go to motor enable
                EXEC    X_INST
                EXEC    Y_INST
                EXEC    Z_INST

                TST     TANDXINST
        IFNE    JUMP    XYZ_INST.020
                TST     TANDYINST
        IFNE    JUMP    XYZ_INST.020
                TST     TANDZINST
        IFNE    JUMP    XYZ_INST.020
                TST     SEL_AXES
        IFNE    JUMP    XYZ_INST.020

                BCLR    MPRI2254
                BCLR    MPRI2255
                BCLR    MPRI2256
                BCLR    MHLDAXINST

                PEND

;*** Print message about axis on installation
XYZ_INST.020:   ANDX    X_AXIS,SEL_AXES,TMP.1
                TST     TMP.1
        IFEQ    JUMP    XYZ_INST.021
                ACL     MPRI2254
        IFEQ    DMSG    2254
                BSET    MPRI2254

XYZ_INST.021:   ANDX    Y_AXIS,SEL_AXES,TMP.1
                TST     TMP.1
        IFEQ    JUMP    XYZ_INST.022
                ACL     MPRI2255
        IFEQ    DMSG    2255
                BSET    MPRI2255

XYZ_INST.022:   ANDX    Z_AXIS,SEL_AXES,TMP.1
                TST     TMP.1
        IFEQ    JUMP    XYZ_INST.023
                ACL     MPRI2256
        IFEQ    DMSG    2256
                BSET    MPRI2256

;*** Hold on automatic execution
XYZ_INST.023:   ACL     MHLDAXINST      ; Hold message one time to print
                AND     MPRI2257 NG
        IFNE    DMSG    2257

                ACL     MDPRC           ; Procedure
                IOR     MPROGX          ; Part program
                IOR     MDZERO          ; Zero execution
        IFNE    BSET    MHLDAXINST      ; Hold automatic execution not allowed
        IFNE    BSET    MPRI2257        ; Message active

        IFEQ    BCLR    MHLDAXINST      ; Hold automatic execution not allowed
        IFEQ    BCLR    MPRI2257        ; Message clear

;*** Feed Limit
                MOVE    1000,F_LIN_VAL
                MOVE    100,F_ROT_VAL
                EXEC    FLIM_SET

                PEND

XYZ_INST.100:   CMP     SK24STATUS,SK_ON
        IFEQ    EXEC    X_AXIS_ST
                CMP     SK24STATUS,SK_OF
        IFEQ    EXEC    X_AXIS_RS
                PEND

XYZ_INST.200:   CMP     SK25STATUS,SK_ON
        IFEQ    EXEC    Y_AXIS_ST
                CMP     SK25STATUS,SK_OF
        IFEQ    EXEC    Y_AXIS_RS
                PEND

XYZ_INST.300:   CMP     SK26STATUS,SK_ON
        IFEQ    EXEC    Z_AXIS_ST
                CMP     SK26STATUS,SK_OF
        IFEQ    EXEC    Z_AXIS_RS
                PEND

XYZ_INST.OFF:   BCLR    MPRI2254
                BCLR    MPRI2255
                BCLR    MPRI2256
                BCLR    MPRI2257
                BCLR    MHLDAXINST
                STOP    XYZ_INST
                PEND
;*****************************************************************************
;               PROCESS RDYCOND - ELECTRICAL CABINET AIR COND. READY
;*****************************************************************************
; *** Option
RDYCOND.INI:    CMP     1,AC_MANAG      ;=1 Air conditior PLC management
        IFEQ    JUMP    RDYCOND.000
                CMP     3,AC_MANAG      ;=3 Air conditior PLC management
        IFEQ    JUMP    RDYCOND.000
                PEND

; *** Option
RDYCOND.000:    CMP     9,P000486      ;=-1 Ready not installed
        IFEQ    PEND

; *** Wait comand ON
                ACL     DUACEN
        IFEQ    PEND

; *** flags needed about message
                BCLR    MDPRTACRL
                BCLR    MDPRTACRR
                BCLR    MDPRTACRC
                BCLR    MDPRTACR4

; *** Wait transition ON safe time
                LOAD    RDYCOND,RDYCOND.010
                MOVE    10,TIME106       ;Max time to get ready
RDYCOND.010:    TST     TIME106
        IFNE    PEND

; *** loop process
RDYCOND.020:    LOAD    RDYCOND,RDYCOND.020

                CMP     1,P000486       ;=1 Ready installed on DIACRL  ( #1 installed )
        IFEQ    JUMP    RDYCOND.100

                CMP     4,P000486       ;=1 Ready installed on DIACRL  ( just message text change one installed )
        IFEQ    JUMP    RDYCOND.450

                CMP     2,P000486       ;=1 Ready installed on DIACRR  ( #2 installed )
        IFEQ    JUMP    RDYCOND.200

                CMP     3,P000486       ;=1 Ready installed on DIACRL DIACRR ( #1,#2 installed )
        IFEQ    JUMP    RDYCOND.040
               
                CMP     5,P000486       ;=1 Ready installed on DIACRL DIACRC DIACRR ( #1,#2,#3 installed )
        IFEQ    JUMP    RDYCOND.060
 
                CMP     6,P000486       ;=1 Ready installed on DIACRL DIACRC DIACRR DIACR4 ( #1,#2,#3,#4 installed )
        IFEQ    JUMP    RDYCOND.055
                JUMP    RDYCOND.500

;Ready installed on DIACRL DIACRR
RDYCOND.040:    ACL     MDRDYL     
        IFEQ    JUMP    RDYCOND.050     ;Even loops do the DIACRL control 
                BCLR    MDRDYL
                JUMP    RDYCOND.200     ;odd loops do the DIACRR control
                
RDYCOND.050:    BSET    MDRDYL
                JUMP    RDYCOND.100
                
;Ready installed on DIACRL DIACRC DIACRR DIACR4
RDYCOND.055:    ACL     MDRDYL   
        IFEQ    JUMP    RDYCOND.070     ;Even loops do the DIACRL control 
                ACL     MDRDYR
        IFEQ    JUMP    RDYCOND.080     ;odd loops do the DIACRR control
                ACL     MDRDYC
        IFEQ    JUMP    RDYCOND.085     ;odd loops do the DIACRC control
                JUMP    RDYCOND.095     ;odd loops do the DIACR4 control

;Ready installed on DIACRL DIACRC and DIACRR
RDYCOND.060:    ACL     MDRDYL   
        IFEQ    JUMP    RDYCOND.070     ;Even loops do the DIACRL control 
                ACL     MDRDYR
        IFEQ    JUMP    RDYCOND.080     ;odd loops do the DIACRR control
                JUMP    RDYCOND.090     ;odd loops do the DIACRC control
              
RDYCOND.070:    BSET    MDRDYL
                JUMP    RDYCOND.100

RDYCOND.080:    BSET    MDRDYR
                JUMP    RDYCOND.200

RDYCOND.085:    BSET    MDRDYC
                JUMP    RDYCOND.300

RDYCOND.090:    BCLR    MDRDYL
                BCLR    MDRDYR
                JUMP    RDYCOND.300

RDYCOND.095:    BCLR    MDRDYL
                BCLR    MDRDYR
                BCLR    MDRDYC
                JUMP    RDYCOND.400

; *** Ready about DIACRL
RDYCOND.100:    ACL     DUACEN
        IFEQ    JUMP    RDYCOND.500
                ACL     MDACRL
        IFEQ    JUMP    RDYCOND.120

; *** Ready message
                ACL     MDPRTACRL
        IFEQ    DMSG    2274
                BSET    MDPRTACRL
                BCLR    MPRI2276
                PEND

; *** Ready alarm
RDYCOND.120:    ACL     MPRI2276
        IFEQ    DMSG    2276
                BSET    MPRI2276
                BCLR    MDPRTACRL
                PEND

; *** Ready about DIACRR
RDYCOND.200:    ACL     DUACEN
        IFEQ    JUMP    RDYCOND.500
                ACL     MDACRR
        IFEQ    JUMP    RDYCOND.220

; *** Ready message
                ACL     MDPRTACRR
        IFEQ    DMSG    2275
                BSET    MDPRTACRR
                BCLR    MPRI2277
                PEND

; *** Ready alarm
RDYCOND.220:    ACL     MPRI2277
        IFEQ    DMSG    2277
                BSET    MPRI2277
                BCLR    MDPRTACRR
                PEND

; *** Ready about DIACRC
RDYCOND.300:    ACL     DUACEN
        IFEQ    JUMP    RDYCOND.500
                ACL     MDACRC
        IFEQ    JUMP    RDYCOND.320

; *** Ready message
                ACL     MDPRTACRC
        IFEQ    DMSG    2382            ;ELECTRICAL CABINET CONDITIONER #3 READY
                BSET    MDPRTACRC
                BCLR    MPRI2383        ;WR ELECTRICAL CABINET CONDITIONER #3 NOT READY
                PEND

; *** Ready alarm
RDYCOND.320:    ACL     MPRI2383
        IFEQ    DMSG    2383
                BSET    MPRI2383
                BCLR    MDPRTACRC
                PEND

; *** Ready about DIACR4
RDYCOND.400:    ACL     DUACEN
        IFEQ    JUMP    RDYCOND.500
                ACL     MDACR4
        IFEQ    JUMP    RDYCOND.420

; *** Ready message
                ACL     MDPRTACR4
        IFEQ    DMSG    2665            ;ELECTRICAL CABINET CONDITIONER #4 READY
                BSET    MDPRTACR4
                BCLR    MPRI2666
                PEND

; *** Ready alarm
RDYCOND.420:    ACL     MPRI2666
        IFEQ    DMSG    2666
                BSET    MPRI2666
                BCLR    MDPRTACR4
                PEND

; *** Ready about DIACRL ( JUST MESSAGE TEXT CHANGE FOR ONE INSTALLED )
RDYCOND.450:    ACL     DUACEN
        IFEQ    JUMP    RDYCOND.500
                ACL     MDACRL
        IFEQ    JUMP    RDYCOND.470

; *** Ready message
                ACL     MDPRTACRL
        IFEQ    DMSG    2278
                BSET    MDPRTACRL
                BCLR    MPRI2279
                PEND

; *** Ready alarm
RDYCOND.470:    ACL     MPRI2279
        IFEQ    DMSG    2279
                BSET    MPRI2279
                BCLR    MDPRTACRL
                PEND

; *** restart
RDYCOND.500:    BCLR    MPRI2276
                BCLR    MPRI2277
                BCLR    MPRI2279
                BCLR    MPRI2666
                LOAD    RDYCOND,RDYCOND.INI
                PEND

;
;**********************************************************************
;       XMCNT - XM TRANSDUCER SELECTION ON MOTOR OR EXTERNAL AUCREG3 98
;**********************************************************************
XMCNT_INI:      PAUSE   5
                READP   "FDUACTIVESET XM",SETXM_ACT     ;LEGGO IL SET ATTIVO IN QUESTO MOMENTO DAL PARAMETRO CNC
                MOVE    SETXM_ACT,RSETXM_ACT
                READP   "AUCREG3 98",REG3_98ACT         ;LEGGO AUCRE3 98 ACTUAL
                PAUSE   5
                CMP     REG3_98ACT,RSETXM_OLD
        IFEQ    BCLR    XMCNTON
                CMP     REG3_98ACT,RSETXM_OLD
        IFEQ    JUMP    XMCNT100
                ACL     YMCNTON                         ;REQUEST ALREADY ACTIVE ON OTHER AXIS
                IOR     ZMCNTON
        IFNE    JUMP    XMCNT100
                BSET    XMCNTON

;TESTO SE IL VALORE DI AUCREG3 E' =0 O =1 ALTRIMENTI NON LO ACCCETTO E MESSAGGIO DI ERRORE
                ACL     ID24A
        IFNE    JUMP    XMCNT020
                CMP     0L,REG3_98ACT
        IFEQ    JUMP    XMCNT005
                CMP     1L,REG3_98ACT
        IFEQ    JUMP    XMCNT005

;VALORI IMPOSTATI IN AUCREG3 NON AMMESSI
                DMSG    1508            ;PARAMETER SETTING VALUE OUT OF RANGE
                WRITEP  REG3_98OLD,"AUCREG3 98"      ;RIMETTO IL VALORE OLD DENTRO AUCREG3 98
                PAUSE   5
                JUMP    XMCNT100

;COMANDO IL NUOVO SET IN FUNZIONE DEL VALORE DI AUCREG3 98
XMCNT005:       PAUSE   5
                MOVE    REG3_98ACT,SETXM_ACT
                WRITEP  SETXM_ACT,"FDUSET XM"           ;NEW SET VALUE
                MOVE    REG3_98ACT,SETXG_ACT
                WRITEP  SETXG_ACT,"FDUSET XG"           ;NEW SET VALUE
                MOVE    0L,SUBXM_ACT
                WRITEP  SUBXM_ACT,"FDUSUBSET XM"
                MOVE    0L,SUBXG_ACT
                WRITEP  SUBXG_ACT,"FDUSUBSET XG"
                PAUSE   5
                COMAND  SETXMON
                COMAND  SETXGON

                PAUSE   50
                EXEC    AX_PR
                PAUSE   50
                WRITEP  1B,"FDURESET XM"

                PAUSE   50
                WRITEP  1B,"FDURESET XG"
                LOAD    XMCNT,XMCNT006
                PEND

XMCNT006:       READP   "FDUDSPSTATE XM",XM_STATE
                CMP     0L,XM_STATE                     ;WAITING DRIVE IN FASE2
        IFLE    PEND
                LOAD    XMCNT,XMCNT007
                PEND

XMCNT007:       READP   "FDUDSPSTATE XM",XM_STATE
                CMP     2L,XM_STATE                     ;WAITING DRIVE IN FASE2
        IFGT    PEND
                MOVE    REG3_98ACT,RSETXM_ACT
                MOVE    REG3_98ACT,REG3_98OLD
                MOVE    REG3_98ACT,RSETXM_OLD
                CMP     0L,RSETXM_ACT                    ;XM STO CONTANDO SUL TRASDUTTORE ESTERNO
        IFEQ    DMSG    1496                             ;XM STO CONTANDO SUL TRASD. ESTERNO
                CMP     1L,RSETXM_ACT
        IFEQ    DMSG    1497                             ;XM STO CONTANDO SUL MOTORE

                WRITEP  REG3_98ACT,"AUCREG3 98"
                BSET    MSVREG
                LOAD    XMCNT,XMCNT008

XMCNT008:       ACL     MSVREG
        IFNE    PEND
                JUMP    XMCNT100

;***    ERROR PROGRAM OR STATUS MACHINE
XMCNT020:       DMSG    913             ; "EM AXS: CNC AUTOMATIC MODE NOT DISABLED
                WRITEP  REG3_98OLD,"AUCREG3 98"      ;RIMETTO IL VALORE OLD DENTRO gAUCREG3 99
                JUMP    XMCNT100

XMCNT100:       LOAD    XMCNT,XMCNT_INI
                PEND

;**********************************************************************
;       YMCNT - YM TRANSDUCER SELECTION ON MOTOR OR EXTERNAL AUCREG3 97
;**********************************************************************
YMCNT_INI:      PAUSE   5
                READP   "FDUACTIVESET YM",SETYM_ACT     ;LEGGO IL SET ATTIVO IN QUESTO MOMENTO DAL PARAMETRO CNC
                MOVE    SETYM_ACT,RSETYM_ACT
                READP   "AUCREG3 97",REG3_97ACT         ;LEGGO AUCRE3 97 ACTUAL
                PAUSE   5
                CMP     REG3_97ACT,RSETYM_OLD
        IFEQ    BCLR    YMCNTON
                CMP     REG3_97ACT,RSETYM_OLD
        IFEQ    JUMP    YMCNT100
                ACL     XMCNTON                         ;REQUEST ALREADY ACTIVE ON OTHER AXIS
                IOR     ZMCNTON
        IFNE    JUMP    YMCNT100

                BSET    YMCNTON

;TESTO SE IL VALORE DI AUCREG3 E' =0 O =1 ALTRIMENTI NON LO ACCCETTO E MESSAGGIO DI ERRORE
                ACL     ID24A
        IFNE    JUMP    YMCNT020
                CMP     0L,REG3_97ACT
        IFEQ    JUMP    YMCNT005
                CMP     1L,REG3_97ACT
        IFEQ    JUMP    YMCNT005

;VALORI IMPOSTATI IN AUCREG3 NON AMMESSI
                DMSG    1508            ;PARAMETER SETTING VALUE OUT OF RANGE
                WRITEP  REG3_97OLD,"AUCREG3 97"      ;RIMETTO IL VALORE OLD DENTRO AUCREG3 97
                PAUSE   5
                JUMP    YMCNT100

;COMANDO IL NUOVO SET IN FUNZIONE DEL VALORE DI AUCREG3 97
YMCNT005:       PAUSE   5
                MOVE    REG3_97ACT,SETYM_ACT
                WRITEP  SETYM_ACT,"FDUSET YM"           ;NEW SET VALUE
                MOVE    0L,SUBYM_ACT
                WRITEP  SUBYM_ACT,"FDUSUBSET YM"
                PAUSE   5
                COMAND  SETYMON

                PAUSE   50
                EXEC    AY_PR
                PAUSE   50
                WRITEP  1B,"FDURESET YM"


                LOAD    YMCNT,YMCNT006
                PEND

YMCNT006:       READP   "FDUDSPSTATE YM",YM_STATE
                CMP     0L,YM_STATE                     ;WAITING DRIVE IN FASE2
        IFLE    PEND
                LOAD    YMCNT,YMCNT007
                PEND

YMCNT007:       READP   "FDUDSPSTATE YM",YM_STATE
                CMP     2L,YM_STATE                     ;WAITING DRIVE IN FASE2
        IFGT    PEND
                MOVE    REG3_97ACT,RSETYM_ACT
                MOVE    REG3_97ACT,REG3_97OLD
                MOVE    REG3_97ACT,RSETYM_OLD
                CMP     0L,RSETYM_ACT
        IFEQ    DMSG    1498
                CMP     1L,RSETYM_ACT
        IFEQ    DMSG    1499                             ;YM STO CONTANDO SUL MOTORE

                WRITEP  REG3_97ACT,"AUCREG3 97"
                BSET    MSVREG
                LOAD    YMCNT,YMCNT008

YMCNT008:       ACL     MSVREG
        IFNE    PEND
                JUMP    YMCNT100

;***    ERROR PROGRAM OR STATUS MACHINE
YMCNT020:       DMSG    913                             ;"EM AXS: CNC AUTOMATIC MODE NOT DISABLED
                WRITEP  REG3_97OLD,"AUCREG3 97"      ;RIMETTO IL VALORE OLD DENTRO AUCREG3 97
                JUMP    YMCNT100

YMCNT100:       LOAD    YMCNT,YMCNT_INI
                PEND

;**********************************************************************
;       ZMCNT - ZM TRANSDUCER SELECTION ON MOTOR OR EXTERNAL AUCREG3 96
;**********************************************************************
ZMCNT_INI:      PAUSE   5
                READP   "FDUACTIVESET ZM",SETZM_ACT     ;LEGGO IL SET ATTIVO IN QUESTO MOMENTO DAL PARAMETRO CNC
                MOVE    SETZM_ACT,RSETZM_ACT
                READP   "AUCREG3 96",REG3_96ACT         ;LEGGO AUCRE3 96 ACTUAL
                PAUSE   5
                CMP     REG3_96ACT,RSETZM_OLD
        IFEQ    BCLR    ZMCNTON
                CMP     REG3_96ACT,RSETZM_OLD
        IFEQ    JUMP    ZMCNT100
                ACL     XMCNTON                         ;REQUEST ALREADY ACTIVE ON OTHER AXIS
                IOR     YMCNTON
        IFNE    JUMP    ZMCNT100

                BSET    ZMCNTON

;TESTO SE IL VALORE DI AUCREG3 E' =0 O =1 ALTRIMENTI NON LO ACCCETTO E MESSAGGIO DI ERRORE
                ACL     ID24A
        IFNE    JUMP    ZMCNT020
                CMP     0L,REG3_96ACT
        IFEQ    JUMP    ZMCNT005
                CMP     1L,REG3_96ACT
        IFEQ    JUMP    ZMCNT005

;VALORI IMPOSTATI IN AUCREG3 NON AMMESSI
                DMSG    1508            ;PARAMETER SETTING VALUE OUT OF RANGE
                WRITEP  REG3_96OLD,"AUCREG3 96"      ;RIMETTO IL VALORE OLD DENTRO AUCREG3 96
                PAUSE   5
                JUMP    ZMCNT100

;COMANDO IL NUOVO SET IN FUNZIONE DEL VALORE DI AUCREG3 96
ZMCNT005:       PAUSE   5
                MOVE    REG3_96ACT,SETZM_ACT
                WRITEP  SETZM_ACT,"FDUSET ZM"           ;NEW SET VALUE
                MOVE    0L,SUBZM_ACT
                WRITEP  SUBZM_ACT,"FDUSUBSET ZM"
                PAUSE   5
                COMAND  SETZMON

                PAUSE   50
                EXEC    AZ_PR
                PAUSE   50
                WRITEP  1B,"FDURESET ZM"


                LOAD    ZMCNT,ZMCNT006
                PEND

ZMCNT006:       READP   "FDUDSPSTATE ZM",ZM_STATE
                CMP     0L,ZM_STATE                     ;WAITING DRIVE IN FASE <=0
        IFLE    PEND
                LOAD    ZMCNT,ZMCNT007
                PEND

ZMCNT007:       READP   "FDUDSPSTATE ZM",ZM_STATE
                CMP     2L,ZM_STATE                     ;WAITING DRIVE IN FASE2
        IFGT    PEND
                MOVE    REG3_96ACT,RSETZM_ACT
                MOVE    REG3_96ACT,REG3_96OLD
                MOVE    SETZM_ACT,RSETZM_ACT
                MOVE    RSETZM_ACT,RSETZM_OLD
                CMP     0L,RSETZM_ACT                    ;ZM STO CONTANDO SUL TRASDUTTORE ESTERNO
        IFEQ    DMSG    1500
                CMP     1L,RSETZM_ACT
        IFEQ    DMSG    1501                             ;ZM STO CONTANDO SUL MOTORE
                WRITEP  REG3_96ACT,"AUCREG3 96"
                BSET    MSVREG
                LOAD    ZMCNT,ZMCNT008

ZMCNT008:       ACL     MSVREG
        IFNE    PEND
                JUMP    ZMCNT100

;***    ERROR PROGRAM OR STATUS MACHINE
ZMCNT020:       DMSG    913             ; "EM AXS: CNC AUTOMATIC MODE NOT DISABLED
                WRITEP  REG3_96OLD,"AUCREG3 96"      ;RIMETTO IL VALORE OLD DENTRO AUCREG3 96
                JUMP    ZMCNT100

ZMCNT100:       LOAD    ZMCNT,ZMCNT_INI
                PEND

;   **************************************************************************
;               PROCESS PALPB - PALLET LOCK/UNLOCK PB MANAGEMENT
;   **************************************************************************
PALPB.INI:      CMP     3L,P000610              ;=3 "Pneumatic"
        IFEQ    JUMP    PALPB.010
                PEND

PALPB.010:      ACL     MDPALLCK
                IOR     MDPALUNLK
        IFNE    PEND
                ACL     DIPTOC
        IFEQ    PEND
                LOAD    PALPB,PALPB.020

PALPB.020:      ACL     DIPTOC
        IFNE    PEND
		BNEG	MDPALPB

;   *** Door closed just lock
      		ACL     MDPOA2
        IFEQ    JUMP	PALPB.050
                BSET    MDPALPB
        	BSET    MDPALLCK
                LOAD    PALPB,PALPB.INI
                PEND

;   *** Door opened to lock/unlock
PALPB.050:	ACL	MDPALPB
	IFNE	BSET    MDPALLCK
	IFEQ	BSET	MDPALUNLK
                LOAD    PALPB,PALPB.INI
                PEND

PALPB.OFF:      STOP    PALPB
                PEND

;   **************************************************************************
;               PROCESS PALLCK2 - PALLET LOCK/UNLOCK PNEUMATIC MANAGEMENT
;   **************************************************************************
PALLCK2.INI:    CMP     3L,P000610              ;=3 "Pneumatic"
        IFEQ    JUMP    PALLCK2.010
                PEND

PALLCK2.010:    ACL     MBDIAPPU
        IFEQ    BSET    MDPALLCK
        IFNE    BSET    MDPALUNLK
                LOAD    PALLCK2,PALLCK2.050
                PEND

PALLCK2.050:    ACL     MDPALLCK                ;Richiesta bloccaggio
        IFNE    JUMP    PALLCK2.070
                ACL     MDPALUNLK               ;Richiesta sbloccaggio
        IFNE    JUMP    PALLCK2.100
                PEND

;***    LOCK
PALLCK2.070:    BCLR    MDPAL_UNLK              ;Flag locked Check
                BFLASH  DULTOC,25
                BCLR    DUAPPU                  ;E.V. unlocking
                DMSG    1669                    ;LOCKING ELECTROVALVE ENABLED
                MOVE    P000611,TIME151
                LOAD    PALLCK2,PALLCK2.080

PALLCK2.080:    ACL     MBDIAPPU NG             ;Locking circuit over lock pressure level
        IFNE    JUMP    PALLCK2.090
                TST     TIME151
        IFNE    PEND
                JUMP    PALLCK2.150             ;Emergency

PALLCK2.090:    ACL     MBDIAPPU NG             ;Locking circuit over lock pressure level
        IFEQ    PEND
                BSET    DULTOC
                DMSG    643                     ;LOCKED
                JUMP    PALLCK2.180             ;Exit

;***    UNLOCK
PALLCK2.100:    BCLR    MDPAL_LCK               ;Flag locked Check
                BFLASH  DULTOC,25
                BSET    DUAPPU                  ;E.V. unLocking
                DMSG    1668                    ;ELECTROVALVE ENABLED
                MOVE    P000611,TIME151
                LOAD    PALLCK2,PALLCK2.110

PALLCK2.110:    ACL     MBDIAPPU                ;Unlocking circuit over lock pressure level
        IFNE    JUMP    PALLCK2.120
                TST     TIME151
        IFNE    PEND
                JUMP    PALLCK2.160             ;Emergency

PALLCK2.120:    ACL     MBDIAPPU                ;Unlocking circuit over lock pressure level
        IFEQ    PEND
                BCLR    DULTOC
                DMSG    644                     ;UNLOCKED
                JUMP    PALLCK2.182             ;Exit

;***    EMERGENCY
PALLCK2.150:    BCLR    MDPALLCK
                BSET    MH_PALLET
                DMSG    662                     ;LOCKING TIME OUT
                LOAD    PALLCK2,PALLCK2.050
                PEND

;***    EMERGENCY
PALLCK2.160:    BCLR    MDPALUNLK
                BSET    MH_PALLET
                DMSG    663                     ;UNLOCKING TIME OUT
                LOAD    PALLCK2,PALLCK2.050
                PEND

;***    EXIT
PALLCK2.180:    BCLR    MDPAL_UNLK              ;Flag unlocked  Check
                BSET    MDPAL_LCK               ;Flag locked Check
                BCLR    MDPALUNLK               ;Request unlock
                BCLR    MDPALLCK                ;Request lock
                BCLR    MH_PALLET
                LOAD    PALLCK2,PALLCK2.050
                PEND

PALLCK2.182:    BCLR    MDPAL_LCK               ;Flag locked    Check
                BSET    MDPAL_UNLK              ;Flag unlocked  Check
                BCLR    MDPALUNLK               ;Request unlock
                BCLR    MDPALLCK                ;Request lock
                BCLR    MH_PALLET
                LOAD    PALLCK2,PALLCK2.050
                PEND

PALLCK2.OFF:    BCLR    MDPAL_LCK               ;Flag locked Check
                BCLR    MDPAL_UNLK              ;Flag locked Check
                BCLR    MH_PALLET
                BCLR    MDPALUNLK               ;Request unlock
                BCLR    MDPALLCK                ;Request lock
                STOP    PALLCK2
                PEND

;   **************************************************************************
;               PROCESS PALCKLCK - PALLET CHECK LOCKED TO RUN
;   **************************************************************************
PALCKLCK.INI:   CMP     3L,P000610              ;=3 "Pneumatic"
        IFEQ    JUMP    PALCKLCK.005
                PEND

PALCKLCK.005:   CMP     1L,P000614              ;=1 "pallet lock to run"
        IFNE    PEND

                ACL     UDSMO
                IOR     UDSMA
                AND     MDPAL_LCK NG
        IFNE    JUMP    PALCKLCK.050


PALCKLCK.008:

PALCKLCK.010:   BCLR    MPRI660
                LOAD    PALCKLCK,PALCKLCK.INI
                PEND

PALCKLCK.050:   DMSG    660
                BSET    MPRI660
                LOAD    PALCKLCK,PALCKLCK.060

PALCKLCK.060:   BSET    MH_PALLET2
                ACL     IDPSB
                IOR     DIPMSG
        IFEQ    PEND
                LOAD    PALCKLCK,PALCKLCK.070

PALCKLCK.070:   BSET    MH_PALLET2
                ACL     IDPSB
                IOR     DIPMSG
        IFNE    PEND
                LOAD    PALCKLCK,PALCKLCK.INI
                PEND

PALCKLCK.OFF:   BCLR    MPRI660
                BCLR    MH_PALLET2
                STOP    PALCKLCK
                PEND

;*****************************************************************************
;       M AUCOL DEFINITION
; e.g.  M06,M19,MCK defined as AUCOL M function
;       MI.AUC: .DEFM   M06,INITIAL     ; .DEFM (M CODE=entry-point),(execution)
;               .DEFM   M19,INITIAL
;       MAUEND: .DEFM   MCK,FINAL

MI.AUC: .DEFM   M02,INITIAL             ; M02 - NIGHT MANAGEMENT
        .DEFM   M100,INITIAL            ; MANUAL LUBRICATION (MLU)
        .DEFM   M328,INITIAL            ; SET ASPIRATION
        .DEFM   M329,INITIAL            ; RESET ASPIRATION
        .DEFM   M104,INITIAL            ; SET CLEANING (MSC)
        .DEFM   M105,INITIAL            ; RESET CLEANING (MRC)
        .DEFM   M125,INITIAL            ; WORKING TABLE LIGHT ENABLED
        .DEFM   M126,INITIAL            ; WORKING TABLE LIGHT DISABLED
        .DEFM   M137,INITIAL            ; SET ACCU-LUBE SYSTEM (MEL)
        .DEFM   M138,INITIAL            ; RESET ACCU LUBE SYSTEM (MDL)
        .DEFM   M155,INITIAL            ; LOOK AHEAD PARAMETER - FINISHING
        .DEFM   M156,INITIAL            ; LOOK AHEAD PARAMETER - ROUGHING
        .DEFM   M157,INITIAL            ; LOOK AHEAD PARAMETER - CUSTOMER #1
        .DEFM   M158,INITIAL            ; LOOK AHEAD PARAMETER - CUSTOMER #2
        .DEFM   M159,INITIAL            ; LOOK AHEAD PARAMETER - CUSTOMER #3
        .DEFM   M167,INITIAL            ; SET AIR COOLANT TOOL
        .DEFM   M168,INITIAL            ; CLEAR AIR COOLANT TOOL
        .DEFM   M178,INITIAL            ; REDUCED SPEED FOR RAPID TRAVERSE
        .DEFM   M179,INITIAL            ; STANDARD SPEED FOR RAPID TRAVERSE
        .DEFM   M242,INITIAL            ; Z AXES SAFETY POSITIONING
        .DEFM   M307,INITIAL            ; OPEN AUTOMATIC ROOF ON WORKING AREA
        .DEFM   M308,INITIAL            ; CLOSE AUTOMATIC ROOF ON WORKING AREA
        .DEFM   M334,INITIAL            ; OPEN AUTOMATIC ROOF X+ ON WORKING AREA
        .DEFM   M335,INITIAL            ; CLOSE AUTOMATIC ROOF X+ ON WORKING AREA
        .DEFM   M336,INITIAL            ; OPEN AUTOMATIC ROOF X- ON WORKING AREA
        .DEFM   M337,INITIAL            ; CLOSE AUTOMATIC ROOF X- ON WORKING AREA

        .DEFM   M417,INITIAL            ; Customer airline actvation
        .DEFM   M418,INITIAL            ; Customer airline disactvation
        .DEFM   M610,INITIAL            ;CLEARING PARTIAL MACHINE TIMERS STATUS
MAUEND:

;*****************************************************************************
;       PROGRAMMING BLOCKS DEFINED BY DEFBLK INSTRUCTION
; e.g.  .DEFBLK POS1,< G00 X-500. Y-1000. >
;       warning! If you insert the blocks from PLCBLK.SET leave the room
;       necessary for the text
; e.g.  .DEFBLK POS1,<                                             >

        .DEFBLK POSZ0,<                 >       ;Z MAX UP
	.DEFBLK G71,<G71>
	.DEFBLK G70,<G70>
	.DEFBLK SAVE,<DPSAVE>
        .DEFBLK POSZRFOPE,<                                >    ;Z POSITION TO SEARCH ROOF OPENED
        .DEFBLK POSXYRFOPE,<                               >    ;XY POSITION TO SEARCH ROOF OPENED
        .DEFBLK POSZRFCLO,<                                >    ;Z POSITION TO SEARCH ROOF CLOSED
        .DEFBLK POSXYRFCLO,<                               >   ;XY POSITION TO SEARCH ROOF CLOSED

        .DEFBLK ZPOSROOF,<                                >    ;Z POSITION FOR ROOF OPEN/CLOSE
        .DEFBLK XPPOSCART,<                               >    ;X+ ROOF - AXIS POSITIONED TO CARTER
        .DEFBLK XPPOSNEAR,<                               >    ;X+ ROOF - AXIS POSITIONED NEAR  TO CARTER
        .DEFBLK XNPOSCART,<                               >    ;X- ROOF - AXIS POSITIONED TO CARTER
        .DEFBLK XNPOSNEAR,<                               >    ;X- ROOF - AXIS POSITIONED NEAR TO CARTER
        .DEFBLK SINGON,<MDCNC SA>
        .DEFBLK SINGOF,<MDCNC AV>

        .DEFBLK SETXMON,<FDUACTIVATESS XM = ON>
        .DEFBLK SETYMON,<FDUACTIVATESS YM = ON>
        .DEFBLK SETZMON,<FDUACTIVATESS ZM = ON>
        .DEFBLK SETXGON,<FDUACTIVATESS XG = ON>
        .DEFBLK SETYGON,<FDUACTIVATESS YG = ON>
        .DEFBLK SETZGON,<FDUACTIVATESS ZG = ON>

        .DEFBLK RESETXMON,<FDURESET XM = ON>
        .DEFBLK RESETYMON,<FDURESET YM = ON>
        .DEFBLK RESETZMON,<FDURESET ZM = ON>
        .DEFBLK RESETXGON,<FDURESET XG = ON>
        .DEFBLK RESETYGON,<FDURESET YG = ON>
        .DEFBLK RESETZGON,<FDURESET ZG = ON>

        .DEFBLK M155_GCODE,<G305         >
        .DEFBLK M156_GCODE,<G306         >
        .DEFBLK M157_GCODE,<G307         >
        .DEFBLK M158_GCODE,<G308         >
        .DEFBLK M159_GCODE,<G309         >

;*****************************************************************************
;
;Logic:
PLCVER: .ASCII  "PLC#01 SL10/DG-098 V4.005.aMod                    "
        .BYTE EOBC
;Author:                Fidia S.p.A.
;Data:                  08.09.2015
;
;*****************************************************************************
;
;*****************************************************************************
;       DEBUG MESSAGES
;*****************************************************************************
MSGDBG1:.ASCII  "DIUTLP NOT REACHED - RETRY HYDRAULIC UNIT         "
        .BYTE EOBC

;*****************************************************************************
;       OTHERS BLOCKS
; e.g.  POSXYZ: .ASCII  /M05 G00 X-212.613 Y-0.561 Z24.388/
; e.g.          .BYTE   EOBC            ; end of block

POSVIR: .ASCII  /                  /
        .BYTE   EOBC

POSTCP: .ASCII  /                  /
        .BYTE   EOBC

POSROT: .ASCII  /                  /
        .BYTE   EOBC

POSG95: .ASCII  /G95/                   ; VIRCAN OF
        .BYTE   EOBC

POSG97: .ASCII  /G97/                   ; RTCP OF
        .BYTE   EOBC

POG194: .ASCII  /G194/                  ; TCS ON
        .BYTE   EOBC

POG195: .ASCII  /G195/                  ; TCS OF
        .BYTE   EOBC

POG197: .ASCII  /G197/                  ; ROTO OF
        .BYTE   EOBC


G73Z_1: .ASCII /G73/
G73Z_2: .ASCII /                  /       ;X AXIS DATA
G73Z_3: .ASCII /                  /       ;Y AXIS DATA
G73Z_4: .ASCII /                  /       ;Z AXIS DATA
G73Z_9: .ASCII /R-700. E20./              ;
G73Z_10: .ASCII /DX0.DY0.DZ1./            ;VECTOR
        .BYTE   EOBC                      ;end of block

G54_Z:  .ASCII /G54O1Z                /   ;SET O1 Z
	.BYTE	EOBC

G73X_M_1: .ASCII /G73/
G73X_M_2: .ASCII /                  /       ;X AXIS DATA
G73X_M_3: .ASCII /                  /       ;Y AXIS DATA
G73X_M_4: .ASCII /                  /       ;Z AXIS DATA
G73X_M_9: .ASCII /R-700. E10./              ;
G73X_M_10: .ASCII /DX90.DY0.DZ0./           ;VECTOR
        .BYTE   EOBC                        ;end of block

G54X_M:   .ASCII /G54O1X                /     ;SET O1 X MINUS
          .BYTE   EOBC
G73X_P_1: .ASCII /G73/
G73X_P_2: .ASCII /                  /       ;X AXIS DATA
G73X_P_3: .ASCII /                  /       ;Y AXIS DATA
G73X_P_4: .ASCII /                  /       ;Z AXIS DATA
G73X_P_9: .ASCII /R-700. E10./              ;
G73X_P_10: .ASCII /DX-90.DY0.DZ0./          ;VECTOR
        .BYTE   EOBC                        ;end of block

G54X_P:   .ASCII /G54O1X                /     ;SET O1 X PLUS
          .BYTE   EOBC

G73Y_M_1: .ASCII /G73/
G73Y_M_2: .ASCII /                  /       ;X AXIS DATA
G73Y_M_3: .ASCII /                  /       ;Y AXIS DATA
G73Y_M_4: .ASCII /                  /       ;Z AXIS DATA
G73Y_M_9: .ASCII /R-700. E10./              ;
G73Y_M_10: .ASCII /DX0.DY90.DZ0./           ;VECTOR
        .BYTE   EOBC                        ;end of block

G54Y_M:   .ASCII /G54O1Y                /     ;SET O1 X PLUS
          .BYTE   EOBC


G73Y_P_1: .ASCII /G73/
G73Y_P_2: .ASCII /                  /       ;X AXIS DATA
G73Y_P_3: .ASCII /                  /       ;Y AXIS DATA
G73Y_P_4: .ASCII /                  /       ;Z AXIS DATA
G73Y_P_9: .ASCII /R-700. E10./              ;
G73Y_P_10: .ASCII /DX0.DY-90.DZ0./          ;VECTOR
        .BYTE   EOBC                        ;end of block

G54Y_P:   .ASCII /G54O1Y                /     ;SET O1 X PLUS
          .BYTE   EOBC

;*****************************************************************************
;       TEXT OF AUCOL MESSAGES
; e.g.  PLC031:  .ASCIZ /The maximum length of aucol message is 60 characters/
;       warning! Messagge from 1 to the highest message used must be defined
;       warning! If you insert messages from PLCBLK.SET leave the room
;       necessary for the text
; e.g.  PLC031: .ASCIZ  /                                                    /

PLC001: .ASCIZ  /                                                           /
PLC002: .ASCIZ  /                                                           /
PLC003: .ASCIZ  /                                                           /
PLC004: .ASCIZ  /                                                           /
PLC005: .ASCIZ  /                                                           /
PLC006: .ASCIZ  /                                                           /
PLC007: .ASCIZ  /                                                           /
PLC008: .ASCIZ  /                                                           /
PLC009: .ASCIZ  /                                                           /
PLC010: .ASCIZ  /                                                           /
PLC011: .ASCIZ  /                                                           /
PLC012: .ASCIZ  /                                                           /
PLC013: .ASCIZ  /                                                           /
PLC014: .ASCIZ  /                                                           /
PLC015: .ASCIZ  /                                                           /
PLC016: .ASCIZ  /                                                           /
PLC017: .ASCIZ  /                                                           /
PLC018: .ASCIZ  /                                                           /
PLC019: .ASCIZ  /                                                           /
PLC020: .ASCIZ  /                                                           /
PLC021: .ASCIZ  /                                                           /
PLC022: .ASCIZ  /                                                           /
PLC023: .ASCIZ  /                                                           /
PLC024: .ASCIZ  /                                                           /
PLC025: .ASCIZ  /                                                           /
PLC026: .ASCIZ  /                                                           /
PLC027: .ASCIZ  /                                                           /
PLC028: .ASCIZ  /                                                           /
PLC029: .ASCIZ  /                                                           /
PLC030: .ASCIZ  /                                                           /
PLC031: .ASCIZ  /                                                           /
PLC032: .ASCIZ  /                                                           /
PLC033: .ASCIZ  /                                                           /
PLC034: .ASCIZ  /                                                           /
PLC035: .ASCIZ  /                                                           /
PLC036: .ASCIZ  /                                                           /
PLC037: .ASCIZ  /                                                           /
PLC038: .ASCIZ  /                                                           /
PLC039: .ASCIZ  /                                                           /
PLC040: .ASCIZ  /                                                           /
PLC041: .ASCIZ  /                                                           /
PLC042: .ASCIZ  /                                                           /
PLC043: .ASCIZ  /                                                           /
PLC044: .ASCIZ  /                                                           /
PLC045: .ASCIZ  /                                                           /
PLC046: .ASCIZ  /                                                           /
PLC047: .ASCIZ  /                                                           /
PLC048: .ASCIZ  /                                                           /
PLC049: .ASCIZ  /                                                           /
PLC050: .ASCIZ  /                                                           /
PLC051: .ASCIZ  /                                                           /
PLC052: .ASCIZ  /                                                           /
PLC053: .ASCIZ  /                                                           /
PLC054: .ASCIZ  /                                                           /
PLC055: .ASCIZ  /                                                           /
PLC056: .ASCIZ  /                                                           /
PLC057: .ASCIZ  /                                                           /
PLC058: .ASCIZ  /                                                           /
PLC059: .ASCIZ  /                                                           /
PLC060: .ASCIZ  /                                                           /
PLC061: .ASCIZ  /                                                           /
PLC062: .ASCIZ  /                                                           /
PLC063: .ASCIZ  /                                                           /
PLC064: .ASCIZ  /                                                           /
PLC065: .ASCIZ  /                                                           /
PLC066: .ASCIZ  /                                                           /
PLC067: .ASCIZ  /                                                           /
PLC068: .ASCIZ  /                                                           /
PLC069: .ASCIZ  /                                                           /
PLC070: .ASCIZ  /                                                           /
PLC071: .ASCIZ  /                                                           /
PLC072: .ASCIZ  /                                                           /
PLC073: .ASCIZ  /                                                           /
PLC074: .ASCIZ  /                                                           /
PLC075: .ASCIZ  /                                                           /
PLC076: .ASCIZ  /                                                           /
PLC077: .ASCIZ  /                                                           /
PLC078: .ASCIZ  /                                                           /
PLC079: .ASCIZ  /                                                           /
PLC080: .ASCIZ  /                                                           /
PLC081: .ASCIZ  /                                                           /
PLC082: .ASCIZ  /                                                           /
PLC083: .ASCIZ  /                                                           /
PLC084: .ASCIZ  /                                                           /
PLC085: .ASCIZ  /                                                           /
PLC086: .ASCIZ  /                                                           /
PLC087: .ASCIZ  /                                                           /
PLC088: .ASCIZ  /                                                           /
PLC089: .ASCIZ  /                                                           /
PLC090: .ASCIZ  /                                                           /
PLC091: .ASCIZ  /                                                           /
PLC092: .ASCIZ  /                                                           /
PLC093: .ASCIZ  /                                                           /
PLC094: .ASCIZ  /                                                           /
PLC095: .ASCIZ  /                                                           /
PLC096: .ASCIZ  /                                                           /
PLC097: .ASCIZ  /                                                           /
PLC098: .ASCIZ  /                                                           /
PLC099: .ASCIZ  /                                                           /
PLC100: .ASCIZ  /                                                           /
PLC101: .ASCIZ  /                                                           /
PLC102: .ASCIZ  /                                                           /
PLC103: .ASCIZ  /                                                           /
PLC104: .ASCIZ  /                                                           /
PLC105: .ASCIZ  /                                                           /
PLC106: .ASCIZ  /                                                           /
PLC107: .ASCIZ  /                                                           /
PLC108: .ASCIZ  /                                                           /
PLC109: .ASCIZ  /                                                           /
PLC110: .ASCIZ  /                                                           /
PLC111: .ASCIZ  /                                                           /
PLC112: .ASCIZ  /                                                           /
PLC113: .ASCIZ  /                                                           /
PLC114: .ASCIZ  /                                                           /
PLC115: .ASCIZ  /                                                           /
PLC116: .ASCIZ  /                                                           /
PLC117: .ASCIZ  /                                                           /
PLC118: .ASCIZ  /                                                           /
PLC119: .ASCIZ  /                                                           /
PLC120: .ASCIZ  /                                                           /
PLC121: .ASCIZ  /                                                           /
PLC122: .ASCIZ  /                                                           /
PLC123: .ASCIZ  /                                                           /
PLC124: .ASCIZ  /                                                           /
PLC125: .ASCIZ  /                                                           /
PLC126: .ASCIZ  /                                                           /
PLC127: .ASCIZ  /                                                           /
PLC128: .ASCIZ  /                                                           /
PLC129: .ASCIZ  /                                                           /
PLC130: .ASCIZ  /                                                           /
PLC131: .ASCIZ  /                                                           /
PLC132: .ASCIZ  /                                                           /
PLC133: .ASCIZ  /                                                           /
PLC134: .ASCIZ  /                                                           /
PLC135: .ASCIZ  /                                                           /
PLC136: .ASCIZ  /                                                           /
PLC137: .ASCIZ  /                                                           /
PLC138: .ASCIZ  /                                                           /
PLC139: .ASCIZ  /                                                           /
PLC140: .ASCIZ  /                                                           /
PLC141: .ASCIZ  /                                                           /
PLC142: .ASCIZ  /                                                           /
PLC143: .ASCIZ  /                                                           /
PLC144: .ASCIZ  /                                                           /
PLC145: .ASCIZ  /                                                           /
PLC146: .ASCIZ  /                                                           /
PLC147: .ASCIZ  /                                                           /
PLC148: .ASCIZ  /                                                           /
PLC149: .ASCIZ  /                                                           /
PLC150: .ASCIZ  /                                                           /
PLC151: .ASCIZ  /                                                           /
PLC152: .ASCIZ  /                                                           /
PLC153: .ASCIZ  /                                                           /
PLC154: .ASCIZ  /                                                           /
PLC155: .ASCIZ  /                                                           /
PLC156: .ASCIZ  /                                                           /
PLC157: .ASCIZ  /                                                           /
PLC158: .ASCIZ  /                                                           /
PLC159: .ASCIZ  /                                                           /
PLC160: .ASCIZ  /                                                           /
PLC161: .ASCIZ  /                                                           /
PLC162: .ASCIZ  /                                                           /
PLC163: .ASCIZ  /                                                           /
PLC164: .ASCIZ  /                                                           /
PLC165: .ASCIZ  /                                                           /
PLC166: .ASCIZ  /                                                           /
PLC167: .ASCIZ  /                                                           /
PLC168: .ASCIZ  /                                                           /
PLC169: .ASCIZ  /                                                           /
PLC170: .ASCIZ  /                                                           /
PLC171: .ASCIZ  /                                                           /
PLC172: .ASCIZ  /                                                           /
PLC173: .ASCIZ  /                                                           /
PLC174: .ASCIZ  /                                                           /
PLC175: .ASCIZ  /                                                           /
PLC176: .ASCIZ  /                                                           /
PLC177: .ASCIZ  /                                                           /
PLC178: .ASCIZ  /                                                           /
PLC179: .ASCIZ  /                                                           /
PLC180: .ASCIZ  /                                                           /
PLC181: .ASCIZ  /                                                           /
PLC182: .ASCIZ  /                                                           /
PLC183: .ASCIZ  /                                                           /
PLC184: .ASCIZ  /                                                           /
PLC185: .ASCIZ  /                                                           /
PLC186: .ASCIZ  /                                                           /
PLC187: .ASCIZ  /                                                           /
PLC188: .ASCIZ  /                                                           /
PLC189: .ASCIZ  /                                                           /
PLC190: .ASCIZ  /                                                           /
PLC191: .ASCIZ  /                                                           /
PLC192: .ASCIZ  /                                                           /
PLC193: .ASCIZ  /                                                           /
PLC194: .ASCIZ  /                                                           /
PLC195: .ASCIZ  /                                                           /
PLC196: .ASCIZ  /                                                           /
PLC197: .ASCIZ  /                                                           /
PLC198: .ASCIZ  /                                                           /
PLC199: .ASCIZ  /MTE: ELECTRICAL CABINET TEMPERATURE DEGREE                 /
PLC200: .ASCIZ  /                                                           /
PLC201: .ASCIZ  /                                                           /
PLC202: .ASCIZ  /                                                           /
PLC203: .ASCIZ  /                                                           /
PLC204: .ASCIZ  /                                                           /
PLC205: .ASCIZ  /                                                           /
PLC206: .ASCIZ  /                                                           /
PLC207: .ASCIZ  /                                                           /
PLC208: .ASCIZ  /                                                           /
PLC209: .ASCIZ  /                                                           /
PLC210: .ASCIZ  /                                                           /
PLC211: .ASCIZ  /                                                           /
PLC212: .ASCIZ  /                                                           /
PLC213: .ASCIZ  /                                                           /
PLC214: .ASCIZ  /                                                           /
PLC215: .ASCIZ  /                                                           /
PLC216: .ASCIZ  /                                                           /
PLC217: .ASCIZ  /                                                           /
PLC218: .ASCIZ  /                                                           /
PLC219: .ASCIZ  /                                                           /
PLC220: .ASCIZ  /                                                           /
PLC221: .ASCIZ  /                                                           /
PLC222: .ASCIZ  /                                                           /
PLC223: .ASCIZ  /                                                           /
PLC224: .ASCIZ  /                                                           /
PLC225: .ASCIZ  /                                                           /
PLC226: .ASCIZ  /                                                           /
PLC227: .ASCIZ  /                                                           /
PLC228: .ASCIZ  /                                                           /
PLC229: .ASCIZ  /                                                           /
PLC230: .ASCIZ  /                                                           /
PLC231: .ASCIZ  /                                                           /
PLC232: .ASCIZ  /                                                           /
PLC233: .ASCIZ  /                                                           /
PLC234: .ASCIZ  /                                                           /
PLC235: .ASCIZ  /                                                           /
PLC236: .ASCIZ  /                                                           /
PLC237: .ASCIZ  /                                                           /
PLC238: .ASCIZ  /                                                           /
PLC239: .ASCIZ  /                                                           /
PLC240: .ASCIZ  /                                                           /
PLC241: .ASCIZ  /                                                           /
PLC242: .ASCIZ  /                                                           /
PLC243: .ASCIZ  /                                                           /
PLC244: .ASCIZ  /                                                           /
PLC245: .ASCIZ  /                                                           /
PLC246: .ASCIZ  /                                                           /
PLC247: .ASCIZ  /                                                           /
PLC248: .ASCIZ  /                                                           /
PLC249: .ASCIZ  /                                                           /
PLC250: .ASCIZ  /                                                           /
PLC251: .ASCIZ  /                                                           /
PLC252: .ASCIZ  /                                                           /
PLC253: .ASCIZ  /                                                           /
PLC254: .ASCIZ  /                                                           /
PLC255: .ASCIZ  /                                                           /
PLC256: .ASCIZ  /                                                           /
PLC257: .ASCIZ  /                                                           /
PLC258: .ASCIZ  /                                                           /
PLC259: .ASCIZ  /                                                           /
PLC260: .ASCIZ  /                                                           /
PLC261: .ASCIZ  /                                                           /
PLC262: .ASCIZ  /                                                           /
PLC263: .ASCIZ  /                                                           /
PLC264: .ASCIZ  /                                                           /
PLC265: .ASCIZ  /                                                           /
PLC266: .ASCIZ  /                                                           /
PLC267: .ASCIZ  /                                                           /
PLC268: .ASCIZ  /                                                           /
PLC269: .ASCIZ  /                                                           /
PLC270: .ASCIZ  /                                                           /
PLC271: .ASCIZ  /                                                           /
PLC272: .ASCIZ  /                                                           /
PLC273: .ASCIZ  /                                                           /
PLC274: .ASCIZ  /                                                           /
PLC275: .ASCIZ  /                                                           /
PLC276: .ASCIZ  /                                                           /
PLC277: .ASCIZ  /                                                           /
PLC278: .ASCIZ  /                                                           /
PLC279: .ASCIZ  /                                                           /
PLC280: .ASCIZ  /                                                           /
PLC281: .ASCIZ  /                                                           /
PLC282: .ASCIZ  /                                                           /
PLC283: .ASCIZ  /                                                           /
PLC284: .ASCIZ  /                                                           /
PLC285: .ASCIZ  /                                                           /
PLC286: .ASCIZ  /                                                           /
PLC287: .ASCIZ  /                                                           /
PLC288: .ASCIZ  /                                                           /
PLC289: .ASCIZ  /                                                           /
PLC290: .ASCIZ  /                                                           /
PLC291: .ASCIZ  /                                                           /
PLC292: .ASCIZ  /                                                           /
PLC293: .ASCIZ  /                                                           /
PLC294: .ASCIZ  /                                                           /
PLC295: .ASCIZ  /                                                           /
PLC296: .ASCIZ  /                                                           /
PLC297: .ASCIZ  /                                                           /
PLC298: .ASCIZ  /                                                           /
PLC299: .ASCIZ  /                                                           /
PLC300: .ASCIZ  /                                                           /
PLC301: .ASCIZ  /                                                           /
PLC302: .ASCIZ  /                                                           /
PLC303: .ASCIZ  /                                                           /
PLC304: .ASCIZ  /                                                           /
PLC305: .ASCIZ  /                                                           /
PLC306: .ASCIZ  /                                                           /
PLC307: .ASCIZ  /                                                           /
PLC308: .ASCIZ  /                                                           /
PLC309: .ASCIZ  /                                                           /
PLC310: .ASCIZ  /                                                           /
PLC311: .ASCIZ  /                                                           /
PLC312: .ASCIZ  /                                                           /
PLC313: .ASCIZ  /                                                           /
PLC314: .ASCIZ  /                                                           /
PLC315: .ASCIZ  /                                                           /
PLC316: .ASCIZ  /                                                           /
PLC317: .ASCIZ  /                                                           /
PLC318: .ASCIZ  /                                                           /
PLC319: .ASCIZ  /                                                           /
PLC320: .ASCIZ  /                                                           /
PLC321: .ASCIZ  /                                                           /
PLC322: .ASCIZ  /                                                           /
PLC323: .ASCIZ  /                                                           /
PLC324: .ASCIZ  /                                                           /
PLC325: .ASCIZ  /                                                           /
PLC326: .ASCIZ  /                                                           /
PLC327: .ASCIZ  /                                                           /
PLC328: .ASCIZ  /                                                           /
PLC329: .ASCIZ  /                                                           /
PLC330: .ASCIZ  /                                                           /
PLC331: .ASCIZ  /                                                           /
PLC332: .ASCIZ  /                                                           /
PLC333: .ASCIZ  /                                                           /
PLC334: .ASCIZ  /                                                           /
PLC335: .ASCIZ  /                                                           /
PLC336: .ASCIZ  /                                                           /
PLC337: .ASCIZ  /                                                           /
PLC338: .ASCIZ  /                                                           /
PLC339: .ASCIZ  /                                                           /
PLC340: .ASCIZ  /                                                           /
PLC341: .ASCIZ  /                                                           /
PLC342: .ASCIZ  /                                                           /
PLC343: .ASCIZ  /                                                           /
PLC344: .ASCIZ  /                                                           /
PLC345: .ASCIZ  /                                                           /
PLC346: .ASCIZ  /                                                           /
PLC347: .ASCIZ  /                                                           /
PLC348: .ASCIZ  /                                                           /
PLC349: .ASCIZ  /                                                           /
PLC350: .ASCIZ  /                                                           /
PLC351: .ASCIZ  /                                                           /
PLC352: .ASCIZ  /                                                           /
PLC353: .ASCIZ  /                                                           /
PLC354: .ASCIZ  /                                                           /
PLC355: .ASCIZ  /                                                           /
PLC356: .ASCIZ  /                                                           /
PLC357: .ASCIZ  /                                                           /
PLC358: .ASCIZ  /                                                           /
PLC359: .ASCIZ  /                                                           /
PLC360: .ASCIZ  /                                                           /
PLC361: .ASCIZ  /                                                           /
PLC362: .ASCIZ  /                                                           /
PLC363: .ASCIZ  /                                                           /
PLC364: .ASCIZ  /                                                           /
PLC365: .ASCIZ  /                                                           /
PLC366: .ASCIZ  /                                                           /
PLC367: .ASCIZ  /                                                           /
PLC368: .ASCIZ  /                                                           /
PLC369: .ASCIZ  /                                                           /
PLC370: .ASCIZ  /                                                           /
PLC371: .ASCIZ  /                                                           /
PLC372: .ASCIZ  /                                                           /
PLC373: .ASCIZ  /                                                           /
PLC374: .ASCIZ  /                                                           /
PLC375: .ASCIZ  /                                                           /
PLC376: .ASCIZ  /                                                           /
PLC377: .ASCIZ  /                                                           /
PLC378: .ASCIZ  /                                                           /
PLC379: .ASCIZ  /                                                           /
PLC380: .ASCIZ  /                                                           /
PLC381: .ASCIZ  /                                                           /
PLC382: .ASCIZ  /                                                           /
PLC383: .ASCIZ  /                                                           /
PLC384: .ASCIZ  /                                                           /
PLC385: .ASCIZ  /                                                           /
PLC386: .ASCIZ  /                                                           /
PLC387: .ASCIZ  /                                                           /
PLC388: .ASCIZ  /                                                           /
PLC389: .ASCIZ  /                                                           /
PLC390: .ASCIZ  /                                                           /
PLC391: .ASCIZ  /                                                           /
PLC392: .ASCIZ  /                                                           /
PLC393: .ASCIZ  /                                                           /
PLC394: .ASCIZ  /                                                           /
PLC395: .ASCIZ  /                                                           /
PLC396: .ASCIZ  /                                                           /
PLC397: .ASCIZ  /                                                           /
PLC398: .ASCIZ  /                                                           /
PLC399: .ASCIZ  /                                                           /
PLC400: .ASCIZ  /                                                           /
PLC401: .ASCIZ  /                                                           /
PLC402: .ASCIZ  /                                                           /
PLC403: .ASCIZ  /                                                           /
PLC404: .ASCIZ  /                                                           /
PLC405: .ASCIZ  /                                                           /
PLC406: .ASCIZ  /                                                           /
PLC407: .ASCIZ  /                                                           /
PLC408: .ASCIZ  /                                                           /
PLC409: .ASCIZ  /                                                           /
PLC410: .ASCIZ  /                                                           /
PLC411: .ASCIZ  /                                                           /
PLC412: .ASCIZ  /                                                           /
PLC413: .ASCIZ  /                                                           /
PLC414: .ASCIZ  /                                                           /
PLC415: .ASCIZ  /                                                           /
PLC416: .ASCIZ  /                                                           /
PLC417: .ASCIZ  /                                                           /
PLC418: .ASCIZ  /                                                           /
PLC419: .ASCIZ  /                                                           /
PLC420: .ASCIZ  /                                                           /
PLC421: .ASCIZ  /                                                           /
PLC422: .ASCIZ  /                                                           /
PLC423: .ASCIZ  /                                                           /
PLC424: .ASCIZ  /                                                           /
PLC425: .ASCIZ  /                                                           /
PLC426: .ASCIZ  /                                                           /
PLC427: .ASCIZ  /                                                           /
PLC428: .ASCIZ  /                                                           /
PLC429: .ASCIZ  /                                                           /
PLC430: .ASCIZ  /                                                           /
PLC431: .ASCIZ  /                                                           /
PLC432: .ASCIZ  /                                                           /
PLC433: .ASCIZ  /                                                           /
PLC434: .ASCIZ  /                                                           /
PLC435: .ASCIZ  /                                                           /
PLC436: .ASCIZ  /                                                           /
PLC437: .ASCIZ  /                                                           /
PLC438: .ASCIZ  /                                                           /
PLC439: .ASCIZ  /                                                           /
PLC440: .ASCIZ  /                                                           /
PLC441: .ASCIZ  /                                                           /
PLC442: .ASCIZ  /                                                           /
PLC443: .ASCIZ  /                                                           /
PLC444: .ASCIZ  /                                                           /
PLC445: .ASCIZ  /                                                           /
PLC446: .ASCIZ  /                                                           /
PLC447: .ASCIZ  /                                                           /
PLC448: .ASCIZ  /                                                           /
PLC449: .ASCIZ  /                                                           /
PLC450: .ASCIZ  /                                                           /
PLC451: .ASCIZ  /                                                           /
PLC452: .ASCIZ  /                                                           /
PLC453: .ASCIZ  /                                                           /
PLC454: .ASCIZ  /                                                           /
PLC455: .ASCIZ  /                                                           /
PLC456: .ASCIZ  /                                                           /
PLC457: .ASCIZ  /                                                           /
PLC458: .ASCIZ  /                                                           /
PLC459: .ASCIZ  /                                                           /
PLC460: .ASCIZ  /                                                           /
PLC461: .ASCIZ  /                                                           /
PLC462: .ASCIZ  /                                                           /
PLC463: .ASCIZ  /                                                           /
PLC464: .ASCIZ  /                                                           /
PLC465: .ASCIZ  /                                                           /
PLC466: .ASCIZ  /                                                           /
PLC467: .ASCIZ  /                                                           /
PLC468: .ASCIZ  /                                                           /
PLC469: .ASCIZ  /                                                           /
PLC470: .ASCIZ  /                                                           /
PLC471: .ASCIZ  /                                                           /
PLC472: .ASCIZ  /                                                           /
PLC473: .ASCIZ  /                                                           /
PLC474: .ASCIZ  /                                                           /
PLC475: .ASCIZ  /                                                           /
PLC476: .ASCIZ  /                                                           /
PLC477: .ASCIZ  /                                                           /
PLC478: .ASCIZ  /                                                           /
PLC479: .ASCIZ  /                                                           /
PLC480: .ASCIZ  /                                                           /
PLC481: .ASCIZ  /                                                           /
PLC482: .ASCIZ  /                                                           /
PLC483: .ASCIZ  /                                                           /
PLC484: .ASCIZ  /                                                           /
PLC485: .ASCIZ  /                                                           /
PLC486: .ASCIZ  /                                                           /
PLC487: .ASCIZ  /                                                           /
PLC488: .ASCIZ  /                                                           /
PLC489: .ASCIZ  /                                                           /
PLC490: .ASCIZ  /                                                           /
PLC491: .ASCIZ  /                                                           /
PLC492: .ASCIZ  /                                                           /
PLC493: .ASCIZ  /                                                           /
PLC494: .ASCIZ  /                                                           /
PLC495: .ASCIZ  /                                                           /
PLC496: .ASCIZ  /                                                           /
PLC497: .ASCIZ  /                                                           /
PLC498: .ASCIZ  /                                                           /
PLC499: .ASCIZ  /                                                           /
PLC500: .ASCIZ  /                                                           /
PLC501: .ASCIZ  /                                                           /
PLC502: .ASCIZ  /                                                           /
PLC503: .ASCIZ  /                                                           /
PLC504: .ASCIZ  /                                                           /
PLC505: .ASCIZ  /                                                           /
PLC506: .ASCIZ  /                                                           /
PLC507: .ASCIZ  /                                                           /
PLC508: .ASCIZ  /                                                           /
PLC509: .ASCIZ  /                                                           /
PLC510: .ASCIZ  /                                                           /
PLC511: .ASCIZ  /                                                           /
PLC512: .ASCIZ  /                                                           /
PLC513: .ASCIZ  /                                                           /
PLC514: .ASCIZ  /                                                           /
PLC515: .ASCIZ  /                                                           /
PLC516: .ASCIZ  /                                                           /
PLC517: .ASCIZ  /                                                           /
PLC518: .ASCIZ  /                                                           /
PLC519: .ASCIZ  /                                                           /
PLC520: .ASCIZ  /                                                           /
PLC521: .ASCIZ  /                                                           /
PLC522: .ASCIZ  /                                                           /
PLC523: .ASCIZ  /                                                           /
PLC524: .ASCIZ  /                                                           /
PLC525: .ASCIZ  /                                                           /
PLC526: .ASCIZ  /                                                           /
PLC527: .ASCIZ  /                                                           /
PLC528: .ASCIZ  /                                                           /
PLC529: .ASCIZ  /                                                           /
PLC530: .ASCIZ  /                                                           /
PLC531: .ASCIZ  /                                                           /
PLC532: .ASCIZ  /                                                           /
PLC533: .ASCIZ  /                                                           /
PLC534: .ASCIZ  /                                                           /
PLC535: .ASCIZ  /                                                           /
PLC536: .ASCIZ  /                                                           /
PLC537: .ASCIZ  /                                                           /
PLC538: .ASCIZ  /                                                           /
PLC539: .ASCIZ  /                                                           /
PLC540: .ASCIZ  /                                                           /
PLC541: .ASCIZ  /                                                           /
PLC542: .ASCIZ  /                                                           /
PLC543: .ASCIZ  /                                                           /
PLC544: .ASCIZ  /                                                           /
PLC545: .ASCIZ  /                                                           /
PLC546: .ASCIZ  /                                                           /
PLC547: .ASCIZ  /                                                           /
PLC548: .ASCIZ  /                                                           /
PLC549: .ASCIZ  /                                                           /
PLC550: .ASCIZ  /                                                           /
PLC551: .ASCIZ  /                                                           /
PLC552: .ASCIZ  /                                                           /
PLC553: .ASCIZ  /                                                           /
PLC554: .ASCIZ  /                                                           /
PLC555: .ASCIZ  /                                                           /
PLC556: .ASCIZ  /                                                           /
PLC557: .ASCIZ  /                                                           /
PLC558: .ASCIZ  /                                                           /
PLC559: .ASCIZ  /                                                           /
PLC560: .ASCIZ  /                                                           /
PLC561: .ASCIZ  /                                                           /
PLC562: .ASCIZ  /                                                           /
PLC563: .ASCIZ  /                                                           /
PLC564: .ASCIZ  /                                                           /
PLC565: .ASCIZ  /                                                           /
PLC566: .ASCIZ  /                                                           /
PLC567: .ASCIZ  /                                                           /
PLC568: .ASCIZ  /                                                           /
PLC569: .ASCIZ  /                                                           /
PLC570: .ASCIZ  /                                                           /
PLC571: .ASCIZ  /                                                           /
PLC572: .ASCIZ  /                                                           /
PLC573: .ASCIZ  /                                                           /
PLC574: .ASCIZ  /                                                           /
PLC575: .ASCIZ  /                                                           /
PLC576: .ASCIZ  /                                                           /
PLC577: .ASCIZ  /                                                           /
PLC578: .ASCIZ  /                                                           /
PLC579: .ASCIZ  /                                                           /
PLC580: .ASCIZ  /                                                           /
PLC581: .ASCIZ  /                                                           /
PLC582: .ASCIZ  /                                                           /
PLC583: .ASCIZ  /                                                           /
PLC584: .ASCIZ  /                                                           /
PLC585: .ASCIZ  /                                                           /
PLC586: .ASCIZ  /                                                           /
PLC587: .ASCIZ  /                                                           /
PLC588: .ASCIZ  /                                                           /
PLC589: .ASCIZ  /                                                           /
PLC590: .ASCIZ  /                                                           /
PLC591: .ASCIZ  /                                                           /
PLC592: .ASCIZ  /                                                           /
PLC593: .ASCIZ  /                                                           /
PLC594: .ASCIZ  /                                                           /
PLC595: .ASCIZ  /                                                           /
PLC596: .ASCIZ  /                                                           /
PLC597: .ASCIZ  /                                                           /
PLC598: .ASCIZ  /                                                           /
PLC599: .ASCIZ  /                                                           /
PLC600: .ASCIZ  /                                                           /
PLC601: .ASCIZ  /                                                           /
PLC602: .ASCIZ  /                                                           /
PLC603: .ASCIZ  /                                                           /
PLC604: .ASCIZ  /                                                           /
PLC605: .ASCIZ  /                                                           /
PLC606: .ASCIZ  /                                                           /
PLC607: .ASCIZ  /                                                           /
PLC608: .ASCIZ  /                                                           /
PLC609: .ASCIZ  /                                                           /
PLC610: .ASCIZ  /                                                           /
PLC611: .ASCIZ  /                                                           /
PLC612: .ASCIZ  /                                                           /
PLC613: .ASCIZ  /                                                           /
PLC614: .ASCIZ  /                                                           /
PLC615: .ASCIZ  /                                                           /
PLC616: .ASCIZ  /                                                           /
PLC617: .ASCIZ  /                                                           /
PLC618: .ASCIZ  /                                                           /
PLC619: .ASCIZ  /                                                           /
PLC620: .ASCIZ  /                                                           /
PLC621: .ASCIZ  /                                                           /
PLC622: .ASCIZ  /                                                           /
PLC623: .ASCIZ  /                                                           /
PLC624: .ASCIZ  /                                                           /
PLC625: .ASCIZ  /                                                           /
PLC626: .ASCIZ  /                                                           /
PLC627: .ASCIZ  /                                                           /
PLC628: .ASCIZ  /                                                           /
PLC629: .ASCIZ  /                                                           /
PLC630: .ASCIZ  /                                                           /
PLC631: .ASCIZ  /                                                           /
PLC632: .ASCIZ  /                                                           /
PLC633: .ASCIZ  /                                                           /
PLC634: .ASCIZ  /                                                           /
PLC635: .ASCIZ  /                                                           /
PLC636: .ASCIZ  /                                                           /
PLC637: .ASCIZ  /                                                           /
PLC638: .ASCIZ  /                                                           /
PLC639: .ASCIZ  /                                                           /
PLC640: .ASCIZ  /                                                           /
PLC641: .ASCIZ  /                                                           /
PLC642: .ASCIZ  /                                                           /
PLC643: .ASCIZ  /                                                           /
PLC644: .ASCIZ  /                                                           /
PLC645: .ASCIZ  /                                                           /
PLC646: .ASCIZ  /                                                           /
PLC647: .ASCIZ  /                                                           /
PLC648: .ASCIZ  /                                                           /
PLC649: .ASCIZ  /                                                           /
PLC650: .ASCIZ  /                                                           /
PLC651: .ASCIZ  /                                                           /
PLC652: .ASCIZ  /                                                           /
PLC653: .ASCIZ  /                                                           /
PLC654: .ASCIZ  /                                                           /
PLC655: .ASCIZ  /                                                           /
PLC656: .ASCIZ  /                                                           /
PLC657: .ASCIZ  /                                                           /
PLC658: .ASCIZ  /                                                           /
PLC659: .ASCIZ  /                                                           /
PLC660: .ASCIZ  /                                                           /
PLC661: .ASCIZ  /                                                           /
PLC662: .ASCIZ  /                                                           /
PLC663: .ASCIZ  /                                                           /
PLC664: .ASCIZ  /                                                           /
PLC665: .ASCIZ  /                                                           /
PLC666: .ASCIZ  /                                                           /
PLC667: .ASCIZ  /                                                           /
PLC668: .ASCIZ  /                                                           /
PLC669: .ASCIZ  /                                                           /
PLC670: .ASCIZ  /                                                           /
PLC671: .ASCIZ  /                                                           /
PLC672: .ASCIZ  /                                                           /
PLC673: .ASCIZ  /                                                           /
PLC674: .ASCIZ  /                                                           /
PLC675: .ASCIZ  /                                                           /
PLC676: .ASCIZ  /                                                           /
PLC677: .ASCIZ  /                                                           /
PLC678: .ASCIZ  /                                                           /
PLC679: .ASCIZ  /                                                           /
PLC680: .ASCIZ  /                                                           /
PLC681: .ASCIZ  /                                                           /
PLC682: .ASCIZ  /                                                           /
PLC683: .ASCIZ  /                                                           /
PLC684: .ASCIZ  /                                                           /
PLC685: .ASCIZ  /                                                           /
PLC686: .ASCIZ  /                                                           /
PLC687: .ASCIZ  /                                                           /
PLC688: .ASCIZ  /                                                           /
PLC689: .ASCIZ  /                                                           /
PLC690: .ASCIZ  /                                                           /
PLC691: .ASCIZ  /                                                           /
PLC692: .ASCIZ  /                                                           /
PLC693: .ASCIZ  /                                                           /
PLC694: .ASCIZ  /                                                           /
PLC695: .ASCIZ  /                                                           /
PLC696: .ASCIZ  /                                                           /
PLC697: .ASCIZ  /                                                           /
PLC698: .ASCIZ  /                                                           /
PLC699: .ASCIZ  /                                                           /
PLC700: .ASCIZ  /                                                           /
PLC701: .ASCIZ  /                                                           /
PLC702: .ASCIZ  /                                                           /
PLC703: .ASCIZ  /                                                           /
PLC704: .ASCIZ  /                                                           /
PLC705: .ASCIZ  /                                                           /
PLC706: .ASCIZ  /                                                           /
PLC707: .ASCIZ  /                                                           /
PLC708: .ASCIZ  /                                                           /
PLC709: .ASCIZ  /                                                           /
PLC710: .ASCIZ  /                                                           /
PLC711: .ASCIZ  /                                                           /
PLC712: .ASCIZ  /                                                           /
PLC713: .ASCIZ  /                                                           /
PLC714: .ASCIZ  /                                                           /
PLC715: .ASCIZ  /                                                           /
PLC716: .ASCIZ  /                                                           /
PLC717: .ASCIZ  /                                                           /
PLC718: .ASCIZ  /                                                           /
PLC719: .ASCIZ  /                                                           /
PLC720: .ASCIZ  /                                                           /
PLC721: .ASCIZ  /                                                           /
PLC722: .ASCIZ  /                                                           /
PLC723: .ASCIZ  /                                                           /
PLC724: .ASCIZ  /                                                           /
PLC725: .ASCIZ  /                                                           /
PLC726: .ASCIZ  /                                                           /
PLC727: .ASCIZ  /                                                           /
PLC728: .ASCIZ  /                                                           /
PLC729: .ASCIZ  /                                                           /
PLC730: .ASCIZ  /                                                           /
PLC731: .ASCIZ  /                                                           /
PLC732: .ASCIZ  /                                                           /
PLC733: .ASCIZ  /                                                           /
PLC734: .ASCIZ  /                                                           /
PLC735: .ASCIZ  /                                                           /
PLC736: .ASCIZ  /                                                           /
PLC737: .ASCIZ  /                                                           /
PLC738: .ASCIZ  /                                                           /
PLC739: .ASCIZ  /                                                           /
PLC740: .ASCIZ  /                                                           /
PLC741: .ASCIZ  /                                                           /
PLC742: .ASCIZ  /                                                           /
PLC743: .ASCIZ  /                                                           /
PLC744: .ASCIZ  /                                                           /
PLC745: .ASCIZ  /                                                           /
PLC746: .ASCIZ  /                                                           /
PLC747: .ASCIZ  /                                                           /
PLC748: .ASCIZ  /                                                           /
PLC749: .ASCIZ  /                                                           /
PLC750: .ASCIZ  /                                                           /
PLC751: .ASCIZ  /                                                           /
PLC752: .ASCIZ  /                                                           /
PLC753: .ASCIZ  /                                                           /
PLC754: .ASCIZ  /                                                           /
PLC755: .ASCIZ  /                                                           /
PLC756: .ASCIZ  /                                                           /
PLC757: .ASCIZ  /                                                           /
PLC758: .ASCIZ  /                                                           /
PLC759: .ASCIZ  /                                                           /
PLC760: .ASCIZ  /                                                           /
PLC761: .ASCIZ  /                                                           /
PLC762: .ASCIZ  /                                                           /
PLC763: .ASCIZ  /                                                           /
PLC764: .ASCIZ  /                                                           /
PLC765: .ASCIZ  /                                                           /
PLC766: .ASCIZ  /                                                           /
PLC767: .ASCIZ  /                                                           /
PLC768: .ASCIZ  /                                                           /
PLC769: .ASCIZ  /                                                           /
PLC770: .ASCIZ  /                                                           /
PLC771: .ASCIZ  /                                                           /
PLC772: .ASCIZ  /                                                           /
PLC773: .ASCIZ  /                                                           /
PLC774: .ASCIZ  /                                                           /
PLC775: .ASCIZ  /                                                           /
PLC776: .ASCIZ  /                                                           /
PLC777: .ASCIZ  /                                                           /
PLC778: .ASCIZ  /                                                           /
PLC779: .ASCIZ  /                                                           /
PLC780: .ASCIZ  /                                                           /
PLC781: .ASCIZ  /                                                           /
PLC782: .ASCIZ  /                                                           /
PLC783: .ASCIZ  /                                                           /
PLC784: .ASCIZ  /                                                           /
PLC785: .ASCIZ  /                                                           /
PLC786: .ASCIZ  /                                                           /
PLC787: .ASCIZ  /                                                           /
PLC788: .ASCIZ  /                                                           /
PLC789: .ASCIZ  /                                                           /
PLC790: .ASCIZ  /                                                           /
PLC791: .ASCIZ  /                                                           /
PLC792: .ASCIZ  /                                                           /
PLC793: .ASCIZ  /                                                           /
PLC794: .ASCIZ  /                                                           /
PLC795: .ASCIZ  /                                                           /
PLC796: .ASCIZ  /                                                           /
PLC797: .ASCIZ  /                                                           /
PLC798: .ASCIZ  /                                                           /
PLC799: .ASCIZ  /                                                           /
PLC800: .ASCIZ  /                                                           /
PLC801: .ASCIZ  /                                                           /
PLC802: .ASCIZ  /                                                           /
PLC803: .ASCIZ  /                                                           /
PLC804: .ASCIZ  /                                                           /
PLC805: .ASCIZ  /                                                           /
PLC806: .ASCIZ  /                                                           /
PLC807: .ASCIZ  /                                                           /
PLC808: .ASCIZ  /                                                           /
PLC809: .ASCIZ  /                                                           /
PLC810: .ASCIZ  /                                                           /
PLC811: .ASCIZ  /                                                           /
PLC812: .ASCIZ  /                                                           /
PLC813: .ASCIZ  /                                                           /
PLC814: .ASCIZ  /                                                           /
PLC815: .ASCIZ  /                                                           /
PLC816: .ASCIZ  /                                                           /
PLC817: .ASCIZ  /                                                           /
PLC818: .ASCIZ  /                                                           /
PLC819: .ASCIZ  /                                                           /
PLC820: .ASCIZ  /                                                           /
PLC821: .ASCIZ  /                                                           /
PLC822: .ASCIZ  /                                                           /
PLC823: .ASCIZ  /                                                           /
PLC824: .ASCIZ  /                                                           /
PLC825: .ASCIZ  /                                                           /
PLC826: .ASCIZ  /                                                           /
PLC827: .ASCIZ  /                                                           /
PLC828: .ASCIZ  /                                                           /
PLC829: .ASCIZ  /                                                           /
PLC830: .ASCIZ  /                                                           /
PLC831: .ASCIZ  /                                                           /
PLC832: .ASCIZ  /                                                           /
PLC833: .ASCIZ  /                                                           /
PLC834: .ASCIZ  /                                                           /
PLC835: .ASCIZ  /                                                           /
PLC836: .ASCIZ  /                                                           /
PLC837: .ASCIZ  /                                                           /
PLC838: .ASCIZ  /                                                           /
PLC839: .ASCIZ  /                                                           /
PLC840: .ASCIZ  /                                                           /
PLC841: .ASCIZ  /                                                           /
PLC842: .ASCIZ  /                                                           /
PLC843: .ASCIZ  /                                                           /
PLC844: .ASCIZ  /                                                           /
PLC845: .ASCIZ  /                                                           /
PLC846: .ASCIZ  /                                                           /
PLC847: .ASCIZ  /                                                           /
PLC848: .ASCIZ  /                                                           /
PLC849: .ASCIZ  /                                                           /
PLC850: .ASCIZ  /                                                           /
PLC851: .ASCIZ  /                                                           /
PLC852: .ASCIZ  /                                                           /
PLC853: .ASCIZ  /                                                           /
PLC854: .ASCIZ  /                                                           /
PLC855: .ASCIZ  /                                                           /
PLC856: .ASCIZ  /                                                           /
PLC857: .ASCIZ  /                                                           /
PLC858: .ASCIZ  /                                                           /
PLC859: .ASCIZ  /                                                           /
PLC860: .ASCIZ  /                                                           /
PLC861: .ASCIZ  /                                                           /
PLC862: .ASCIZ  /                                                           /
PLC863: .ASCIZ  /                                                           /
PLC864: .ASCIZ  /                                                           /
PLC865: .ASCIZ  /                                                           /
PLC866: .ASCIZ  /                                                           /
PLC867: .ASCIZ  /                                                           /
PLC868: .ASCIZ  /                                                           /
PLC869: .ASCIZ  /                                                           /
PLC870: .ASCIZ  /                                                           /
PLC871: .ASCIZ  /                                                           /
PLC872: .ASCIZ  /                                                           /
PLC873: .ASCIZ  /                                                           /
PLC874: .ASCIZ  /                                                           /
PLC875: .ASCIZ  /                                                           /
PLC876: .ASCIZ  /                                                           /
PLC877: .ASCIZ  /                                                           /
PLC878: .ASCIZ  /                                                           /
PLC879: .ASCIZ  /                                                           /
PLC880: .ASCIZ  /                                                           /
PLC881: .ASCIZ  /                                                           /
PLC882: .ASCIZ  /                                                           /
PLC883: .ASCIZ  /                                                           /
PLC884: .ASCIZ  /                                                           /
PLC885: .ASCIZ  /                                                           /
PLC886: .ASCIZ  /                                                           /
PLC887: .ASCIZ  /                                                           /
PLC888: .ASCIZ  /                                                           /
PLC889: .ASCIZ  /                                                           /
PLC890: .ASCIZ  /                                                           /
PLC891: .ASCIZ  /                                                           /
PLC892: .ASCIZ  /                                                           /
PLC893: .ASCIZ  /                                                           /
PLC894: .ASCIZ  /                                                           /
PLC895: .ASCIZ  /                                                           /
PLC896: .ASCIZ  /                                                           /
PLC897: .ASCIZ  /                                                           /
PLC898: .ASCIZ  /                                                           /
PLC899: .ASCIZ  /                                                           /
PLC900: .ASCIZ  /                                                           /
PLC901: .ASCIZ  /                                                           /
PLC902: .ASCIZ  /                                                           /
PLC903: .ASCIZ  /                                                           /
PLC904: .ASCIZ  /                                                           /
PLC905: .ASCIZ  /                                                           /
PLC906: .ASCIZ  /                                                           /
PLC907: .ASCIZ  /                                                           /
PLC908: .ASCIZ  /                                                           /
PLC909: .ASCIZ  /                                                           /
PLC910: .ASCIZ  /                                                           /
PLC911: .ASCIZ  /                                                           /
PLC912: .ASCIZ  /                                                           /
PLC913: .ASCIZ  /                                                           /
PLC914: .ASCIZ  /                                                           /
PLC915: .ASCIZ  /                                                           /
PLC916: .ASCIZ  /                                                           /
PLC917: .ASCIZ  /                                                           /
PLC918: .ASCIZ  /                                                           /
PLC919: .ASCIZ  /                                                           /
PLC920: .ASCIZ  /                                                           /
PLC921: .ASCIZ  /                                                           /
PLC922: .ASCIZ  /                                                           /
PLC923: .ASCIZ  /                                                           /
PLC924: .ASCIZ  /                                                           /
PLC925: .ASCIZ  /                                                           /
PLC926: .ASCIZ  /                                                           /
PLC927: .ASCIZ  /                                                           /
PLC928: .ASCIZ  /                                                           /
PLC929: .ASCIZ  /                                                           /
PLC930: .ASCIZ  /                                                           /
PLC931: .ASCIZ  /                                                           /
PLC932: .ASCIZ  /                                                           /
PLC933: .ASCIZ  /                                                           /
PLC934: .ASCIZ  /                                                           /
PLC935: .ASCIZ  /                                                           /
PLC936: .ASCIZ  /                                                           /
PLC937: .ASCIZ  /                                                           /
PLC938: .ASCIZ  /                                                           /
PLC939: .ASCIZ  /                                                           /
PLC940: .ASCIZ  /                                                           /
PLC941: .ASCIZ  /                                                           /
PLC942: .ASCIZ  /                                                           /
PLC943: .ASCIZ  /                                                           /
PLC944: .ASCIZ  /                                                           /
PLC945: .ASCIZ  /                                                           /
PLC946: .ASCIZ  /                                                           /
PLC947: .ASCIZ  /                                                           /
PLC948: .ASCIZ  /                                                           /
PLC949: .ASCIZ  /                                                           /
PLC950: .ASCIZ  /                                                           /
PLC951: .ASCIZ  /                                                           /
PLC952: .ASCIZ  /                                                           /
PLC953: .ASCIZ  /                                                           /
PLC954: .ASCIZ  /                                                           /
PLC955: .ASCIZ  /                                                           /
PLC956: .ASCIZ  /                                                           /
PLC957: .ASCIZ  /                                                           /
PLC958: .ASCIZ  /                                                           /
PLC959: .ASCIZ  /                                                           /
PLC960: .ASCIZ  /                                                           /
PLC961: .ASCIZ  /                                                           /
PLC962: .ASCIZ  /                                                           /
PLC963: .ASCIZ  /                                                           /
PLC964: .ASCIZ  /                                                           /
PLC965: .ASCIZ  /                                                           /
PLC966: .ASCIZ  /                                                           /
PLC967: .ASCIZ  /                                                           /
PLC968: .ASCIZ  /                                                           /
PLC969: .ASCIZ  /                                                           /
PLC970: .ASCIZ  /                                                           /
PLC971: .ASCIZ  /                                                           /
PLC972: .ASCIZ  /                                                           /
PLC973: .ASCIZ  /                                                           /
PLC974: .ASCIZ  /                                                           /
PLC975: .ASCIZ  /                                                           /
PLC976: .ASCIZ  /                                                           /
PLC977: .ASCIZ  /                                                           /
PLC978: .ASCIZ  /                                                           /
PLC979: .ASCIZ  /                                                           /
PLC980: .ASCIZ  /                                                           /
PLC981: .ASCIZ  /                                                           /
PLC982: .ASCIZ  /                                                           /
PLC983: .ASCIZ  /                                                           /
PLC984: .ASCIZ  /                                                           /
PLC985: .ASCIZ  /                                                           /
PLC986: .ASCIZ  /                                                           /
PLC987: .ASCIZ  /                                                           /
PLC988: .ASCIZ  /                                                           /
PLC989: .ASCIZ  /                                                           /
PLC990: .ASCIZ  /                                                           /
PLC991: .ASCIZ  /                                                           /
PLC992: .ASCIZ  /                                                           /
PLC993: .ASCIZ  /                                                           /
PLC994: .ASCIZ  /                                                           /
PLC995: .ASCIZ  /                                                           /
PLC996: .ASCIZ  /                                                           /
PLC997: .ASCIZ  /                                                           /
PLC998: .ASCIZ  /                                                           /
PLC999: .ASCIZ  /                                                           /
PLC1000:.ASCIZ  /                                                           /
PLC1001:.ASCIZ  /                                                           /
PLC1002:.ASCIZ  /                                                           /
PLC1003:.ASCIZ  /                                                           /
PLC1004:.ASCIZ  /                                                           /
PLC1005:.ASCIZ  /                                                           /
PLC1006:.ASCIZ  /                                                           /
PLC1007:.ASCIZ  /                                                           /
PLC1008:.ASCIZ  /                                                           /
PLC1009:.ASCIZ  /                                                           /
PLC1010:.ASCIZ  /                                                           /
PLC1011:.ASCIZ  /                                                           /
PLC1012:.ASCIZ  /                                                           /
PLC1013:.ASCIZ  /                                                           /
PLC1014:.ASCIZ  /                                                           /
PLC1015:.ASCIZ  /                                                           /
PLC1016:.ASCIZ  /                                                           /
PLC1017:.ASCIZ  /                                                           /
PLC1018:.ASCIZ  /                                                           /
PLC1019:.ASCIZ  /                                                           /
PLC1020:.ASCIZ  /                                                           /
PLC1021:.ASCIZ  /                                                           /
PLC1022:.ASCIZ  /                                                           /
PLC1023:.ASCIZ  /                                                           /
PLC1024:.ASCIZ  /                                                           /
PLC1025:.ASCIZ  /                                                           /
PLC1026:.ASCIZ  /                                                           /
PLC1027:.ASCIZ  /                                                           /
PLC1028:.ASCIZ  /                                                           /
PLC1029:.ASCIZ  /                                                           /
PLC1030:.ASCIZ  /                                                           /
PLC1031:.ASCIZ  /                                                           /
PLC1032:.ASCIZ  /                                                           /
PLC1033:.ASCIZ  /                                                           /
PLC1034:.ASCIZ  /                                                           /
PLC1035:.ASCIZ  /                                                           /
PLC1036:.ASCIZ  /                                                           /
PLC1037:.ASCIZ  /                                                           /
PLC1038:.ASCIZ  /                                                           /
PLC1039:.ASCIZ  /                                                           /
PLC1040:.ASCIZ  /                                                           /
PLC1041:.ASCIZ  /                                                           /
PLC1042:.ASCIZ  /                                                           /
PLC1043:.ASCIZ  /                                                           /
PLC1044:.ASCIZ  /                                                           /
PLC1045:.ASCIZ  /                                                           /
PLC1046:.ASCIZ  /                                                           /
PLC1047:.ASCIZ  /                                                           /
PLC1048:.ASCIZ  /                                                           /
PLC1049:.ASCIZ  /                                                           /
PLC1050:.ASCIZ  /                                                           /
PLC1051:.ASCIZ  /                                                           /
PLC1052:.ASCIZ  /                                                           /
PLC1053:.ASCIZ  /                                                           /
PLC1054:.ASCIZ  /                                                           /
PLC1055:.ASCIZ  /                                                           /
PLC1056:.ASCIZ  /                                                           /
PLC1057:.ASCIZ  /                                                           /
PLC1058:.ASCIZ  /                                                           /
PLC1059:.ASCIZ  /                                                           /
PLC1060:.ASCIZ  /                                                           /
PLC1061:.ASCIZ  /                                                           /
PLC1062:.ASCIZ  /                                                           /
PLC1063:.ASCIZ  /                                                           /
PLC1064:.ASCIZ  /                                                           /
PLC1065:.ASCIZ  /                                                           /
PLC1066:.ASCIZ  /                                                           /
PLC1067:.ASCIZ  /                                                           /
PLC1068:.ASCIZ  /                                                           /
PLC1069:.ASCIZ  /                                                           /
PLC1070:.ASCIZ  /                                                           /
PLC1071:.ASCIZ  /                                                           /
PLC1072:.ASCIZ  /                                                           /
PLC1073:.ASCIZ  /                                                           /
PLC1074:.ASCIZ  /                                                           /
PLC1075:.ASCIZ  /                                                           /
PLC1076:.ASCIZ  /                                                           /
PLC1077:.ASCIZ  /                                                           /
PLC1078:.ASCIZ  /                                                           /
PLC1079:.ASCIZ  /                                                           /
PLC1080:.ASCIZ  /                                                           /
PLC1081:.ASCIZ  /                                                           /
PLC1082:.ASCIZ  /                                                           /
PLC1083:.ASCIZ  /                                                           /
PLC1084:.ASCIZ  /                                                           /
PLC1085:.ASCIZ  /                                                           /
PLC1086:.ASCIZ  /                                                           /
PLC1087:.ASCIZ  /                                                           /
PLC1088:.ASCIZ  /                                                           /
PLC1089:.ASCIZ  /                                                           /
PLC1090:.ASCIZ  /                                                           /
PLC1091:.ASCIZ  /                                                           /
PLC1092:.ASCIZ  /                                                           /
PLC1093:.ASCIZ  /                                                           /
PLC1094:.ASCIZ  /                                                           /
PLC1095:.ASCIZ  /                                                           /
PLC1096:.ASCIZ  /                                                           /
PLC1097:.ASCIZ  /                                                           /
PLC1098:.ASCIZ  /                                                           /
PLC1099:.ASCIZ  /                                                           /
PLC1100:.ASCIZ  /                                                           /
PLC1101:.ASCIZ  /                                                           /
PLC1102:.ASCIZ  /                                                           /
PLC1103:.ASCIZ  /                                                           /
PLC1104:.ASCIZ  /                                                           /
PLC1105:.ASCIZ  /                                                           /
PLC1106:.ASCIZ  /                                                           /
PLC1107:.ASCIZ  /                                                           /
PLC1108:.ASCIZ  /                                                           /
PLC1109:.ASCIZ  /                                                           /
PLC1110:.ASCIZ  /                                                           /
PLC1111:.ASCIZ  /                                                           /
PLC1112:.ASCIZ  /                                                           /
PLC1113:.ASCIZ  /                                                           /
PLC1114:.ASCIZ  /                                                           /
PLC1115:.ASCIZ  /                                                           /
PLC1116:.ASCIZ  /                                                           /
PLC1117:.ASCIZ  /                                                           /
PLC1118:.ASCIZ  /                                                           /
PLC1119:.ASCIZ  /                                                           /
PLC1120:.ASCIZ  /                                                           /
PLC1121:.ASCIZ  /                                                           /
PLC1122:.ASCIZ  /                                                           /
PLC1123:.ASCIZ  /                                                           /
PLC1124:.ASCIZ  /                                                           /
PLC1125:.ASCIZ  /                                                           /
PLC1126:.ASCIZ  /                                                           /
PLC1127:.ASCIZ  /                                                           /
PLC1128:.ASCIZ  /                                                           /
PLC1129:.ASCIZ  /                                                           /
PLC1130:.ASCIZ  /                                                           /
PLC1131:.ASCIZ  /                                                           /
PLC1132:.ASCIZ  /                                                           /
PLC1133:.ASCIZ  /                                                           /
PLC1134:.ASCIZ  /                                                           /
PLC1135:.ASCIZ  /                                                           /
PLC1136:.ASCIZ  /                                                           /
PLC1137:.ASCIZ  /                                                           /
PLC1138:.ASCIZ  /                                                           /
PLC1139:.ASCIZ  /                                                           /
PLC1140:.ASCIZ  /                                                           /
PLC1141:.ASCIZ  /                                                           /
PLC1142:.ASCIZ  /                                                           /
PLC1143:.ASCIZ  /                                                           /
PLC1144:.ASCIZ  /                                                           /
PLC1145:.ASCIZ  /                                                           /
PLC1146:.ASCIZ  /                                                           /
PLC1147:.ASCIZ  /                                                           /
PLC1148:.ASCIZ  /                                                           /
PLC1149:.ASCIZ  /                                                           /
PLC1150:.ASCIZ  /                                                           /
PLC1151:.ASCIZ  /                                                           /
PLC1152:.ASCIZ  /                                                           /
PLC1153:.ASCIZ  /                                                           /
PLC1154:.ASCIZ  /                                                           /
PLC1155:.ASCIZ  /                                                           /
PLC1156:.ASCIZ  /                                                           /
PLC1157:.ASCIZ  /                                                           /
PLC1158:.ASCIZ  /                                                           /
PLC1159:.ASCIZ  /                                                           /
PLC1160:.ASCIZ  /                                                           /
PLC1161:.ASCIZ  /                                                           /
PLC1162:.ASCIZ  /                                                           /
PLC1163:.ASCIZ  /                                                           /
PLC1164:.ASCIZ  /                                                           /
PLC1165:.ASCIZ  /                                                           /
PLC1166:.ASCIZ  /                                                           /
PLC1167:.ASCIZ  /                                                           /
PLC1168:.ASCIZ  /                                                           /
PLC1169:.ASCIZ  /                                                           /
PLC1170:.ASCIZ  /                                                           /
PLC1171:.ASCIZ  /                                                           /
PLC1172:.ASCIZ  /                                                           /
PLC1173:.ASCIZ  /                                                           /
PLC1174:.ASCIZ  /                                                           /
PLC1175:.ASCIZ  /                                                           /
PLC1176:.ASCIZ  /                                                           /
PLC1177:.ASCIZ  /                                                           /
PLC1178:.ASCIZ  /                                                           /
PLC1179:.ASCIZ  /                                                           /
PLC1180:.ASCIZ  /                                                           /
PLC1181:.ASCIZ  /                                                           /
PLC1182:.ASCIZ  /                                                           /
PLC1183:.ASCIZ  /                                                           /
PLC1184:.ASCIZ  /                                                           /
PLC1185:.ASCIZ  /                                                           /
PLC1186:.ASCIZ  /                                                           /
PLC1187:.ASCIZ  /                                                           /
PLC1188:.ASCIZ  /                                                           /
PLC1189:.ASCIZ  /                                                           /
PLC1190:.ASCIZ  /                                                           /
PLC1191:.ASCIZ  /                                                           /
PLC1192:.ASCIZ  /                                                           /
PLC1193:.ASCIZ  /                                                           /
PLC1194:.ASCIZ  /                                                           /
PLC1195:.ASCIZ  /                                                           /
PLC1196:.ASCIZ  /                                                           /
PLC1197:.ASCIZ  /                                                           /
PLC1198:.ASCIZ  /                                                           /
PLC1199:.ASCIZ  /                                                           /
PLC1200:.ASCIZ  /                                                           /
PLC1201:.ASCIZ  /                                                           /
PLC1202:.ASCIZ  /                                                           /
PLC1203:.ASCIZ  /                                                           /
PLC1204:.ASCIZ  /                                                           /
PLC1205:.ASCIZ  /                                                           /
PLC1206:.ASCIZ  /                                                           /
PLC1207:.ASCIZ  /                                                           /
PLC1208:.ASCIZ  /                                                           /
PLC1209:.ASCIZ  /                                                           /
PLC1210:.ASCIZ  /                                                           /
PLC1211:.ASCIZ  /                                                           /
PLC1212:.ASCIZ  /                                                           /
PLC1213:.ASCIZ  /                                                           /
PLC1214:.ASCIZ  /                                                           /
PLC1215:.ASCIZ  /                                                           /
PLC1216:.ASCIZ  /                                                           /
PLC1217:.ASCIZ  /                                                           /
PLC1218:.ASCIZ  /                                                           /
PLC1219:.ASCIZ  /                                                           /
PLC1220:.ASCIZ  /                                                           /
PLC1221:.ASCIZ  /                                                           /
PLC1222:.ASCIZ  /                                                           /
PLC1223:.ASCIZ  /                                                           /
PLC1224:.ASCIZ  /                                                           /
PLC1225:.ASCIZ  /                                                           /
PLC1226:.ASCIZ  /                                                           /
PLC1227:.ASCIZ  /                                                           /
PLC1228:.ASCIZ  /                                                           /
PLC1229:.ASCIZ  /                                                           /
PLC1230:.ASCIZ  /                                                           /
PLC1231:.ASCIZ  /                                                           /
PLC1232:.ASCIZ  /                                                           /
PLC1233:.ASCIZ  /                                                           /
PLC1234:.ASCIZ  /                                                           /
PLC1235:.ASCIZ  /                                                           /
PLC1236:.ASCIZ  /                                                           /
PLC1237:.ASCIZ  /                                                           /
PLC1238:.ASCIZ  /                                                           /
PLC1239:.ASCIZ  /                                                           /
PLC1240:.ASCIZ  /                                                           /
PLC1241:.ASCIZ  /                                                           /
PLC1242:.ASCIZ  /                                                           /
PLC1243:.ASCIZ  /                                                           /
PLC1244:.ASCIZ  /                                                           /
PLC1245:.ASCIZ  /                                                           /
PLC1246:.ASCIZ  /                                                           /
PLC1247:.ASCIZ  /                                                           /
PLC1248:.ASCIZ  /                                                           /
PLC1249:.ASCIZ  /                                                           /
PLC1250:.ASCIZ  /                                                           /
PLC1251:.ASCIZ  /                                                           /
PLC1252:.ASCIZ  /                                                           /
PLC1253:.ASCIZ  /                                                           /
PLC1254:.ASCIZ  /                                                           /
PLC1255:.ASCIZ  /                                                           /
PLC1256:.ASCIZ  /                                                           /
PLC1257:.ASCIZ  /                                                           /
PLC1258:.ASCIZ  /                                                           /
PLC1259:.ASCIZ  /                                                           /
PLC1260:.ASCIZ  /                                                           /
PLC1261:.ASCIZ  /                                                           /
PLC1262:.ASCIZ  /                                                           /
PLC1263:.ASCIZ  /                                                           /
PLC1264:.ASCIZ  /                                                           /
PLC1265:.ASCIZ  /                                                           /
PLC1266:.ASCIZ  /                                                           /
PLC1267:.ASCIZ  /                                                           /
PLC1268:.ASCIZ  /                                                           /
PLC1269:.ASCIZ  /                                                           /
PLC1270:.ASCIZ  /                                                           /
PLC1271:.ASCIZ  /                                                           /
PLC1272:.ASCIZ  /                                                           /
PLC1273:.ASCIZ  /                                                           /
PLC1274:.ASCIZ  /                                                           /
PLC1275:.ASCIZ  /                                                           /
PLC1276:.ASCIZ  /                                                           /
PLC1277:.ASCIZ  /                                                           /
PLC1278:.ASCIZ  /                                                           /
PLC1279:.ASCIZ  /                                                           /
PLC1280:.ASCIZ  /                                                           /
PLC1281:.ASCIZ  /                                                           /
PLC1282:.ASCIZ  /                                                           /
PLC1283:.ASCIZ  /                                                           /
PLC1284:.ASCIZ  /                                                           /
PLC1285:.ASCIZ  /                                                           /
PLC1286:.ASCIZ  /                                                           /
PLC1287:.ASCIZ  /                                                           /
PLC1288:.ASCIZ  /                                                           /
PLC1289:.ASCIZ  /                                                           /
PLC1290:.ASCIZ  /                                                           /
PLC1291:.ASCIZ  /                                                           /
PLC1292:.ASCIZ  /                                                           /
PLC1293:.ASCIZ  /                                                           /
PLC1294:.ASCIZ  /                                                           /
PLC1295:.ASCIZ  /                                                           /
PLC1296:.ASCIZ  /                                                           /
PLC1297:.ASCIZ  /                                                           /
PLC1298:.ASCIZ  /                                                           /
PLC1299:.ASCIZ  /                                                           /
PLC1300:.ASCIZ  /                                                           /
PLC1301:.ASCIZ  /                                                           /
PLC1302:.ASCIZ  /                                                           /
PLC1303:.ASCIZ  /                                                           /
PLC1304:.ASCIZ  /                                                           /
PLC1305:.ASCIZ  /                                                           /
PLC1306:.ASCIZ  /                                                           /
PLC1307:.ASCIZ  /                                                           /
PLC1308:.ASCIZ  /                                                           /
PLC1309:.ASCIZ  /                                                           /
PLC1310:.ASCIZ  /                                                           /
PLC1311:.ASCIZ  /                                                           /
PLC1312:.ASCIZ  /                                                           /
PLC1313:.ASCIZ  /                                                           /
PLC1314:.ASCIZ  /                                                           /
PLC1315:.ASCIZ  /                                                           /
PLC1316:.ASCIZ  /                                                           /
PLC1317:.ASCIZ  /                                                           /
PLC1318:.ASCIZ  /                                                           /
PLC1319:.ASCIZ  /                                                           /
PLC1320:.ASCIZ  /                                                           /
PLC1321:.ASCIZ  /                                                           /
PLC1322:.ASCIZ  /                                                           /
PLC1323:.ASCIZ  /                                                           /
PLC1324:.ASCIZ  /                                                           /
PLC1325:.ASCIZ  /                                                           /
PLC1326:.ASCIZ  /                                                           /
PLC1327:.ASCIZ  /                                                           /
PLC1328:.ASCIZ  /                                                           /
PLC1329:.ASCIZ  /                                                           /
PLC1330:.ASCIZ  /                                                           /
PLC1331:.ASCIZ  /                                                           /
PLC1332:.ASCIZ  /                                                           /
PLC1333:.ASCIZ  /                                                           /
PLC1334:.ASCIZ  /                                                           /
PLC1335:.ASCIZ  /                                                           /
PLC1336:.ASCIZ  /                                                           /
PLC1337:.ASCIZ  /                                                           /
PLC1338:.ASCIZ  /                                                           /
PLC1339:.ASCIZ  /                                                           /
PLC1340:.ASCIZ  /                                                           /
PLC1341:.ASCIZ  /                                                           /
PLC1342:.ASCIZ  /                                                           /
PLC1343:.ASCIZ  /                                                           /
PLC1344:.ASCIZ  /                                                           /
PLC1345:.ASCIZ  /                                                           /
PLC1346:.ASCIZ  /                                                           /
PLC1347:.ASCIZ  /                                                           /
PLC1348:.ASCIZ  /                                                           /
PLC1349:.ASCIZ  /                                                           /
PLC1350:.ASCIZ  /                                                           /
PLC1351:.ASCIZ  /                                                           /
PLC1352:.ASCIZ  /                                                           /
PLC1353:.ASCIZ  /                                                           /
PLC1354:.ASCIZ  /                                                           /
PLC1355:.ASCIZ  /                                                           /
PLC1356:.ASCIZ  /                                                           /
PLC1357:.ASCIZ  /                                                           /
PLC1358:.ASCIZ  /                                                           /
PLC1359:.ASCIZ  /                                                           /
PLC1360:.ASCIZ  /                                                           /
PLC1361:.ASCIZ  /                                                           /
PLC1362:.ASCIZ  /                                                           /
PLC1363:.ASCIZ  /                                                           /
PLC1364:.ASCIZ  /                                                           /
PLC1365:.ASCIZ  /                                                           /
PLC1366:.ASCIZ  /                                                           /
PLC1367:.ASCIZ  /                                                           /
PLC1368:.ASCIZ  /                                                           /
PLC1369:.ASCIZ  /                                                           /
PLC1370:.ASCIZ  /                                                           /
PLC1371:.ASCIZ  /                                                           /
PLC1372:.ASCIZ  /                                                           /
PLC1373:.ASCIZ  /                                                           /
PLC1374:.ASCIZ  /                                                           /
PLC1375:.ASCIZ  /                                                           /
PLC1376:.ASCIZ  /                                                           /
PLC1377:.ASCIZ  /                                                           /
PLC1378:.ASCIZ  /                                                           /
PLC1379:.ASCIZ  /                                                           /
PLC1380:.ASCIZ  /                                                           /
PLC1381:.ASCIZ  /                                                           /
PLC1382:.ASCIZ  /                                                           /
PLC1383:.ASCIZ  /                                                           /
PLC1384:.ASCIZ  /                                                           /
PLC1385:.ASCIZ  /                                                           /
PLC1386:.ASCIZ  /                                                           /
PLC1387:.ASCIZ  /                                                           /
PLC1388:.ASCIZ  /                                                           /
PLC1389:.ASCIZ  /                                                           /
PLC1390:.ASCIZ  /                                                           /
PLC1391:.ASCIZ  /                                                           /
PLC1392:.ASCIZ  /                                                           /
PLC1393:.ASCIZ  /                                                           /
PLC1394:.ASCIZ  /                                                           /
PLC1395:.ASCIZ  /                                                           /
PLC1396:.ASCIZ  /                                                           /
PLC1397:.ASCIZ  /                                                           /
PLC1398:.ASCIZ  /                                                           /
PLC1399:.ASCIZ  /                                                           /
PLC1400:.ASCIZ  /                                                           /
PLC1401:.ASCIZ  /                                                           /
PLC1402:.ASCIZ  /                                                           /
PLC1403:.ASCIZ  /                                                           /
PLC1404:.ASCIZ  /                                                           /
PLC1405:.ASCIZ  /                                                           /
PLC1406:.ASCIZ  /                                                           /
PLC1407:.ASCIZ  /                                                           /
PLC1408:.ASCIZ  /                                                           /
PLC1409:.ASCIZ  /                                                           /
PLC1410:.ASCIZ  /                                                           /
PLC1411:.ASCIZ  /                                                           /
PLC1412:.ASCIZ  /                                                           /
PLC1413:.ASCIZ  /                                                           /
PLC1414:.ASCIZ  /                                                           /
PLC1415:.ASCIZ  /                                                           /
PLC1416:.ASCIZ  /                                                           /
PLC1417:.ASCIZ  /                                                           /
PLC1418:.ASCIZ  /                                                           /
PLC1419:.ASCIZ  /                                                           /
PLC1420:.ASCIZ  /                                                           /
PLC1421:.ASCIZ  /                                                           /
PLC1422:.ASCIZ  /                                                           /
PLC1423:.ASCIZ  /                                                           /
PLC1424:.ASCIZ  /                                                           /
PLC1425:.ASCIZ  /                                                           /
PLC1426:.ASCIZ  /                                                           /
PLC1427:.ASCIZ  /                                                           /
PLC1428:.ASCIZ  /                                                           /
PLC1429:.ASCIZ  /                                                           /
PLC1430:.ASCIZ  /                                                           /
PLC1431:.ASCIZ  /                                                           /
PLC1432:.ASCIZ  /                                                           /
PLC1433:.ASCIZ  /                                                           /
PLC1434:.ASCIZ  /                                                           /
PLC1435:.ASCIZ  /                                                           /
PLC1436:.ASCIZ  /                                                           /
PLC1437:.ASCIZ  /                                                           /
PLC1438:.ASCIZ  /                                                           /
PLC1439:.ASCIZ  /                                                           /
PLC1440:.ASCIZ  /                                                           /
PLC1441:.ASCIZ  /                                                           /
PLC1442:.ASCIZ  /                                                           /
PLC1443:.ASCIZ  /                                                           /
PLC1444:.ASCIZ  /                                                           /
PLC1445:.ASCIZ  /                                                           /
PLC1446:.ASCIZ  /                                                           /
PLC1447:.ASCIZ  /                                                           /
PLC1448:.ASCIZ  /                                                           /
PLC1449:.ASCIZ  /                                                           /
PLC1450:.ASCIZ  /                                                           /
PLC1451:.ASCIZ  /                                                           /
PLC1452:.ASCIZ  /                                                           /
PLC1453:.ASCIZ  /                                                           /
PLC1454:.ASCIZ  /                                                           /
PLC1455:.ASCIZ  /                                                           /
PLC1456:.ASCIZ  /                                                           /
PLC1457:.ASCIZ  /                                                           /
PLC1458:.ASCIZ  /                                                           /
PLC1459:.ASCIZ  /                                                           /
PLC1460:.ASCIZ  /                                                           /
PLC1461:.ASCIZ  /                                                           /
PLC1462:.ASCIZ  /                                                           /
PLC1463:.ASCIZ  /                                                           /
PLC1464:.ASCIZ  /                                                           /
PLC1465:.ASCIZ  /                                                           /
PLC1466:.ASCIZ  /                                                           /
PLC1467:.ASCIZ  /                                                           /
PLC1468:.ASCIZ  /                                                           /
PLC1469:.ASCIZ  /                                                           /
PLC1470:.ASCIZ  /                                                           /
PLC1471:.ASCIZ  /                                                           /
PLC1472:.ASCIZ  /                                                           /
PLC1473:.ASCIZ  /                                                           /
PLC1474:.ASCIZ  /                                                           /
PLC1475:.ASCIZ  /                                                           /
PLC1476:.ASCIZ  /                                                           /
PLC1477:.ASCIZ  /                                                           /
PLC1478:.ASCIZ  /                                                           /
PLC1479:.ASCIZ  /                                                           /
PLC1480:.ASCIZ  /                                                           /
PLC1481:.ASCIZ  /                                                           /
PLC1482:.ASCIZ  /                                                           /
PLC1483:.ASCIZ  /                                                           /
PLC1484:.ASCIZ  /                                                           /
PLC1485:.ASCIZ  /                                                           /
PLC1486:.ASCIZ  /                                                           /
PLC1487:.ASCIZ  /                                                           /
PLC1488:.ASCIZ  /                                                           /
PLC1489:.ASCIZ  /                                                           /
PLC1490:.ASCIZ  /                                                           /
PLC1491:.ASCIZ  /                                                           /
PLC1492:.ASCIZ  /                                                           /
PLC1493:.ASCIZ  /                                                           /
PLC1494:.ASCIZ  /                                                           /
PLC1495:.ASCIZ  /                                                           /
PLC1496:.ASCIZ  /                                                           /
PLC1497:.ASCIZ  /                                                           /
PLC1498:.ASCIZ  /                                                           /
PLC1499:.ASCIZ  /                                                           /
PLC1500:.ASCIZ  /                                                           /
PLC1501:.ASCIZ  /                                                           /
PLC1502:.ASCIZ  /                                                           /
PLC1503:.ASCIZ  /                                                           /
PLC1504:.ASCIZ  /                                                           /
PLC1505:.ASCIZ  /                                                           /
PLC1506:.ASCIZ  /                                                           /
PLC1507:.ASCIZ  /                                                           /
PLC1508:.ASCIZ  /                                                           /
PLC1509:.ASCIZ  /MTE: MT RUNNING TIME:                                      /
PLC1510:.ASCIZ  /MT MACHINING TIME:                                         /
PLC1511:.ASCIZ  /MTE: MT SPINDLE TIME:                                      /
PLC1512:.ASCIZ  /                                                           /
PLC1513:.ASCIZ  /                                                           /
PLC1514:.ASCIZ  /                                                           /
PLC1515:.ASCIZ  /                                                           /
PLC1516:.ASCIZ  /                                                           /
PLC1517:.ASCIZ  /                                                           /
PLC1518:.ASCIZ  /                                                           /
PLC1519:.ASCIZ  /                                                           /
PLC1520:.ASCIZ  /                                                           /
PLC1521:.ASCIZ  /                                                           /
PLC1522:.ASCIZ  /                                                           /
PLC1523:.ASCIZ  /                                                           /
PLC1524:.ASCIZ  /                                                           /
PLC1525:.ASCIZ  /                                                           /
PLC1526:.ASCIZ  /                                                           /
PLC1527:.ASCIZ  /                                                           /
PLC1528:.ASCIZ  /                                                           /
PLC1529:.ASCIZ  /                                                           /
PLC1530:.ASCIZ  /                                                           /
PLC1531:.ASCIZ  /                                                           /
PLC1532:.ASCIZ  /                                                           /
PLC1533:.ASCIZ  /                                                           /
PLC1534:.ASCIZ  /                                                           /
PLC1535:.ASCIZ  /                                                           /
PLC1536:.ASCIZ  /                                                           /
PLC1537:.ASCIZ  /                                                           /
PLC1538:.ASCIZ  /                                                           /
PLC1539:.ASCIZ  /                                                           /
PLC1540:.ASCIZ  /                                                           /
PLC1541:.ASCIZ  /                                                           /
PLC1542:.ASCIZ  /                                                           /
PLC1543:.ASCIZ  /                                                           /
PLC1544:.ASCIZ  /                                                           /
PLC1545:.ASCIZ  /                                                           /
PLC1546:.ASCIZ  /                                                           /
PLC1547:.ASCIZ  /                                                           /
PLC1548:.ASCIZ  /                                                           /
PLC1549:.ASCIZ  /                                                           /
PLC1550:.ASCIZ  /                                                           /
PLC1551:.ASCIZ  /                                                           /
PLC1552:.ASCIZ  /                                                           /
PLC1553:.ASCIZ  /                                                           /
PLC1554:.ASCIZ  /                                                           /
PLC1555:.ASCIZ  /                                                           /
PLC1556:.ASCIZ  /                                                           /
PLC1557:.ASCIZ  /                                                           /
PLC1558:.ASCIZ  /                                                           /
PLC1559:.ASCIZ  /                                                           /
PLC1560:.ASCIZ  /                                                           /
PLC1561:.ASCIZ  /                                                           /
PLC1562:.ASCIZ  /                                                           /
PLC1563:.ASCIZ  /                                                           /
PLC1564:.ASCIZ  /                                                           /
PLC1565:.ASCIZ  /                                                           /
PLC1566:.ASCIZ  /                                                           /
PLC1567:.ASCIZ  /                                                           /
PLC1568:.ASCIZ  /                                                           /
PLC1569:.ASCIZ  /                                                           /
PLC1570:.ASCIZ  /                                                           /
PLC1571:.ASCIZ  /                                                           /
PLC1572:.ASCIZ  /                                                           /
PLC1573:.ASCIZ  /                                                           /
PLC1574:.ASCIZ  /                                                           /
PLC1575:.ASCIZ  /                                                           /
PLC1576:.ASCIZ  /                                                           /
PLC1577:.ASCIZ  /                                                           /
PLC1578:.ASCIZ  /                                                           /
PLC1579:.ASCIZ  /                                                           /
PLC1580:.ASCIZ  /                                                           /
PLC1581:.ASCIZ  /                                                           /
PLC1582:.ASCIZ  /                                                           /
PLC1583:.ASCIZ  /                                                           /
PLC1584:.ASCIZ  /                                                           /
PLC1585:.ASCIZ  /                                                           /
PLC1586:.ASCIZ  /                                                           /
PLC1587:.ASCIZ  /                                                           /
PLC1588:.ASCIZ  /                                                           /
PLC1589:.ASCIZ  /                                                           /
PLC1590:.ASCIZ  /                                                           /
PLC1591:.ASCIZ  /                                                           /
PLC1592:.ASCIZ  /                                                           /
PLC1593:.ASCIZ  /                                                           /
PLC1594:.ASCIZ  /                                                           /
PLC1595:.ASCIZ  /                                                           /
PLC1596:.ASCIZ  /                                                           /
PLC1597:.ASCIZ  /                                                           /
PLC1598:.ASCIZ  /                                                           /
PLC1599:.ASCIZ  /                                                           /
PLC1600:.ASCIZ  /                                                           /
PLC1601:.ASCIZ  /                                                           /
PLC1602:.ASCIZ  /                                                           /
PLC1603:.ASCIZ  /                                                           /
PLC1604:.ASCIZ  /                                                           /
PLC1605:.ASCIZ  /                                                           /
PLC1606:.ASCIZ  /                                                           /
PLC1607:.ASCIZ  /                                                           /
PLC1608:.ASCIZ  /                                                           /
PLC1609:.ASCIZ  /                                                           /
PLC1610:.ASCIZ  /                                                           /
PLC1611:.ASCIZ  /                                                           /
PLC1612:.ASCIZ  /                                                           /
PLC1613:.ASCIZ  /                                                           /
PLC1614:.ASCIZ  /                                                           /
PLC1615:.ASCIZ  /                                                           /
PLC1616:.ASCIZ  /                                                           /
PLC1617:.ASCIZ  /                                                           /
PLC1618:.ASCIZ  /                                                           /
PLC1619:.ASCIZ  /                                                           /
PLC1620:.ASCIZ  /                                                           /
PLC1621:.ASCIZ  /                                                           /
PLC1622:.ASCIZ  /                                                           /
PLC1623:.ASCIZ  /                                                           /
PLC1624:.ASCIZ  /                                                           /
PLC1625:.ASCIZ  /                                                           /
PLC1626:.ASCIZ  /                                                           /
PLC1627:.ASCIZ  /                                                           /
PLC1628:.ASCIZ  /                                                           /
PLC1629:.ASCIZ  /                                                           /
PLC1630:.ASCIZ  /                                                           /
PLC1631:.ASCIZ  /                                                           /
PLC1632:.ASCIZ  /                                                           /
PLC1633:.ASCIZ  /                                                           /
PLC1634:.ASCIZ  /                                                           /
PLC1635:.ASCIZ  /                                                           /
PLC1636:.ASCIZ  /                                                           /
PLC1637:.ASCIZ  /                                                           /
PLC1638:.ASCIZ  /                                                           /
PLC1639:.ASCIZ  /                                                           /
PLC1640:.ASCIZ  /                                                           /
PLC1641:.ASCIZ  /                                                           /
PLC1642:.ASCIZ  /                                                           /
PLC1643:.ASCIZ  /                                                           /
PLC1644:.ASCIZ  /                                                           /
PLC1645:.ASCIZ  /                                                           /
PLC1646:.ASCIZ  /                                                           /
PLC1647:.ASCIZ  /                                                           /
PLC1648:.ASCIZ  /                                                           /
PLC1649:.ASCIZ  /                                                           /
PLC1650:.ASCIZ  /                                                           /
PLC1651:.ASCIZ  /                                                           /
PLC1652:.ASCIZ  /                                                           /
PLC1653:.ASCIZ  /                                                           /
PLC1654:.ASCIZ  /                                                           /
PLC1655:.ASCIZ  /                                                           /
PLC1656:.ASCIZ  /                                                           /
PLC1657:.ASCIZ  /                                                           /
PLC1658:.ASCIZ  /                                                           /
PLC1659:.ASCIZ  /                                                           /
PLC1660:.ASCIZ  /                                                           /
PLC1661:.ASCIZ  /                                                           /
PLC1662:.ASCIZ  /                                                           /
PLC1663:.ASCIZ  /                                                           /
PLC1664:.ASCIZ  /                                                           /
PLC1665:.ASCIZ  /                                                           /
PLC1666:.ASCIZ  /                                                           /
PLC1667:.ASCIZ  /                                                           /
PLC1668:.ASCIZ  /                                                           /
PLC1669:.ASCIZ  /                                                           /
PLC1670:.ASCIZ  /                                                           /
PLC1671:.ASCIZ  /                                                           /
PLC1672:.ASCIZ  /                                                           /
PLC1673:.ASCIZ  /                                                           /
PLC1674:.ASCIZ  /                                                           /
PLC1675:.ASCIZ  /                                                           /
PLC1676:.ASCIZ  /                                                           /
PLC1677:.ASCIZ  /                                                           /
PLC1678:.ASCIZ  /                                                           /
PLC1679:.ASCIZ  /                                                           /
PLC1680:.ASCIZ  /                                                           /
PLC1681:.ASCIZ  /                                                           /
PLC1682:.ASCIZ  /                                                           /
PLC1683:.ASCIZ  /                                                           /
PLC1684:.ASCIZ  /                                                           /
PLC1685:.ASCIZ  /                                                           /
PLC1686:.ASCIZ  /                                                           /
PLC1687:.ASCIZ  /                                                           /
PLC1688:.ASCIZ  /                                                           /
PLC1689:.ASCIZ  /                                                           /
PLC1690:.ASCIZ  /                                                           /
PLC1691:.ASCIZ  /                                                           /
PLC1692:.ASCIZ  /                                                           /
PLC1693:.ASCIZ  /                                                           /
PLC1694:.ASCIZ  /                                                           /
PLC1695:.ASCIZ  /                                                           /
PLC1696:.ASCIZ  /                                                           /
PLC1697:.ASCIZ  /                                                           /
PLC1698:.ASCIZ  /                                                           /
PLC1699:.ASCIZ  /                                                           /
PLC1700:.ASCIZ  /                                                           /
PLC1701:.ASCIZ  /                                                           /
PLC1702:.ASCIZ  /                                                           /
PLC1703:.ASCIZ  /                                                           /
PLC1704:.ASCIZ  /                                                           /
PLC1705:.ASCIZ  /                                                           /
PLC1706:.ASCIZ  /                                                           /
PLC1707:.ASCIZ  /                                                           /
PLC1708:.ASCIZ  /                                                           /
PLC1709:.ASCIZ  /                                                           /
PLC1710:.ASCIZ  /                                                           /
PLC1711:.ASCIZ  /                                                           /
PLC1712:.ASCIZ  /                                                           /
PLC1713:.ASCIZ  /                                                           /
PLC1714:.ASCIZ  /                                                           /
PLC1715:.ASCIZ  /                                                           /
PLC1716:.ASCIZ  /                                                           /
PLC1717:.ASCIZ  /                                                           /
PLC1718:.ASCIZ  /                                                           /
PLC1719:.ASCIZ  /                                                           /
PLC1720:.ASCIZ  /                                                           /
PLC1721:.ASCIZ  /                                                           /
PLC1722:.ASCIZ  /                                                           /
PLC1723:.ASCIZ  /                                                           /
PLC1724:.ASCIZ  /                                                           /
PLC1725:.ASCIZ  /                                                           /
PLC1726:.ASCIZ  /                                                           /
PLC1727:.ASCIZ  /                                                           /
PLC1728:.ASCIZ  /                                                           /
PLC1729:.ASCIZ  /                                                           /
PLC1730:.ASCIZ  /                                                           /
PLC1731:.ASCIZ  /                                                           /
PLC1732:.ASCIZ  /                                                           /
PLC1733:.ASCIZ  /                                                           /
PLC1734:.ASCIZ  /                                                           /
PLC1735:.ASCIZ  /                                                           /
PLC1736:.ASCIZ  /                                                           /
PLC1737:.ASCIZ  /                                                           /
PLC1738:.ASCIZ  /                                                           /
PLC1739:.ASCIZ  /                                                           /
PLC1740:.ASCIZ  /                                                           /
PLC1741:.ASCIZ  /                                                           /
PLC1742:.ASCIZ  /                                                           /
PLC1743:.ASCIZ  /                                                           /
PLC1744:.ASCIZ  /                                                           /
PLC1745:.ASCIZ  /                                                           /
PLC1746:.ASCIZ  /                                                           /
PLC1747:.ASCIZ  /                                                           /
PLC1748:.ASCIZ  /                                                           /
PLC1749:.ASCIZ  /                                                           /
PLC1750:.ASCIZ  /                                                           /
PLC1751:.ASCIZ  /                                                           /
PLC1752:.ASCIZ  /                                                           /
PLC1753:.ASCIZ  /                                                           /
PLC1754:.ASCIZ  /                                                           /
PLC1755:.ASCIZ  /                                                           /
PLC1756:.ASCIZ  /                                                           /
PLC1757:.ASCIZ  /                                                           /
PLC1758:.ASCIZ  /                                                           /
PLC1759:.ASCIZ  /                                                           /
PLC1760:.ASCIZ  /                                                           /
PLC1761:.ASCIZ  /                                                           /
PLC1762:.ASCIZ  /                                                           /
PLC1763:.ASCIZ  /                                                           /
PLC1764:.ASCIZ  /                                                           /
PLC1765:.ASCIZ  /                                                           /
PLC1766:.ASCIZ  /                                                           /
PLC1767:.ASCIZ  /                                                           /
PLC1768:.ASCIZ  /$PBTOGGLE                                                  /
PLC1769:.ASCIZ  /                                                           /
PLC1770:.ASCIZ  /                                                           /
PLC1771:.ASCIZ  /                                                           /
PLC1772:.ASCIZ  /MTE: MOVE FEED POTENTIOMETER TO %:                         /
PLC1773:.ASCIZ  /MTE: MOVE SPINDLE POTENTIOMETER TO %:                      /
PLC1774:.ASCIZ  /                                                           /
PLC1775:.ASCIZ  /                                                           /
PLC1776:.ASCIZ  /                                                           /
PLC1777:.ASCIZ  /                                                           /
PLC1778:.ASCIZ  /                                                           /
PLC1779:.ASCIZ  /                                                           /
PLC1780:.ASCIZ  /                                                           /
PLC1781:.ASCIZ  /                                                           /
PLC1782:.ASCIZ  /                                                           /
PLC1783:.ASCIZ  /                                                           /
PLC1784:.ASCIZ  /                                                           /
PLC1785:.ASCIZ  /                                                           /
PLC1786:.ASCIZ  /                                                           /
PLC1787:.ASCIZ  /                                                           /
PLC1788:.ASCIZ  /                                                           /
PLC1789:.ASCIZ  /                                                           /
PLC1790:.ASCIZ  /                                                           /
PLC1791:.ASCIZ  /                                                           /
PLC1792:.ASCIZ  /                                                           /
PLC1793:.ASCIZ  /                                                           /
PLC1794:.ASCIZ  /                                                           /
PLC1795:.ASCIZ  /                                                           /
PLC1796:.ASCIZ  /                                                           /
PLC1797:.ASCIZ  /                                                           /
PLC1798:.ASCIZ  /                                                           /
PLC1799:.ASCIZ  /                                                           /
PLC1800:.ASCIZ  /                                                           /
PLC1801:.ASCIZ  /                                                           /
PLC1802:.ASCIZ  /                                                           /
PLC1803:.ASCIZ  /                                                           /
PLC1804:.ASCIZ  /                                                           /
PLC1805:.ASCIZ  /                                                           /
PLC1806:.ASCIZ  /                                                           /
PLC1807:.ASCIZ  /                                                           /
PLC1808:.ASCIZ  /                                                           /
PLC1809:.ASCIZ  /                                                           /
PLC1810:.ASCIZ  /                                                           /
PLC1811:.ASCIZ  /                                                           /
PLC1812:.ASCIZ  /                                                           /
PLC1813:.ASCIZ  /                                                           /
PLC1814:.ASCIZ  /                                                           /
PLC1815:.ASCIZ  /                                                           /
PLC1816:.ASCIZ  /                                                           /
PLC1817:.ASCIZ  /                                                           /
PLC1818:.ASCIZ  /                                                           /
PLC1819:.ASCIZ  /                                                           /
PLC1820:.ASCIZ  /                                                           /
PLC1821:.ASCIZ  /                                                           /
PLC1822:.ASCIZ  /                                                           /
PLC1823:.ASCIZ  /                                                           /
PLC1824:.ASCIZ  /                                                           /
PLC1825:.ASCIZ  /                                                           /
PLC1826:.ASCIZ  /                                                           /
PLC1827:.ASCIZ  /                                                           /
PLC1828:.ASCIZ  /                                                           /
PLC1829:.ASCIZ  /                                                           /
PLC1830:.ASCIZ  /                                                           /
PLC1831:.ASCIZ  /                                                           /
PLC1832:.ASCIZ  /                                                           /
PLC1833:.ASCIZ  /                                                           /
PLC1834:.ASCIZ  /                                                           /
PLC1835:.ASCIZ  /                                                           /
PLC1836:.ASCIZ  /                                                           /
PLC1837:.ASCIZ  /                                                           /
PLC1838:.ASCIZ  /                                                           /
PLC1839:.ASCIZ  /                                                           /
PLC1840:.ASCIZ  /                                                           /
PLC1841:.ASCIZ  /                                                           /
PLC1842:.ASCIZ  /                                                           /
PLC1843:.ASCIZ  /                                                           /
PLC1844:.ASCIZ  /                                                           /
PLC1845:.ASCIZ  /                                                           /
PLC1846:.ASCIZ  /                                                           /
PLC1847:.ASCIZ  /                                                           /
PLC1848:.ASCIZ  /                                                           /
PLC1849:.ASCIZ  /                                                           /
PLC1850:.ASCIZ  /                                                           /
PLC1851:.ASCIZ  /                                                           /
PLC1852:.ASCIZ  /                                                           /
PLC1853:.ASCIZ  /                                                           /
PLC1854:.ASCIZ  /                                                           /
PLC1855:.ASCIZ  /                                                           /
PLC1856:.ASCIZ  /                                                           /
PLC1857:.ASCIZ  /                                                           /
PLC1858:.ASCIZ  /                                                           /
PLC1859:.ASCIZ  /                                                           /
PLC1860:.ASCIZ  /                                                           /
PLC1861:.ASCIZ  /                                                           /
PLC1862:.ASCIZ  /                                                           /
PLC1863:.ASCIZ  /                                                           /
PLC1864:.ASCIZ  /                                                           /
PLC1865:.ASCIZ  /                                                           /
PLC1866:.ASCIZ  /                                                           /
PLC1867:.ASCIZ  /                                                           /
PLC1868:.ASCIZ  /                                                           /
PLC1869:.ASCIZ  /                                                           /
PLC1870:.ASCIZ  /                                                           /
PLC1871:.ASCIZ  /                                                           /
PLC1872:.ASCIZ  /                                                           /
PLC1873:.ASCIZ  /                                                           /
PLC1874:.ASCIZ  /                                                           /
PLC1875:.ASCIZ  /                                                           /
PLC1876:.ASCIZ  /                                                           /
PLC1877:.ASCIZ  /                                                           /
PLC1878:.ASCIZ  /                                                           /
PLC1879:.ASCIZ  /                                                           /
PLC1880:.ASCIZ  /                                                           /
PLC1881:.ASCIZ  /                                                           /
PLC1882:.ASCIZ  /                                                           /
PLC1883:.ASCIZ  /                                                           /
PLC1884:.ASCIZ  /                                                           /
PLC1885:.ASCIZ  /                                                           /
PLC1886:.ASCIZ  /                                                           /
PLC1887:.ASCIZ  /                                                           /
PLC1888:.ASCIZ  /                                                           /
PLC1889:.ASCIZ  /                                                           /
PLC1890:.ASCIZ  /                                                           /
PLC1891:.ASCIZ  /                                                           /
PLC1892:.ASCIZ  /                                                           /
PLC1893:.ASCIZ  /                                                           /
PLC1894:.ASCIZ  /                                                           /
PLC1895:.ASCIZ  /                                                           /
PLC1896:.ASCIZ  /                                                           /
PLC1897:.ASCIZ  /                                                           /
PLC1898:.ASCIZ  /                                                           /
PLC1899:.ASCIZ  /                                                           /
PLC1900:.ASCIZ  /                                                           /
PLC1901:.ASCIZ  /                                                           /
PLC1902:.ASCIZ  /                                                           /
PLC1903:.ASCIZ  /                                                           /
PLC1904:.ASCIZ  /                                                           /
PLC1905:.ASCIZ  /                                                           /
PLC1906:.ASCIZ  /                                                           /
PLC1907:.ASCIZ  /                                                           /
PLC1908:.ASCIZ  /                                                           /
PLC1909:.ASCIZ  /                                                           /
PLC1910:.ASCIZ  /                                                           /
PLC1911:.ASCIZ  /                                                           /
PLC1912:.ASCIZ  /                                                           /
PLC1913:.ASCIZ  /                                                           /
PLC1914:.ASCIZ  /                                                           /
PLC1915:.ASCIZ  /                                                           /
PLC1916:.ASCIZ  /                                                           /
PLC1917:.ASCIZ  /                                                           /
PLC1918:.ASCIZ  /                                                           /
PLC1919:.ASCIZ  /                                                           /
PLC1920:.ASCIZ  /                                                           /
PLC1921:.ASCIZ  /                                                           /
PLC1922:.ASCIZ  /                                                           /
PLC1923:.ASCIZ  /                                                           /
PLC1924:.ASCIZ  /                                                           /
PLC1925:.ASCIZ  /                                                           /
PLC1926:.ASCIZ  /                                                           /
PLC1927:.ASCIZ  /                                                           /
PLC1928:.ASCIZ  /                                                           /
PLC1929:.ASCIZ  /                                                           /
PLC1930:.ASCIZ  /                                                           /
PLC1931:.ASCIZ  /                                                           /
PLC1932:.ASCIZ  /                                                           /
PLC1933:.ASCIZ  /                                                           /
PLC1934:.ASCIZ  /                                                           /
PLC1935:.ASCIZ  /                                                           /
PLC1936:.ASCIZ  /                                                           /
PLC1937:.ASCIZ  /                                                           /
PLC1938:.ASCIZ  /                                                           /
PLC1939:.ASCIZ  /CCO: CHIP CONVEYOR 3 LEVEL =                               /
PLC1940:.ASCIZ  /                                                           /
PLC1941:.ASCIZ  /                                                           /
PLC1942:.ASCIZ  /                                                           /
PLC1943:.ASCIZ  /                                                           /
PLC1944:.ASCIZ  /                                                           /
PLC1945:.ASCIZ  /                                                           /
PLC1946:.ASCIZ  /                                                           /
PLC1947:.ASCIZ  /                                                           /
PLC1948:.ASCIZ  /                                                           /
PLC1949:.ASCIZ  /                                                           /
PLC1950:.ASCIZ  /                                                           /
PLC1951:.ASCIZ  /                                                           /
PLC1952:.ASCIZ  /                                                           /
PLC1953:.ASCIZ  /                                                           /
PLC1954:.ASCIZ  /                                                           /
PLC1955:.ASCIZ  /                                                           /
PLC1956:.ASCIZ  /                                                           /
PLC1957:.ASCIZ  /                                                           /
PLC1958:.ASCIZ  /                                                           /
PLC1959:.ASCIZ  /                                                           /
PLC1960:.ASCIZ  /                                                           /
PLC1961:.ASCIZ  /                                                           /
PLC1962:.ASCIZ  /                                                           /
PLC1963:.ASCIZ  /                                                           /
PLC1964:.ASCIZ  /                                                           /
PLC1965:.ASCIZ  /                                                           /
PLC1966:.ASCIZ  /                                                           /
PLC1967:.ASCIZ  /                                                           /
PLC1968:.ASCIZ  /                                                           /
PLC1969:.ASCIZ  /                                                           /
PLC1970:.ASCIZ  /                                                           /
PLC1971:.ASCIZ  /                                                           /
PLC1972:.ASCIZ  /                                                           /
PLC1973:.ASCIZ  /                                                           /
PLC1974:.ASCIZ  /                                                           /
PLC1975:.ASCIZ  /                                                           /
PLC1976:.ASCIZ  /                                                           /
PLC1977:.ASCIZ  /                                                           /
PLC1978:.ASCIZ  /                                                           /
PLC1979:.ASCIZ  /                                                           /
PLC1980:.ASCIZ  /                                                           /
PLC1981:.ASCIZ  /                                                           /
PLC1982:.ASCIZ  /                                                           /
PLC1983:.ASCIZ  /                                                           /
PLC1984:.ASCIZ  /                                                           /
PLC1985:.ASCIZ  /                                                           /
PLC1986:.ASCIZ  /                                                           /
PLC1987:.ASCIZ  /                                                           /
PLC1988:.ASCIZ  /                                                           /
PLC1989:.ASCIZ  /                                                           /
PLC1990:.ASCIZ  /                                                           /
PLC1991:.ASCIZ  /                                                           /
PLC1992:.ASCIZ  /                                                           /
PLC1993:.ASCIZ  /                                                           /
PLC1994:.ASCIZ  /                                                           /
PLC1995:.ASCIZ  /                                                           /
PLC1996:.ASCIZ  /                                                           /
PLC1997:.ASCIZ  /                                                           /
PLC1998:.ASCIZ  /                                                           /
PLC1999:.ASCIZ  /                                                           /
PLC2000:.ASCIZ  /                                                           /
PLC2001:.ASCIZ  /                                                           /
PLC2002:.ASCIZ  /                                                           /
PLC2003:.ASCIZ  /                                                           /
PLC2004:.ASCIZ  /                                                           /
PLC2005:.ASCIZ  /                                                           /
PLC2006:.ASCIZ  /                                                           /
PLC2007:.ASCIZ  /                                                           /
PLC2008:.ASCIZ  /                                                           /
PLC2009:.ASCIZ  /                                                           /
PLC2010:.ASCIZ  /                                                           /
PLC2011:.ASCIZ  /                                                           /
PLC2012:.ASCIZ  /                                                           /
PLC2013:.ASCIZ  /                                                           /
PLC2014:.ASCIZ  /                                                           /
PLC2015:.ASCIZ  /                                                           /
PLC2016:.ASCIZ  /                                                           /
PLC2017:.ASCIZ  /                                                           /
PLC2018:.ASCIZ  /                                                           /
PLC2019:.ASCIZ  /                                                           /
PLC2020:.ASCIZ  /                                                           /
PLC2021:.ASCIZ  /                                                           /
PLC2022:.ASCIZ  /                                                           /
PLC2023:.ASCIZ  /                                                           /
PLC2024:.ASCIZ  /                                                           /
PLC2025:.ASCIZ  /                                                           /
PLC2026:.ASCIZ  /                                                           /
PLC2027:.ASCIZ  /                                                           /
PLC2028:.ASCIZ  /                                                           /
PLC2029:.ASCIZ  /                                                           /
PLC2030:.ASCIZ  /                                                           /
PLC2031:.ASCIZ  /                                                           /
PLC2032:.ASCIZ  /                                                           /
PLC2033:.ASCIZ  /                                                           /
PLC2034:.ASCIZ  /                                                           /
PLC2035:.ASCIZ  /                                                           /
PLC2036:.ASCIZ  /                                                           /
PLC2037:.ASCIZ  /                                                           /
PLC2038:.ASCIZ  /                                                           /
PLC2039:.ASCIZ  /                                                           /
PLC2040:.ASCIZ  /                                                           /
PLC2041:.ASCIZ  /                                                           /
PLC2042:.ASCIZ  /                                                           /
PLC2043:.ASCIZ  /                                                           /
PLC2044:.ASCIZ  /                                                           /
PLC2045:.ASCIZ  /                                                           /
PLC2046:.ASCIZ  /                                                           /
PLC2047:.ASCIZ  /                                                           /
PLC2048:.ASCIZ  /                                                           /
PLC2049:.ASCIZ  /                                                           /
PLC2050:.ASCIZ  /                                                           /
PLC2051:.ASCIZ  /                                                           /
PLC2052:.ASCIZ  /                                                           /
PLC2053:.ASCIZ  /                                                           /
PLC2054:.ASCIZ  /                                                           /
PLC2055:.ASCIZ  /                                                           /
PLC2056:.ASCIZ  /                                                           /
PLC2057:.ASCIZ  /                                                           /
PLC2058:.ASCIZ  /                                                           /
PLC2059:.ASCIZ  /                                                           /
PLC2060:.ASCIZ  /                                                           /
PLC2061:.ASCIZ  /                                                           /
PLC2062:.ASCIZ  /                                                           /
PLC2063:.ASCIZ  /                                                           /
PLC2064:.ASCIZ  /                                                           /
PLC2065:.ASCIZ  /                                                           /
PLC2066:.ASCIZ  /                                                           /
PLC2067:.ASCIZ  /                                                           /
PLC2068:.ASCIZ  /                                                           /
PLC2069:.ASCIZ  /                                                           /
PLC2070:.ASCIZ  /                                                           /
PLC2071:.ASCIZ  /                                                           /
PLC2072:.ASCIZ  /                                                           /
PLC2073:.ASCIZ  /                                                           /
PLC2074:.ASCIZ  /                                                           /
PLC2075:.ASCIZ  /                                                           /
PLC2076:.ASCIZ  /                                                           /
PLC2077:.ASCIZ  /                                                           /
PLC2078:.ASCIZ  /                                                           /
PLC2079:.ASCIZ  /                                                           /
PLC2080:.ASCIZ  /                                                           /
PLC2081:.ASCIZ  /                                                           /
PLC2082:.ASCIZ  /                                                           /
PLC2083:.ASCIZ  /                                                           /
PLC2084:.ASCIZ  /                                                           /
PLC2085:.ASCIZ  /                                                           /
PLC2086:.ASCIZ  /                                                           /
PLC2087:.ASCIZ  /                                                           /
PLC2088:.ASCIZ  /                                                           /
PLC2089:.ASCIZ  /                                                           /
PLC2090:.ASCIZ  /                                                           /
PLC2091:.ASCIZ  /                                                           /
PLC2092:.ASCIZ  /                                                           /
PLC2093:.ASCIZ  /                                                           /
PLC2094:.ASCIZ  /                                                           /
PLC2095:.ASCIZ  /                                                           /
PLC2096:.ASCIZ  /                                                           /
PLC2097:.ASCIZ  /                                                           /
PLC2098:.ASCIZ  /                                                           /
PLC2099:.ASCIZ  /                                                           /
PLC2100:.ASCIZ  /                                                           /
PLC2101:.ASCIZ  /                                                           /
PLC2102:.ASCIZ  /                                                           /
PLC2103:.ASCIZ  /                                                           /
PLC2104:.ASCIZ  /                                                           /
PLC2105:.ASCIZ  /                                                           /
PLC2106:.ASCIZ  /                                                           /
PLC2107:.ASCIZ  /                                                           /
PLC2108:.ASCIZ  /                                                           /
PLC2109:.ASCIZ  /                                                           /
PLC2110:.ASCIZ  /                                                           /
PLC2111:.ASCIZ  /                                                           /
PLC2112:.ASCIZ  /                                                           /
PLC2113:.ASCIZ  /                                                           /
PLC2114:.ASCIZ  /                                                           /
PLC2115:.ASCIZ  /                                                           /
PLC2116:.ASCIZ  /                                                           /
PLC2117:.ASCIZ  /                                                           /
PLC2118:.ASCIZ  /                                                           /
PLC2119:.ASCIZ  /                                                           /
PLC2120:.ASCIZ  /                                                           /
PLC2121:.ASCIZ  /                                                           /
PLC2122:.ASCIZ  /                                                           /
PLC2123:.ASCIZ  /                                                           /
PLC2124:.ASCIZ  /                                                           /
PLC2125:.ASCIZ  /                                                           /
PLC2126:.ASCIZ  /                                                           /
PLC2127:.ASCIZ  /                                                           /
PLC2128:.ASCIZ  /                                                           /
PLC2129:.ASCIZ  /                                                           /
PLC2130:.ASCIZ  /                                                           /
PLC2131:.ASCIZ  /                                                           /
PLC2132:.ASCIZ  /                                                           /
PLC2133:.ASCIZ  /                                                           /
PLC2134:.ASCIZ  /                                                           /
PLC2135:.ASCIZ  /                                                           /
PLC2136:.ASCIZ  /                                                           /
PLC2137:.ASCIZ  /                                                           /
PLC2138:.ASCIZ  /                                                           /
PLC2139:.ASCIZ  /                                                           /
PLC2140:.ASCIZ  /                                                           /
PLC2141:.ASCIZ  /                                                           /
PLC2142:.ASCIZ  /                                                           /
PLC2143:.ASCIZ  /                                                           /
PLC2144:.ASCIZ  /                                                           /
PLC2145:.ASCIZ  /                                                           /
PLC2146:.ASCIZ  /                                                           /
PLC2147:.ASCIZ  /                                                           /
PLC2148:.ASCIZ  /                                                           /
PLC2149:.ASCIZ  /                                                           /
PLC2150:.ASCIZ  /                                                           /
PLC2151:.ASCIZ  /                                                           /
PLC2152:.ASCIZ  /                                                           /
PLC2153:.ASCIZ  /                                                           /
PLC2154:.ASCIZ  /                                                           /
PLC2155:.ASCIZ  /                                                           /
PLC2156:.ASCIZ  /                                                           /
PLC2157:.ASCIZ  /                                                           /
PLC2158:.ASCIZ  /                                                           /
PLC2159:.ASCIZ  /                                                           /
PLC2160:.ASCIZ  /                                                           /
PLC2161:.ASCIZ  /                                                           /
PLC2162:.ASCIZ  /                                                           /
PLC2163:.ASCIZ  /                                                           /
PLC2164:.ASCIZ  /                                                           /
PLC2165:.ASCIZ  /                                                           /
PLC2166:.ASCIZ  /                                                           /
PLC2167:.ASCIZ  /                                                           /
PLC2168:.ASCIZ  /                                                           /
PLC2169:.ASCIZ  /                                                           /
PLC2170:.ASCIZ  /                                                           /
PLC2171:.ASCIZ  /                                                           /
PLC2172:.ASCIZ  /                                                           /
PLC2173:.ASCIZ  /                                                           /
PLC2174:.ASCIZ  /                                                           /
PLC2175:.ASCIZ  /                                                           /
PLC2176:.ASCIZ  /                                                           /
PLC2177:.ASCIZ  /                                                           /
PLC2178:.ASCIZ  /                                                           /
PLC2179:.ASCIZ  /                                                           /
PLC2180:.ASCIZ  /                                                           /
PLC2181:.ASCIZ  /                                                           /
PLC2182:.ASCIZ  /                                                           /
PLC2183:.ASCIZ  /                                                           /
PLC2184:.ASCIZ  /                                                           /
PLC2185:.ASCIZ  /                                                           /
PLC2186:.ASCIZ  /                                                           /
PLC2187:.ASCIZ  /                                                           /
PLC2188:.ASCIZ  /                                                           /
PLC2189:.ASCIZ  /                                                           /
PLC2190:.ASCIZ  /                                                           /
PLC2191:.ASCIZ  /                                                           /
PLC2192:.ASCIZ  /                                                           /
PLC2193:.ASCIZ  /                                                           /
PLC2194:.ASCIZ  /                                                           /
PLC2195:.ASCIZ  /                                                           /
PLC2196:.ASCIZ  /                                                           /
PLC2197:.ASCIZ  /                                                           /
PLC2198:.ASCIZ  /                                                           /
PLC2199:.ASCIZ  /                                                           /
PLC2200:.ASCIZ  /                                                           /
PLC2201:.ASCIZ  /                                                           /
PLC2202:.ASCIZ  /                                                           /
PLC2203:.ASCIZ  /                                                           /
PLC2204:.ASCIZ  /                                                           /
PLC2205:.ASCIZ  /                                                           /
PLC2206:.ASCIZ  /                                                           /
PLC2207:.ASCIZ  /                                                           /
PLC2208:.ASCIZ  /                                                           /
PLC2209:.ASCIZ  /                                                           /
PLC2210:.ASCIZ  /                                                           /
PLC2211:.ASCIZ  /                                                           /
PLC2212:.ASCIZ  /                                                           /
PLC2213:.ASCIZ  /                                                           /
PLC2214:.ASCIZ  /                                                           /
PLC2215:.ASCIZ  /                                                           /
PLC2216:.ASCIZ  /                                                           /
PLC2217:.ASCIZ  /                                                           /
PLC2218:.ASCIZ  /                                                           /
PLC2219:.ASCIZ  /                                                           /
PLC2220:.ASCIZ  /                                                           /
PLC2221:.ASCIZ  /                                                           /
PLC2222:.ASCIZ  /                                                           /
PLC2223:.ASCIZ  /                                                           /
PLC2224:.ASCIZ  /                                                           /
PLC2225:.ASCIZ  /                                                           /
PLC2226:.ASCIZ  /                                                           /
PLC2227:.ASCIZ  /                                                           /
PLC2228:.ASCIZ  /                                                           /
PLC2229:.ASCIZ  /$EXECUTEWINPROGRAM 00 0 "c:\fidia\custom\M02.bat"          /
PLC2230:.ASCIZ  /                                                           /
PLC2231:.ASCIZ  /                                                           /
PLC2232:.ASCIZ  /                                                           /
PLC2233:.ASCIZ  /                                                           /
PLC2234:.ASCIZ  /                                                           /
PLC2235:.ASCIZ  /                                                           /
PLC2236:.ASCIZ  /                                                           /
PLC2237:.ASCIZ  /                                                           /
PLC2238:.ASCIZ  "                                                           "
PLC2239:.ASCIZ  /                                                           /
PLC2240:.ASCIZ  /                                                           /
PLC2241:.ASCIZ  /                                                           /
PLC2242:.ASCIZ  /                                                           /
PLC2243:.ASCIZ  /                                                           /
PLC2244:.ASCIZ  /                                                           /
PLC2245:.ASCIZ  /                                                           /
PLC2246:.ASCIZ  /                                                           /
PLC2247:.ASCIZ  /                                                           /
PLC2248:.ASCIZ  /                                                           /
PLC2249:.ASCIZ  /                                                           /
PLC2250:.ASCIZ  /                                                           /
PLC2251:.ASCIZ  /                                                           /
PLC2252:.ASCIZ  /                                                           /
PLC2253:.ASCIZ  /                                                           /
PLC2254:.ASCIZ  /                                                           /
PLC2255:.ASCIZ  /                                                           /
PLC2256:.ASCIZ  /                                                           /
PLC2257:.ASCIZ  /                                                           /
PLC2258:.ASCIZ  /$EXECUTEWINPROGRAM 00 0 "c:\fidia\custom\SaveParDef.bat"   /
PLC2259:.ASCIZ  /$EXECUTEWINPROGRAM 00 0 "c:\fidia\custom\SaveParOff.bat"   /
PLC2260:.ASCIZ  /                                                           /
PLC2261:.ASCIZ  /                                                           /
PLC2262:.ASCIZ  /                                                           /
PLC2263:.ASCIZ  /                                                           /
PLC2264:.ASCIZ  /                                                           /
PLC2265:.ASCIZ  /                                                           /
PLC2266:.ASCIZ  /                                                           /
PLC2267:.ASCIZ  /                                                           /
PLC2268:.ASCIZ  /                                                           /
PLC2269:.ASCIZ  /                                                           /
PLC2270:.ASCIZ  /                                                           /
PLC2271:.ASCIZ  /                                                           /
PLC2272:.ASCIZ  /                                                           /
PLC2273:.ASCIZ  /                                                           /
PLC2274:.ASCIZ  /                                                           /
PLC2275:.ASCIZ  /                                                           /
PLC2276:.ASCIZ  /                                                           /
PLC2277:.ASCIZ  /                                                           /
PLC2278:.ASCIZ  /                                                           /
PLC2279:.ASCIZ  /                                                           /
PLC2280:.ASCIZ  /                                                           /
PLC2281:.ASCIZ  /                                                           /
PLC2282:.ASCIZ  /                                                           /
PLC2283:.ASCIZ  /                                                           /
PLC2284:.ASCIZ  /                                                           /
PLC2285:.ASCIZ  /                                                           /
PLC2286:.ASCIZ  /                                                           /
PLC2287:.ASCIZ  /                                                           /
PLC2288:.ASCIZ  /                                                           /
PLC2289:.ASCIZ  /                                                           /
PLC2290:.ASCIZ  /                                                           /
PLC2291:.ASCIZ  /                                                           /
PLC2292:.ASCIZ  /                                                           /
PLC2293:.ASCIZ  /                                                           /
PLC2294:.ASCIZ  /                                                           /
PLC2295:.ASCIZ  /                                                           /
PLC2296:.ASCIZ  /                                                           /
PLC2297:.ASCIZ  /                                                           /
PLC2298:.ASCIZ  /                                                           /
PLC2299:.ASCIZ  /                                                           /
PLC2300:.ASCIZ  /                                                           /
PLC2301:.ASCIZ  /                                                           /
PLC2302:.ASCIZ  /                                                           /
PLC2303:.ASCIZ  /                                                           /
PLC2304:.ASCIZ  /                                                           /
PLC2305:.ASCIZ  /                                                           /
PLC2306:.ASCIZ  /                                                           /
PLC2307:.ASCIZ  /                                                           /
PLC2308:.ASCIZ  /                                                           /
PLC2309:.ASCIZ  /                                                           /
PLC2310:.ASCIZ  /                                                           /
PLC2311:.ASCIZ  /                                                           /
PLC2312:.ASCIZ  /                                                           /
PLC2313:.ASCIZ  /                                                           /
PLC2314:.ASCIZ  /                                                           /
PLC2315:.ASCIZ  /                                                           /
PLC2316:.ASCIZ  /                                                           /
PLC2317:.ASCIZ  /                                                           /
PLC2318:.ASCIZ  /                                                           /
PLC2319:.ASCIZ  /                                                           /
PLC2320:.ASCIZ  /                                                           /
PLC2321:.ASCIZ  /                                                           /
PLC2322:.ASCIZ  /                                                           /
PLC2323:.ASCIZ  /                                                           /
PLC2324:.ASCIZ  /                                                           /
PLC2325:.ASCIZ  /                                                           /
PLC2326:.ASCIZ  /                                                           /
PLC2327:.ASCIZ  /                                                           /
PLC2328:.ASCIZ  /                                                           /
PLC2329:.ASCIZ  /                                                           /
PLC2330:.ASCIZ  /                                                           /
PLC2331:.ASCIZ  /                                                           /
PLC2332:.ASCIZ  /                                                           /
PLC2333:.ASCIZ  /                                                           /
PLC2334:.ASCIZ  /                                                           /
PLC2335:.ASCIZ  /                                                           /
PLC2336:.ASCIZ  /                                                           /
PLC2337:.ASCIZ  /                                                           /
PLC2338:.ASCIZ  /                                                           /
PLC2339:.ASCIZ  /                                                           /
PLC2340:.ASCIZ  /                                                           /
PLC2341:.ASCIZ  /                                                           /
PLC2342:.ASCIZ  /                                                           /
PLC2343:.ASCIZ  /                                                           /
PLC2344:.ASCIZ  /                                                           /
PLC2345:.ASCIZ  /                                                           /
PLC2346:.ASCIZ  /                                                           /
PLC2347:.ASCIZ  /                                                           /
PLC2348:.ASCIZ  /                                                           /
PLC2349:.ASCIZ  /                                                           /
PLC2350:.ASCIZ  /                                                           /
PLC2351:.ASCIZ  /                                                           /
PLC2352:.ASCIZ  /                                                           /
PLC2353:.ASCIZ  /                                                           /
PLC2354:.ASCIZ  /                                                           /
PLC2355:.ASCIZ  /                                                           /
PLC2356:.ASCIZ  /                                                           /
PLC2357:.ASCIZ  /                                                           /
PLC2358:.ASCIZ  /                                                           /
PLC2359:.ASCIZ  /                                                           /
PLC2360:.ASCIZ  /                                                           /
PLC2361:.ASCIZ  /                                                           /
PLC2362:.ASCIZ  /                                                           /
PLC2363:.ASCIZ  /                                                           /
PLC2364:.ASCIZ  /                                                           /
PLC2365:.ASCIZ  /                                                           /
PLC2366:.ASCIZ  /                                                           /
PLC2367:.ASCIZ  /                                                           /
PLC2368:.ASCIZ  /                                                           /
PLC2369:.ASCIZ  /                                                           /
PLC2370:.ASCIZ  /                                                           /
PLC2371:.ASCIZ  /                                                           /
PLC2372:.ASCIZ  /                                                           /
PLC2373:.ASCIZ  /                                                           /
PLC2374:.ASCIZ  /                                                           /
PLC2375:.ASCIZ  /                                                           /
PLC2376:.ASCIZ  /                                                           /
PLC2377:.ASCIZ  /                                                           /
PLC2378:.ASCIZ  /                                                           /
PLC2379:.ASCIZ  /                                                           /
PLC2380:.ASCIZ  /                                                           /
PLC2381:.ASCIZ  /                                                           /
PLC2382:.ASCIZ  /                                                           /
PLC2383:.ASCIZ  /                                                           /
PLC2384:.ASCIZ  /                                                           /
PLC2385:.ASCIZ  /                                                           /
PLC2386:.ASCIZ  /                                                           /
PLC2387:.ASCIZ  /                                                           /
PLC2388:.ASCIZ  /                                                           /
PLC2389:.ASCIZ  /                                                           /
PLC2390:.ASCIZ  /                                                           /
PLC2391:.ASCIZ  /                                                           /
PLC2392:.ASCIZ  /                                                           /
PLC2393:.ASCIZ  /                                                           /
PLC2394:.ASCIZ  /                                                           /
PLC2395:.ASCIZ  /                                                           /
PLC2396:.ASCIZ  /                                                           /
PLC2397:.ASCIZ  /                                                           /
PLC2398:.ASCIZ  /                                                           /
PLC2399:.ASCIZ  /                                                           /
PLC2400:.ASCIZ  /                                                           /
PLC2401:.ASCIZ  /                                                           /
PLC2402:.ASCIZ  /                                                           /
PLC2403:.ASCIZ  /                                                           /
PLC2404:.ASCIZ  /                                                           /
PLC2405:.ASCIZ  /                                                           /
PLC2406:.ASCIZ  /                                                           /
PLC2407:.ASCIZ  /                                                           /
PLC2408:.ASCIZ  /                                                           /
PLC2409:.ASCIZ  /                                                           /
PLC2410:.ASCIZ  /                                                           /
PLC2411:.ASCIZ  /                                                           /
PLC2412:.ASCIZ  /                                                           /
PLC2413:.ASCIZ  /                                                           /
PLC2414:.ASCIZ  /                                                           /
PLC2415:.ASCIZ  /                                                           /
PLC2416:.ASCIZ  /                                                           /
PLC2417:.ASCIZ  /                                                           /
PLC2418:.ASCIZ  /                                                           /
PLC2419:.ASCIZ  /                                                           /
PLC2420:.ASCIZ  /                                                           /
PLC2421:.ASCIZ  /                                                           /
PLC2422:.ASCIZ  /                                                           /
PLC2423:.ASCIZ  /                                                           /
PLC2424:.ASCIZ  /                                                           /
PLC2425:.ASCIZ  /                                                           /
PLC2426:.ASCIZ  /                                                           /
PLC2427:.ASCIZ  /                                                           /
PLC2428:.ASCIZ  /                                                           /
PLC2429:.ASCIZ  /                                                           /
PLC2430:.ASCIZ  /                                                           /
PLC2431:.ASCIZ  /                                                           /
PLC2432:.ASCIZ  /                                                           /
PLC2433:.ASCIZ  /                                                           /
PLC2434:.ASCIZ  /                                                           /
PLC2435:.ASCIZ  /                                                           /
PLC2436:.ASCIZ  /                                                           /
PLC2437:.ASCIZ  /                                                           /
PLC2438:.ASCIZ  /                                                           /
PLC2439:.ASCIZ  /                                                           /
PLC2440:.ASCIZ  /                                                           /
PLC2441:.ASCIZ  /                                                           /
PLC2442:.ASCIZ  /                                                           /
PLC2443:.ASCIZ  /                                                           /
PLC2444:.ASCIZ  /                                                           /
PLC2445:.ASCIZ  /                                                           /
PLC2446:.ASCIZ  /                                                           /
PLC2447:.ASCIZ  /                                                           /
PLC2448:.ASCIZ  /                                                           /
PLC2449:.ASCIZ  /                                                           /
PLC2450:.ASCIZ  /                                                           /
PLC2451:.ASCIZ  /                                                           /
PLC2452:.ASCIZ  /                                                           /
PLC2453:.ASCIZ  /                                                           /
PLC2454:.ASCIZ  /                                                           /
PLC2455:.ASCIZ  /                                                           /
PLC2456:.ASCIZ  /                                                           /
PLC2457:.ASCIZ  /                                                           /
PLC2458:.ASCIZ  /                                                           /
PLC2459:.ASCIZ  /                                                           /
PLC2460:.ASCIZ  /                                                           /
PLC2461:.ASCIZ  /                                                           /
PLC2462:.ASCIZ  /                                                           /
PLC2463:.ASCIZ  /                                                           /
PLC2464:.ASCIZ  /                                                           /
PLC2465:.ASCIZ  /                                                           /
PLC2466:.ASCIZ  /                                                           /
PLC2467:.ASCIZ  /                                                           /
PLC2468:.ASCIZ  /                                                           /
PLC2469:.ASCIZ  /                                                           /
PLC2470:.ASCIZ  /                                                           /
PLC2471:.ASCIZ  /                                                           /
PLC2472:.ASCIZ  /                                                           /
PLC2473:.ASCIZ  /                                                           /
PLC2474:.ASCIZ  /                                                           /
PLC2475:.ASCIZ  /                                                           /
PLC2476:.ASCIZ  /                                                           /
PLC2477:.ASCIZ  /                                                           /
PLC2478:.ASCIZ  /                                                           /
PLC2479:.ASCIZ  /                                                           /
PLC2480:.ASCIZ  /                                                           /
PLC2481:.ASCIZ  /                                                           /
PLC2482:.ASCIZ  /                                                           /
PLC2483:.ASCIZ  /                                                           /
PLC2484:.ASCIZ  /                                                           /
PLC2485:.ASCIZ  /                                                           /
PLC2486:.ASCIZ  /                                                           /
PLC2487:.ASCIZ  /                                                           /
PLC2488:.ASCIZ  /                                                           /
PLC2489:.ASCIZ  /                                                           /
PLC2490:.ASCIZ  /                                                           /
PLC2491:.ASCIZ  /                                                           /
PLC2492:.ASCIZ  /                                                           /
PLC2493:.ASCIZ  /                                                           /
PLC2494:.ASCIZ  /                                                           /
PLC2495:.ASCIZ  /                                                           /
PLC2496:.ASCIZ  /                                                           /
PLC2497:.ASCIZ  /                                                           /
PLC2498:.ASCIZ  /                                                           /
PLC2499:.ASCIZ  /                                                           /
PLC2500:.ASCIZ  /                                                           /
PLC2501:.ASCIZ  /                                                           /
PLC2502:.ASCIZ  /                                                           /
PLC2503:.ASCIZ  /                                                           /
PLC2504:.ASCIZ  /                                                           /
PLC2505:.ASCIZ  /                                                           /
PLC2506:.ASCIZ  /                                                           /
PLC2507:.ASCIZ  /                                                           /
PLC2508:.ASCIZ  /                                                           /
PLC2509:.ASCIZ  /                                                           /
PLC2510:.ASCIZ  /                                                           /
PLC2511:.ASCIZ  /                                                           /
PLC2512:.ASCIZ  /                                                           /
PLC2513:.ASCIZ  /                                                           /
PLC2514:.ASCIZ  /                                                           /
PLC2515:.ASCIZ  /                                                           /
PLC2516:.ASCIZ  /                                                           /
PLC2517:.ASCIZ  /                                                           /
PLC2518:.ASCIZ  /                                                           /
PLC2519:.ASCIZ  /                                                           /
PLC2520:.ASCIZ  /                                                           /
PLC2521:.ASCIZ  /                                                           /
PLC2522:.ASCIZ  /                                                           /
PLC2523:.ASCIZ  /                                                           /
PLC2524:.ASCIZ  /                                                           /
PLC2525:.ASCIZ  /                                                           /
PLC2526:.ASCIZ  /                                                           /
PLC2527:.ASCIZ  /                                                           /
PLC2528:.ASCIZ  /                                                           /
PLC2529:.ASCIZ  /                                                           /
PLC2530:.ASCIZ  /                                                           /
PLC2531:.ASCIZ  /                                                           /
PLC2532:.ASCIZ  /                                                           /
PLC2533:.ASCIZ  /                                                           /
PLC2534:.ASCIZ  /                                                           /
PLC2535:.ASCIZ  /                                                           /
PLC2536:.ASCIZ  /                                                           /
PLC2537:.ASCIZ  /                                                           /
PLC2538:.ASCIZ  /                                                           /
PLC2539:.ASCIZ  /                                                           /
PLC2540:.ASCIZ  /                                                           /
PLC2541:.ASCIZ  /                                                           /
PLC2542:.ASCIZ  /                                                           /
PLC2543:.ASCIZ  /                                                           /
PLC2544:.ASCIZ  /                                                           /
PLC2545:.ASCIZ  /                                                           /
PLC2546:.ASCIZ  /                                                           /
PLC2547:.ASCIZ  /                                                           /
PLC2548:.ASCIZ  /                                                           /
PLC2549:.ASCIZ  /                                                           /
PLC2550:.ASCIZ  /                                                           /
PLC2551:.ASCIZ  /                                                           /
PLC2552:.ASCIZ  /                                                           /
PLC2553:.ASCIZ  /                                                           /
PLC2554:.ASCIZ  /                                                           /
PLC2555:.ASCIZ  /                                                           /
PLC2556:.ASCIZ  /                                                           /
PLC2557:.ASCIZ  /                                                           /
PLC2558:.ASCIZ  /                                                           /
PLC2559:.ASCIZ  /                                                           /
PLC2560:.ASCIZ  /                                                           /
PLC2561:.ASCIZ  /                                                           /
PLC2562:.ASCIZ  /                                                           /
PLC2563:.ASCIZ  /                                                           /
PLC2564:.ASCIZ  /                                                           /
PLC2565:.ASCIZ  /                                                           /
PLC2566:.ASCIZ  /                                                           /
PLC2567:.ASCIZ  /                                                           /
PLC2568:.ASCIZ  /                                                           /
PLC2569:.ASCIZ  /                                                           /
PLC2570:.ASCIZ  /                                                           /
PLC2571:.ASCIZ  /                                                           /
PLC2572:.ASCIZ  /                                                           /
PLC2573:.ASCIZ  /                                                           /
PLC2574:.ASCIZ  /                                                           /
PLC2575:.ASCIZ  /                                                           /
PLC2576:.ASCIZ  /                                                           /
PLC2577:.ASCIZ  /                                                           /
PLC2578:.ASCIZ  /                                                           /
PLC2579:.ASCIZ  /                                                           /
PLC2580:.ASCIZ  /                                                           /
PLC2581:.ASCIZ  /                                                           /
PLC2582:.ASCIZ  /                                                           /
PLC2583:.ASCIZ  /                                                           /
PLC2584:.ASCIZ  /                                                           /
PLC2585:.ASCIZ  /                                                           /
PLC2586:.ASCIZ  /                                                           /
PLC2587:.ASCIZ  /                                                           /
PLC2588:.ASCIZ  /                                                           /
PLC2589:.ASCIZ  /                                                           /
PLC2590:.ASCIZ  /                                                           /
PLC2591:.ASCIZ  /                                                           /
PLC2592:.ASCIZ  /                                                           /
PLC2593:.ASCIZ  /                                                           /
PLC2594:.ASCIZ  /                                                           /
PLC2595:.ASCIZ  /                                                           /
PLC2596:.ASCIZ  /                                                           /
PLC2597:.ASCIZ  /                                                           /
PLC2598:.ASCIZ  /                                                           /
PLC2599:.ASCIZ  /                                                           /
PLC2600:.ASCIZ  /                                                           /
PLC2601:.ASCIZ  /                                                           /
PLC2602:.ASCIZ  /                                                           /
PLC2603:.ASCIZ  /                                                           /
PLC2604:.ASCIZ  /                                                           /
PLC2605:.ASCIZ  /                                                           /
PLC2606:.ASCIZ  /                                                           /
PLC2607:.ASCIZ  /                                                           /
PLC2608:.ASCIZ  /                                                           /
PLC2609:.ASCIZ  /                                                           /
PLC2610:.ASCIZ  /                                                           /
PLC2611:.ASCIZ  /                                                           /
PLC2612:.ASCIZ  /                                                           /
PLC2613:.ASCIZ  /                                                           /
PLC2614:.ASCIZ  /                                                           /
PLC2615:.ASCIZ  /                                                           /
PLC2616:.ASCIZ  /                                                           /
PLC2617:.ASCIZ  /                                                           /
PLC2618:.ASCIZ  /                                                           /
PLC2619:.ASCIZ  /                                                           /
PLC2620:.ASCIZ  /                                                           /
PLC2621:.ASCIZ  /                                                           /
PLC2622:.ASCIZ  /                                                           /
PLC2623:.ASCIZ  /                                                           /
PLC2624:.ASCIZ  /                                                           /
PLC2625:.ASCIZ  /                                                           /
PLC2626:.ASCIZ  /                                                           /
PLC2627:.ASCIZ  /                                                           /
PLC2628:.ASCIZ  /                                                           /
PLC2629:.ASCIZ  /                                                           /
PLC2630:.ASCIZ  /                                                           /
PLC2631:.ASCIZ  /                                                           /
PLC2632:.ASCIZ  /                                                           /
PLC2633:.ASCIZ  /                                                           /
PLC2634:.ASCIZ  /                                                           /
PLC2635:.ASCIZ  /                                                           /
PLC2636:.ASCIZ  /                                                           /
PLC2637:.ASCIZ  /                                                           /
PLC2638:.ASCIZ  /                                                           /
PLC2639:.ASCIZ  /                                                           /
PLC2640:.ASCIZ  /                                                           /
PLC2641:.ASCIZ  /                                                           /
PLC2642:.ASCIZ  /                                                           /
PLC2643:.ASCIZ  /                                                           /
PLC2644:.ASCIZ  /                                                           /
PLC2645:.ASCIZ  /                                                           /
PLC2646:.ASCIZ  /                                                           /
PLC2647:.ASCIZ  /                                                           /
PLC2648:.ASCIZ  /                                                           /
PLC2649:.ASCIZ  /                                                           /
PLC2650:.ASCIZ  /                                                           /
PLC2651:.ASCIZ  /                                                           /
PLC2652:.ASCIZ  /                                                           /
PLC2653:.ASCIZ  /                                                           /
PLC2654:.ASCIZ  /                                                           /
PLC2655:.ASCIZ  /                                                           /
PLC2656:.ASCIZ  /                                                           /
PLC2657:.ASCIZ  /                                                           /
PLC2658:.ASCIZ  /                                                           /
PLC2659:.ASCIZ  /                                                           /
PLC2660:.ASCIZ  /                                                           /
PLC2661:.ASCIZ  /                                                           /
PLC2662:.ASCIZ  /                                                           /
PLC2663:.ASCIZ  /                                                           /
PLC2664:.ASCIZ  /                                                           /
PLC2665:.ASCIZ  /                                                           /
PLC2666:.ASCIZ  /                                                           /
PLC2667:.ASCIZ  /                                                           /
PLC2668:.ASCIZ  /                                                           /
PLC2669:.ASCIZ  /                                                           /
PLC2670:.ASCIZ  /                                                           /
PLC2671:.ASCIZ  /                                                           /
PLC2672:.ASCIZ  /                                                           /
PLC2673:.ASCIZ  /                                                           /
PLC2674:.ASCIZ  /                                                           /
PLC2675:.ASCIZ  /                                                           /
PLC2676:.ASCIZ  /                                                           /
PLC2677:.ASCIZ  /                                                           /
PLC2678:.ASCIZ  /                                                           /
PLC2679:.ASCIZ  /                                                           /
PLC2680:.ASCIZ  /                                                           /
PLC2681:.ASCIZ  /                                                           /
PLC2682:.ASCIZ  /                                                           /
PLC2683:.ASCIZ  /                                                           /
PLC2684:.ASCIZ  /                                                           /
PLC2685:.ASCIZ  /                                                           /
PLC2686:.ASCIZ  /                                                           /
PLC2687:.ASCIZ  /                                                           /
PLC2688:.ASCIZ  /                                                           /
PLCEND: .WORD   0

 VID_SPDPOWER = 1
 XYZ_MOT = 1
 COMP_5AXES = 1
 IEC11_INTERF = 3
 LOOKAHEAD = 3
 MT_TIMERS = 1
 ACC_EXT = 1
 CG_RANGE = 1
 ADD_AXES = 5
 XY_INTERP = 1
 ROT_HEAD_NAME = 1
 MEAS_BOOSTEC = 1
 EXTTOOLTABLE = 2
 NO_WPM = 1
 VIRT_AXIS_POS = 6
 HEAD_MOT_P = 1
 HEAD_MOT_R = 1
 GE_LOGIC = 2
 BT_MACHINE = 2
 PALLET_MP630 = 2
 LOSMA_KNOL = 1
 DINAMIC_DRAW = 1
 AER_G996_60 = 2
 CND_ID24A = 1
 DISPLAYSP = 1
 ROTO_PALLET = 1
 ACTIVE_TUNING = 1
 LIMITI = 1
 GX = 1
 MQR = 1
 PSMC1 = 1
 TOOL_LIFE = 1
 BLUM = 2
 CPU8 = 1
 NRA = 6
 NRG = 6
 HANDWHEEL = 4
 SPINDLE = 1
 AXSPD = 2
 AXPLC = 4
 AXVIS = 3
 FDD_DRIVE = 1
 RTCP = 1
 VIRCAN = 1
 TAPPING = 1
 TERMIC = 1
 ADAPTIVE = 1
 CNTGP = 3
 HPX03 = 1
 PBC1 = 1
 PJ10 = 1
 MEMVIS = 3
 ROTO5 = 1
 RTCINV = 1
 DGT = 6
 X_TANDEM = 5
 PLCINT = 1
 PSC1 = 1
 HMS = 2
 N_AUCOL = 10
 N_PROC = 100
 SP1_TANDEM = 1
 EXT_SCREW = 2
 CACCA_1 = None
